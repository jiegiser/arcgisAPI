Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Utility=function(){};SuperMap.Web.Realspace.Utility.registerClass("SuperMap.Web.Realspace.Utility",null,Sys.IDisposable);SuperMap.Web.Realspace.Utility._SceneControl=null;function Map(){this.elements=new Array();this.size=function(){return this.elements.length};this.isEmpty=function(){return(this.elements.length<1)};this.clear=function(){this.elements=new Array()};this.put=function(b,a){this.elements.push({key:b,value:a})};this.remove=function(a){var c=false;try{for(i=0;i<this.elements.length;i++){if(this.elements[i].key==a){this.elements.splice(i,1);return true}}}catch(b){c=false}return c};this.get=function(a){try{for(i=0;i<this.elements.length;i++){if(this.elements[i].key==a){return this.elements[i].value}}}catch(b){return null}};this.element=function(a){if(a<0||a>=this.elements.length){return null}return this.elements[a]}}SuperMap.Web.Realspace.Utility._SceneControlMap=new Map();SuperMap.Web.Realspace.Utility._ConvertSysEx2Realspace=function(b){var a=new Error();if(b.name=="Sys.ArgumentException"){a.name=SuperMap.Web.Realspace.ExceptionName.ArgumentIllegal;a.message=b.message.replace(/Sys.ArgumentException/,"ArgumentIllegal")}else{if(b.name=="Sys.ArgumentNullException"){a.name=SuperMap.Web.Realspace.ExceptionName.ArgumentNullIllegal;a.message=b.message.replace(/Sys.ArgumentNullException/,"ArgumentNullIllegal")}else{if(b.name=="Sys.ArgumentOutOfRangeException"){a.name=SuperMap.Web.Realspace.ExceptionName.ArgumentOutOfRange;a.message=b.message.replace(/Sys.ArgumentOutOfRangeException/,"ArgumentOutOfRange")}else{if(b.name=="Sys.ArgumentTypeException"){a.name=SuperMap.Web.Realspace.ExceptionName.ArgumentTypeIllegal;a.message=b.message.replace(/Sys.ArgumentTypeException/,"ArgumentTypeIllegal")}else{if(b.name=="Sys.ParameterCountException"){a.name=SuperMap.Web.Realspace.ExceptionName.ParameterCountIllegal;a.message=b.message.replace(/Sys.ParameterCountException/,"ParameterCountIllegal")}else{if(b.name=="Sys.ArgumentUndefinedException"){a.name=SuperMap.Web.Realspace.ExceptionName.ArgumentUndefinedIllegal;a.message=b.message.replace(/Sys.ArgumentUndefinedException/,"ArgumentUndefinedIllegal")}}}}}}return a};SuperMap.Web.Realspace.Utility._getLibVersion=function(){return"7.0.2.11506"};SuperMap.Web.Realspace.Utility.projectionTranslate=function(d,b,c){if(SuperMap.Web.Realspace.Utility._SceneControl!=null){var a=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(d);SuperMap.Web.Realspace.Utility._SceneControl._get_innerSceneControl().ProjectionTranslate(a,b,c);return new SuperMap.Web.Core.Point2D(a.X,a.Y)}return null};var DATA_MIN=-657434;var DATA_MAX=2958465;var SECOND_HALF=1/172800;var g_nMonthDays=[0,31,59,90,120,151,181,212,243,273,304,334,365];SuperMap.Web.Realspace.Utility.convertDateToDouble=function(e){var g=e.getYear();var d=e.getMonth();var b=e.getDate();var c=e.getHours();var k=e.getMinutes();var l=e.getSeconds();if(g>9999||d<1||d>12){return}var h=((g&3)==0)&&((g%100)!=0||(g%400)==0);var j=g_nMonthDays[d]-g_nMonthDays[d-1]+((h&&b==29&&d==2)?1:0);if(b<1||b>j||c>23||k>59||l>59){return}var a=0;var f=0;a=Math.floor(g*365+g/4-g/100+g/400+g_nMonthDays[d-1]+b);if(d<=2&&h){--a}a-=693959;f=((c*3600)+(k*60)+(l))/86400;m_time=a+((a>=0)?f:-f);return m_time};SuperMap.Web.Realspace.Utility.convertDoubleToDate=function(e){var p;var m;var f;var g;var n;var q;if(e>DATA_MAX||e<DATA_MIN){p=1899;m=12;f=30;g=0;n=0;q=0;return new Date(p,m,f,g,n,q)}var r=0;var a=0;var d=0;var l=0;var h=0;var c=0;var k=0;var o=0;var j=true;var b=e;b+=((e>0)?SECOND_HALF:-SECOND_HALF);r=Math.floor(b)+693959;b=Math.abs(b);a=Math.floor((b-Math.floor(b))*86400);l=Math.floor(r/146097);r%=146097;h=Math.floor((r-1)/36524);if(h!=0){r=(r-1)%36524;c=Math.floor((r+1)/1461);if(c!=0){k=Math.floor((r+1)%1461)}else{j=false;k=Math.floor(r)}}else{c=Math.floor(r/1461);k=Math.floor(r%1461)}if(!j){o=Math.floor(k/365);k%=365}else{o=Math.floor((k-1)/365);if(o!=0){k=(k-1)%365}}p=l*400+h*100+c*4+o;if(o==0&&j){if(k==59){m=2;f=29;if(a!=0){q=a%60;d=Math.floor(a/60);n=d%60;g=Math.floor(d/60)}else{g=n=q=0}return new Date(p,m,f,g,n,q)}if(k>=60){k--}}k++;for(m=(k>>5)+1;k>g_nMonthDays[m];m++){}f=(k-g_nMonthDays[m-1]);if(a!=0){q=a%60;d=Math.floor(a/60);n=d%60;g=Math.floor(d/60)}else{g=n=q=0}return new Date(p,m,f,g,n,q)};Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Resources=function(){};SuperMap.Web.Realspace.Resources.zh_cn={Realspace_PlugIn_Version_Info:"当前安装的插件版本为:",Realspace_Couldnt_Get_Version_Info:"无法获取到版本信息",Realspace_No_Update_Available:"当前无可用的更新",Realspace_PlugIn_Is_Not_Installed:"在查看三维场景之前, 您必须安装Realspace三维场景插件到您的计算机上",Realspace_Browser_Is_Not_Supported:"该浏览器版本当前不支持，请更换为Internet Explorer 6.0及其以上版本",Realspace_Argument_Type_Is_Illegal:"参数类型非法",Realspace_Unkonwn_Error:"未知错误",Realspace_Argument_Number_Is_Illegal:"参数个数非法",Realspace_Operation_Failed:"操作失败",Realspace_Open_ModelFile_Failed:"获取模型文件失败或文件结构错误，无法打开文件",Realspace_Open_PictureFile_Failed:"获取图片文件失败或文件结构错误，无法打开文件",Realspace_PlugIn_Lower:"您当前使用的插件版本与脚本库版本出现不兼容，为了保证您的正常使用请将插件升级到:",Realspace_Lib_Lower:"您当前使用的插件版本与脚本库版本出现不兼容，为了保证您的正常使用请将插件还原到:",Realspace_SceneAntialias_Failed:"设置场景反走样失败，可能是用户账户控制导致，请尝试关闭UAC",Realspace_RenderSystem_Is_Not_Supported:"您的系统的OpenGL版本较低，请更新显卡驱动"};SuperMap.Web.Realspace.Resources.registerClass("SuperMap.Web.Realspace.Resources");Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.PixelToGlobeMode=function(){throw Error.notImplemented()};SuperMap.Web.Realspace.PixelToGlobeMode.prototype={TerrainAndModel:0,Terrain:1};SuperMap.Web.Realspace.PixelToGlobeMode.registerEnum("SuperMap.Web.Realspace.PixelToGlobeMode");SuperMap.Web.Realspace.FlyStatus=function(){throw Error.notImplemented()};SuperMap.Web.Realspace.FlyStatus.prototype={FSTOP:0,FPAUSE:1,FPLAY:2};SuperMap.Web.Realspace.FlyStatus.registerEnum("SuperMap.Web.Realspace.FlyStatus");SuperMap.Web.Realspace.AltitudeMode=function(){throw Error.notImplemented()};SuperMap.Web.Realspace.AltitudeMode.prototype={CLAMP_TO_GROUND:0,RELATIVE_TO_GROUND:1,ABSOLUTE:2,RELATIVE_TO_UNDERGROUND:3,CLAMP_TO_OBJECT:6};SuperMap.Web.Realspace.AltitudeMode.registerEnum("SuperMap.Web.Realspace.AltitudeMode");SuperMap.Web.Realspace.ScreenCoordinateUnit=function(){throw Error.notImplemented()};SuperMap.Web.Realspace.ScreenCoordinateUnit.prototype={RATIO:0,PIXEL:1};SuperMap.Web.Realspace.ScreenCoordinateUnit.registerEnum("SuperMap.Web.Realspace.ScreenCoordinateUnit");SuperMap.Web.Realspace.FlagType=function(){throw Error.notImplemented()};SuperMap.Web.Realspace.FlagType.prototype={NOKEY:0,LBUTTON:1,RBUTTON:2,SHIFT:4,CONTROL:8,ALT:16,MBUTTON:32,WHEEL:64,HITGLOBE:1024,ESC:2048,DELETE:4096};SuperMap.Web.Realspace.FlagType.registerEnum("SuperMap.Web.Realspace.FlagType",true);SuperMap.Web.Realspace.FlyingMode=function(){throw Error.notImplemented()};SuperMap.Web.Realspace.FlyingMode.prototype={JUMP:1,ROTATE:2,PLAY:3,MULTIPOINTFLY_NORMAL:4,MULTIPOINTFLY_DIRECT:5,CAMERA_NORMAL:6,CAMERASTATE_DIRECT:7,EYEPLAY:8,LIMITSPEED:9,FLYDISTANCE:10,FLYTILT:11,FLYHEADING:12};SuperMap.Web.Realspace.FlyingMode.registerEnum("SuperMap.Web.Realspace.FlyingMode");SuperMap.Web.Realspace.Layer3DType=function(){throw Error.notImplemented()};SuperMap.Web.Realspace.Layer3DType.prototype={NONE:0,IMAGE:1,KML:2,MODEL:7,TERRAIN:8,KMZ:102,VECTOR:10,WMS:11,WMTS:12,OSGB:13};SuperMap.Web.Realspace.Layer3DType.registerEnum("SuperMap.Web.Realspace.Layer3DType");SuperMap.Web.Realspace.Layer3DDataType=function(){throw Error.notImplemented()};SuperMap.Web.Realspace.Layer3DDataType.prototype={UNKNOWNDATA:-1,POINTDATA:1,LINEDATA:3,REGIONDATA:5,TEXTDATA:7,IMAGEDATA:81,GRIDDATA:83,DEMDATA:84,POINTZDATA:101,LINEZDATA:102,REGIONZDATA:105,MODELDATA:106,OVERLAYDATA:107,KMLDATA:108,TINDATA:139,CADDATA:149};SuperMap.Web.Realspace.Layer3DDataType.registerEnum("SuperMap.Web.Realspace.Layer3DDataType");SuperMap.Web.Realspace.ExceptionName=function(){throw Error.notImplemented()};SuperMap.Web.Realspace.ExceptionName.prototype={BrowserNotSupport:1,PlugInNotInstalled:2,OperationFailed:3,ArgumentIllegal:4,ArgumentNullIllegal:5,ArgumentOutOfRange:6,ArgumentTypeIllegal:7,ParameterCountIllegal:8,ArgumentUndefinedIllegal:9,FileOrDownloadFailed:10,RenderSystemIsNotSupported:11,PluginVersionLower:12,LibVersionLower:13,SceneAntialiasFailed:14};SuperMap.Web.Realspace.ExceptionName.registerEnum("SuperMap.Web.Realspace.ExceptionName");Type.registerNamespace("SuperMap.Web.UI.Action3Ds");SuperMap.Web.UI.Action3Ds.SceneActionType=function(){throw Error.notImplemented()};SuperMap.Web.UI.Action3Ds.SceneActionType.prototype={NULL:0,PAN:1,ZOOMIN:2,ZOOMOUT:3,ZOOMFREE:4,POINTSELECT:10,MEASUREDISTANCE:31,MEASUREAREA:32,MEASUREHEIGHT:33,MEASURETERRAINDISTANCE:37,PANSELECT:105};SuperMap.Web.UI.Action3Ds.SceneActionType.registerEnum("SuperMap.Web.UI.Action3Ds.SceneActionType");Type.registerNamespace("SuperMap.Web.Core");SuperMap.Web.Core.Fill3DMode=function(){throw Error.notImplemented()};SuperMap.Web.Core.Fill3DMode.prototype={FACE:1,LINE:2,FACEANDLINE:3};SuperMap.Web.Core.Fill3DMode.registerEnum("SuperMap.Web.Core.Fill3DMode");SuperMap.Web.Core.Feature3DSearchOption=function(){throw Error.notImplemented()};SuperMap.Web.Core.Feature3DSearchOption.prototype={AllFeatures:0,TopFeaturesOnly:1};SuperMap.Web.Core.Feature3DSearchOption.registerEnum("SuperMap.Web.Core.Feature3DSearchOption");SuperMap.Web.Core.TextAlignment=function(){throw Error.notImplemented()};SuperMap.Web.Core.TextAlignment.prototype={TopLeft:0,TopCenter:1,TopRight:2,BaselineLeft:3,BaselineCenter:4,BaselineRight:5,BottomLeft:6,BottomCenter:7,BottomRight:8,MiddleLeft:9,MiddleCenter:10,MiddleRight:11};SuperMap.Web.Core.TextAlignment.registerEnum("SuperMap.Web.Core.TextAlignment");SuperMap.Web.Core.GeometryType=function(){throw Error.notImplemented()};SuperMap.Web.Core.GeometryType.prototype={GEONULL:0,GEOPOINT3D:101,GEOLINE3D:103,GEOREGION3D:105,GEOTEXT3D:107,GEOPLACEMARK:108,GEOCOMPOUND:1000,GEOMODEL:1201,GEOPICTURE3D:1202,GEOSPHERE:1203,GEOHEMISPHERE:1204,GEOBOX:1205,GEOCYLINDER:1206,GEOCONE:1207,GEOPYRAMID:1208,GEOPIE3D:1209,GEOCIRCLE3D:1210,GEOPIECYLINDER:1211,GEOELLIPSOID:1212,GEOPARTICLE:1213};SuperMap.Web.Core.GeometryType.registerEnum("SuperMap.Web.Core.GeometryType");SuperMap.Web.Core.Feature3DType=function(){throw Error.notImplemented()};SuperMap.Web.Core.Feature3DType.prototype={FEATURE3DOBJECT:2,FEATURE3DTREE:3};SuperMap.Web.Core.Feature3DType.registerEnum("SuperMap.Web.Core.Feature3DType");SuperMap.Web.Core.ParticleType=function(){throw Error.notImplemented()};SuperMap.Web.Core.ParticleType.prototype={Fire:1,Smoke:2,FireSmoke:3,Fountain:4,Explode:5,Rain:6,Snow:7,Tailflame:8};SuperMap.Web.Core.ParticleType.registerEnum("SuperMap.Web.Core.ParticleType");SuperMap.Web.Realspace.StereoMode=function(){throw Error.notImplemented()};SuperMap.Web.Realspace.StereoMode.prototype={Anaglyphic:0,QuadBuffer:1,HorizontalSplit:2,VerticalSplit:3};SuperMap.Web.Realspace.StereoMode.registerEnum("SuperMap.Web.Realspace.StereoMode");SuperMap.Web.Realspace.ParallaxMode=function(){throw Error.notImplemented()};SuperMap.Web.Realspace.ParallaxMode.prototype={NegativeParallax:0,PositiveParallax:1};SuperMap.Web.Realspace.ParallaxMode.registerEnum("SuperMap.Web.Realspace.ParallaxMode");SuperMap.Web.Realspace.SceneType=function(){throw Error.notImplemented()};SuperMap.Web.Realspace.SceneType.prototype={Globe:0,Flat:1};SuperMap.Web.Realspace.SceneType.registerEnum("SuperMap.Web.Realspace.SceneType");SuperMap.Web.Realspace.ImageType=function(){throw Error.notImplemented()};SuperMap.Web.Realspace.ImageType.prototype={BMP:121,JPG:122,PNG:123};SuperMap.Web.Realspace.ImageType.registerEnum("SuperMap.Web.Realspace.ImageType");Type.registerNamespace("SuperMap.Web.Core");SuperMap.Web.Core.Conversion=function(){};SuperMap.Web.Core.Conversion.registerClass("SuperMap.Web.Core.Conversion",null,Sys.IDisposable);SuperMap.Web.Core.Conversion._ConvertObject2SRObject=function(t){if(SuperMap.Web.Core.Point.isInstanceOfType(t)){var o=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreatePoint();o.X=t.x;o.Y=t.y;return o}if(SuperMap.Web.Core.Point2D.isInstanceOfType(t)){var m=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreatePoint2D();m.X=t.x;m.Y=t.y;return m}if(SuperMap.Web.Core.Point3D.isInstanceOfType(t)){var r=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreatePoint3D();r.X=t.x;r.Y=t.y;r.Z=t.z;return r}if(SuperMap.Web.Core.Rectangle2D.isInstanceOfType(t)){var s=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateRectangle2D();s.Left=t.leftBottom.x;s.Bottom=t.leftBottom.y;s.Right=t.rightTop.x;s.Top=t.rightTop.y;return s}if(this._isPoint2Ds(t)){var j=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreatePoint2Ds();for(var q=0;q<t.length;q++){var f=t[q];var m=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreatePoint2D();m.X=f.x;m.Y=f.y;j.Add(m)}return j}if(SuperMap.Web.Core.GeoPoint.isInstanceOfType(t)){var d=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOPOINT3D);d.X=t.x;d.Y=t.y;return d}if(SuperMap.Web.Core.GeoLine.isInstanceOfType(t)){if(t.parts.length>0){var h=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOLINE3D);var e=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreatePoint3Ds();var p=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreatePoint3D();for(var l=0;l<t.parts.length;l++){var c=t.parts[l];e.RemoveAll();for(var k=0;k<c.length;k++){p.X=c[k].x;p.Y=c[k].y;e.Add(p)}h.AddPart(e)}return h}}if(SuperMap.Web.Core.GeoRegion.isInstanceOfType(t)){if(t.parts.length>0){var g=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOREGION3D);var e=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreatePoint3Ds();var p=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreatePoint3D();for(var l=0;l<t.parts.length;l++){var c=t.parts[l];e.RemoveAll();for(var k=0;k<c.length;k++){p.X=c[k].x;p.Y=c[k].y;e.Add(p)}g.AddPart(e)}return g}}if(SuperMap.Web.Core.GeoRegion3D.isInstanceOfType(t)){if(t.get_partCount()>0){var g=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOREGION3D);var e=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreatePoint3Ds();var p=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreatePoint3D();for(var l=0;l<t.get_partCount();l++){var n=t.getPart(l);e.RemoveAll();for(var a=0;a<n.get_count();a++){var b=n.get_item(a);p.X=b.x;p.Y=b.y;p.Z=b.z;e.Add(p)}g.AddPart(e)}return g}}return null};SuperMap.Web.Core.Conversion._isPoint2Ds=function(a){var b=Function._validateParams(arguments,[{name:"object",type:Array,elementType:SuperMap.Web.Core.Point2D}]);if(b){return false}else{return true}};SuperMap.Web.Core.Conversion._ConvertSRObject2Object=function(b,f){if("Point"==f){var j=new SuperMap.Web.Core.Point(b.X,b.Y);return j}if("Point2D"==f){var g=new SuperMap.Web.Core.Point2D(b.X,b.Y);return g}if("Point2Ds"==f){var h=[];for(var e=0;e<b.Count;e++){var a=b.Item(e);var g=new SuperMap.Web.Core.Point2D(a.X,a.Y);h.push(g)}return h}if("Point3D"==f){var d=new SuperMap.Web.Core.Point3D(b.X,b.Y,b.Z);return d}if("Rectangle2D"==f){var c=new SuperMap.Web.Core.Rectangle2D();c.leftBottom=new SuperMap.Web.Core.Point2D(b.Left,b.Bottom);c.rightTop=new SuperMap.Web.Core.Point2D(b.Right,b.Top);return c}if("SceneServiceInfo"==f){var k=new SuperMap.Web.Realspace.SceneServiceInfo();k.set_name(b.Name);k.set_serverRootAddress(b.ServerRootAddress);return k}return null};SuperMap.Web.Core.Conversion._CreateObjectBySRObject=function(d,k){if("Point3Ds"==k){var g=new SuperMap.Web.Core.Point3Ds();g._set_innerPoint3Ds(d);return g}if("BoundingBox"==k){var e=new SuperMap.Web.Core.BoundingBox();e._set_innerBoundingBox(d);return e}if("Vector3D"==k){var l=new SuperMap.Web.Core.Vector3D();l._set_innerVector3D(d);return l}if("TextPart3D"==k){var h=new SuperMap.Web.Core.TextPart3D();h._set_innerTextPart3D(d);return h}if("Geometry"==k){var a=null;switch(d.Type){case SuperMap.Web.Core.GeometryType.GEOPOINT3D:a=new SuperMap.Web.Core.GeoPoint3D();break;case SuperMap.Web.Core.GeometryType.GEOLINE3D:a=new SuperMap.Web.Core.GeoLine3D();break;case SuperMap.Web.Core.GeometryType.GEOREGION3D:a=new SuperMap.Web.Core.GeoRegion3D();break;case SuperMap.Web.Core.GeometryType.GEOTEXT3D:a=new SuperMap.Web.Core.GeoText3D();break;case SuperMap.Web.Core.GeometryType.GEOPLACEMARK:a=new SuperMap.Web.Core.GeoPlacemark();break;case SuperMap.Web.Core.GeometryType.GEOPICTURE3D:a=new SuperMap.Web.Core.GeoPicture3D();break;case SuperMap.Web.Core.GeometryType.GEOMODEL:a=new SuperMap.Web.Core.GeoModel();break;default:return null}a._set_innerGeometry(d);return a}if("Style3D"==k){var c=new SuperMap.Web.Core.Style3D();c._set_innerStyle3D(d);return c}if("Camera"==k){var j=new SuperMap.Web.Realspace.Camera();j._set_innerCamera(d);return j}if("TextStyle3D"==k){var b=new SuperMap.Web.Core.TextStyle3D();b._set_innerTextStyle3D(d);return b}if("Layer3D"==k){var f=new SuperMap.Web.Realspace.Layer3D("","","",-1,d);return f}return null};Type.registerNamespace("SuperMap.Web.Core");SuperMap.Web.Core.Point3D=function(a,c,b){this.x=parseFloat(a);this.y=parseFloat(c);this.z=parseFloat(b)};SuperMap.Web.Core.Point3D.prototype={toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},copy:function(a){if(SuperMap.Web.Core.Point3D.isInstanceOfType(a)){this.x=a.x;this.y=a.y;this.z=a.z}},equals:function(a){if(!SuperMap.Web.Core.Point3D.isInstanceOfType(a)){return false}if((a.x==this.x&&a.y==this.y&&a.z==this.z)||(a.isEmpty()&&this.isEmpty())){return true}else{return false}},isEmpty:function(){if(isNaN(this.x)||isNaN(this.y)||isNaN(this.z)){return true}else{return false}}};SuperMap.Web.Core.Point3D.fromJson=function(jsonObject){if(!jsonObject){return null}var object=jsonObject;if(typeof(jsonObject)==="string"){object=eval("("+jsonObject+")");object=eval("("+jsonObject+")")}var point3D=new SuperMap.Web.Core.Point3D(object.x,object.y,object.z);return point3D};SuperMap.Web.Core.Point3D.registerClass("SuperMap.Web.Core.Point3D");SuperMap.Web.Core.Point3Ds=function(c){this._innerPoint3Ds=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreatePoint3Ds();if(Function._validateParams(arguments,[{name:"pntArray",type:Array,elementType:SuperMap.Web.Core.Point3D}])==null){var d=c.length;for(var b=0;b<d;b++){if(!SuperMap.Web.Core.Point3D.isInstanceOfType(c[b])||c[b].isEmpty()){return false}var a=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(c[b]);if(a!=null){this._innerPoint3Ds.Add(a)}}}};SuperMap.Web.Core.Point3Ds.prototype={dispose:function(){this._innerPoint3Ds=null},_get_innerPoint3Ds:function(){if(this._innerPoint3Ds==null){return null}return this._innerPoint3Ds},_set_innerPoint3Ds:function(a){if(a==null){return null}this._innerPoint3Ds=a},get_count:function(){if(this._innerPoint3Ds==null){return 0}return this._innerPoint3Ds.Count},get_item:function(b){if(this._innerPoint3Ds==null){return null}var a=parseInt(b);if(!isNaN(a)){var c=this._innerPoint3Ds.get_Item(a);return new SuperMap.Web.Core.Point3D(c.X,c.Y,c.Z)}},isEmpty:function(){if(this._innerPoint3Ds==null){return true}if(this._innerPoint3Ds.Count){return false}else{return true}},add:function(b){if(this._innerPoint3Ds==null){return -1}if(!SuperMap.Web.Core.Point3D.isInstanceOfType(b)||b.isEmpty()){return -1}var a=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(b);if(a!=null){return this._innerPoint3Ds.Add(a)}},removeAll:function(){if(this._innerPoint3Ds==null){return}this._innerPoint3Ds.RemoveAll()},removeAt:function(b,c){if(this._innerPoint3Ds==null){return 0}var d=parseInt(b);var a=parseInt(c);if(!isNaN(d)){if(!isNaN(a)){return this._innerPoint3Ds.RemoveAt(d,a)}else{return this._innerPoint3Ds.RemoveAt(d,1)}}},insert:function(c,b){if(this._innerPoint3Ds==null){return false}var d=parseInt(b);if(!SuperMap.Web.Core.Point3D.isInstanceOfType(c)||c.isEmpty()||isNaN(d)){return false}var a=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(c);if(a!=null){return this._innerPoint3Ds.Insert(a,d)}else{return false}},toPoint2Ds:function(){var a=this._innerPoint3Ds.ToPoint2Ds();return SuperMap.Web.Core.Conversion._ConvertSRObject2Object(a,"Point2Ds")}};SuperMap.Web.Core.Point3Ds.registerClass("SuperMap.Web.Core.Point3Ds");SuperMap.Web.Core.Vector3D=function(a,c,b){this._innerVector3D=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateVector3D();if(this._innerVector3D==null){return}this._innerVector3D.X=parseFloat(a);this._innerVector3D.Y=parseFloat(c);this._innerVector3D.Z=parseFloat(b)};SuperMap.Web.Core.Vector3D.prototype={dispose:function(){this._innerVector3D=null},_get_innerVector3D:function(){if(this._innerVector3D==null){return null}return this._innerVector3D},_set_innerVector3D:function(a){if(a==null){return null}this._innerVector3D=a},toString:function(){return"("+this._innerVector3D.X+", "+this._innerVector3D.Y+", "+this._innerVector3D.Z+")"},get_x:function(){if(this._innerVector3D==null){return null}return this._innerVector3D.X},set_x:function(a){if(this._innerVector3D==null){return}this._innerVector3D.X=parseFloat(a)},get_y:function(){if(this._innerVector3D==null){return null}return this._innerVector3D.Y},set_y:function(a){if(this._innerVector3D==null){return}this._innerVector3D.Y=parseFloat(a)},get_z:function(){if(this._innerVector3D==null){return null}return this._innerVector3D.Z},set_z:function(a){if(this._innerVector3D==null){return}this._innerVector3D.Z=parseFloat(a)},get_length:function(){if(this._innerVector3D==null){return null}return this._innerVector3D.Length},copy:function(a){if(this._innerVector3D==null){return null}if(SuperMap.Web.Core.Vector3D.isInstanceOfType(a)){this._innerVector3D.X=a.get_x();this._innerVector3D.Y=a.get_y();this._innerVector3D.Z=a.get_z()}},equals:function(a){if(this._innerVector3D==null){return false}if(!SuperMap.Web.Core.Vector3D.isInstanceOfType(a)){return false}if(this._innerVector3D.Equals(a._get_innerVector3D())){return true}else{return false}},isEmpty:function(){if(this._innerVector3D==null){return true}if(isNaN(this._innerVector3D.X)||isNaN(this._innerVector3D.Y)||isNaN(this._innerVector3D.Z)){return true}else{return false}}};SuperMap.Web.Core.Vector3D.registerClass("SuperMap.Web.Core.Vector3D");SuperMap.Web.Core.BoundingBox=function(a,b){this._center=null;this._lower=null;this._upper=null;if((a==undefined&&b==undefined)||(SuperMap.Web.Core.Vector3D.isInstanceOfType(a)&&SuperMap.Web.Core.Vector3D.isInstanceOfType(b))){this._innerBoundingBox=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateBoundingBox();if(this._innerBoundingBox==null){return}if((a!=undefined&&b!=undefined)){this._innerBoundingBox.Lower=a._get_innerVector3D();this._innerBoundingBox.Upper=b._get_innerVector3D()}this._lower=new SuperMap.Web.Core.Vector3D(this._innerBoundingBox.Lower.X,this._innerBoundingBox.Lower.Y,this._innerBoundingBox.Lower.Z);this._upper=new SuperMap.Web.Core.Vector3D(this._innerBoundingBox.Upper.X,this._innerBoundingBox.Upper.Y,this._innerBoundingBox.Upper.Z);this._center=new SuperMap.Web.Core.Vector3D(this._innerBoundingBox.Center.X,this._innerBoundingBox.Center.Y,this._innerBoundingBox.Center.Z)}else{return}};SuperMap.Web.Core.BoundingBox.prototype={dispose:function(){this._innerBoundingBox=null;this._center=null;this._lower=null;this._upper=null},_get_innerBoundingBox:function(){if(this._innerBoundingBox==null){return null}return this._innerBoundingBox},_set_innerBoundingBox:function(a){if(a==null){return null}this._innerBoundingBox=a},toString:function(){if(this._innerBoundingBox==null){return null}return"{ "+this.get_lower().toString()+", "+this.get_upper().toString()+" }"},get_lower:function(){if(this._innerBoundingBox==null){return null}if(this._lower==null){this._lower=new SuperMap.Web.Core.Vector3D(0,0,0)}this._lower._set_innerVector3D(this._innerBoundingBox.Lower);return this._lower},set_lower:function(a){if(this._innerBoundingBox==null){return}if(SuperMap.Web.Core.Vector3D.isInstanceOfType(a)){this._innerBoundingBox.Lower=a._get_innerVector3D()}},get_upper:function(){if(this._innerBoundingBox==null){return null}if(this._upper==null){this._upper=new SuperMap.Web.Core.Vector3D(0,0,0)}this._upper._set_innerVector3D(this._innerBoundingBox.Upper);return this._upper},set_upper:function(a){if(this._innerBoundingBox==null){return}if(SuperMap.Web.Core.Vector3D.isInstanceOfType(a)){this._innerBoundingBox.Upper=a._get_innerVector3D()}},get_center:function(){if(this._innerBoundingBox==null){return null}if(this._center==null){this._center=new SuperMap.Web.Core.Vector3D(0,0,0)}this._center._set_innerVector3D(this._innerBoundingBox.Center);return this._center},copy:function(a){if(this._innerBoundingBox==null){return null}if(SuperMap.Web.Core.BoundingBox.isInstanceOfType(a)){if(a.isEmpty()){this._innerBoundingBox=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateBoundingBox()}else{this.set_lower(a.get_lower());this.set_upper(a.get_upper())}}},equals:function(a){if(this._innerBoundingBox==null){return false}if(!SuperMap.Web.Core.BoundingBox.isInstanceOfType(a)){return false}if(a.get_lower().equals(this.get_lower())&&a.get_upper().equals(this.get_upper())){return true}else{return false}},isEmpty:function(){if(this._innerBoundingBox==null){return true}if(SuperMap.Web.Core.Vector3D.isInstanceOfType(this._lower)&&SuperMap.Web.Core.Vector3D.isInstanceOfType(this._upper)){if(this._lower.isEmpty()||this._upper.isEmpty()){return true}}return this._innerBoundingBox.IsEmpty}};SuperMap.Web.Core.BoundingBox.registerClass("SuperMap.Web.Core.BoundingBox");SuperMap.Web.Core.Color=function(d,b,a,c){this._red=this._getColorInRange(d);this._green=this._getColorInRange(b);this._blue=this._getColorInRange(a);this._alpha=parseInt(c);if(isNaN(this._alpha)){this._alpha=255}else{this._alpha=this._getColorInRange(c)}};SuperMap.Web.Core.Color.prototype={_getColorInRange:function(b){var a=parseInt(b);if(isNaN(a)){a=0}return a>255?255:(a<0?0:a)},get_red:function(){return this._red},set_red:function(a){this._red=this._getColorInRange(a)},get_green:function(){return this._green},set_green:function(a){this._green=this._getColorInRange(a)},get_blue:function(){return this._blue},set_blue:function(a){this._blue=this._getColorInRange(a)},get_alpha:function(){return this._alpha},set_alpha:function(a){this._alpha=parseInt(a);if(isNaN(this._alpha)){this._alpha=255}else{this._alpha=this._getColorInRange(a)}},copy:function(a){if(SuperMap.Web.Core.Color.isInstanceOfType(a)){this._red=a.get_red();this._green=a.get_green();this._blue=a.get_blue();this._alpha=a.get_alpha()}},fromRGB:function(b){if(typeof(b)=="string"){var d=b.search(/#/);var c=b.slice(d+1,d+7);var a=parseInt(c,16);this._red=parseInt(a>>16,10)&255;this._green=parseInt(a>>8,10)&255;this._blue=parseInt(a,10)&255}},toRGB:function(){var c="";if(this._red<16){c="0"+this._red.toString(16)}else{c=this._red.toString(16)}var b="";if(this._green<16){b="0"+this._green.toString(16)}else{b=this._green.toString(16)}var a="";if(this._blue<16){a="0"+this._blue.toString(16)}else{a=this._blue.toString(16)}return("#"+c+b+a)},toLongABGR:function(){return(this._alpha<<24)|(this._blue<<16)|(this._green<<8)|(this._red)},fromLongABGR:function(a){if(!isNaN(a)&&(a!=="")){this._alpha=(a>>24)&255;this._blue=(a>>16)&255;this._green=(a>>8)&255;this._red=a&255}}};SuperMap.Web.Core.Color.registerClass("SuperMap.Web.Core.Color");SuperMap.Web.Core.Style3D=function(){SuperMap.Web.Core.Style3D.initializeBase(this);this._innerStyle3D=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeoStyle3D();this._lineColor=null;this._fillForeColor=null;this._markerColor=null};SuperMap.Web.Core.Style3D.prototype={dispose:function(){this._innerStyle3D=null},_get_innerStyle3D:function(a){if(this._innerStyle3D==null){return null}return this._innerStyle3D},_set_innerStyle3D:function(a){if(a==null){return null}this._innerStyle3D=a},get_altitudeMode:function(){if(this._innerStyle3D==null){return null}return this._innerStyle3D.AltitudeMode},set_altitudeMode:function(b){if(this._innerStyle3D==null){return}var a=parseInt(b);if(!isNaN(a)){this._innerStyle3D.AltitudeMode=a}},get_bottomAltitude:function(){if(this._innerStyle3D==null){return null}return this._innerStyle3D.BottomAltitude},set_bottomAltitude:function(b){if(this._innerStyle3D==null){return}var a=parseFloat(b);if(!isNaN(a)){this._innerStyle3D.BottomAltitude=a}},get_extendHeight:function(){if(this._innerStyle3D==null){return null}return this._innerStyle3D.ExtendHeight},set_extendHeight:function(a){if(this._innerStyle3D==null){return null}var b=parseFloat(a);if(!isNaN(b)){this._innerStyle3D.ExtendHeight=b}},get_fillForeColor:function(){if(this._innerStyle3D==null){return null}if(this._fillForeColor==null){this._fillForeColor=new SuperMap.Web.Core.Color()}this._fillForeColor.fromLongABGR(this._innerStyle3D.FillForeColor);return this._fillForeColor},set_fillForeColor:function(a){if(this._innerStyle3D==null){return}if(SuperMap.Web.Core.Color.isInstanceOfType(a)){this._innerStyle3D.FillForeColor=a.toLongABGR()}else{if(!isNaN(parseFloat(a))){this._innerStyle3D.FillForeColor=parseFloat(a)}}},get_fill3DMode:function(){if(this._innerStyle3D==null){return null}return this._innerStyle3D.Fill3DMode},set_fill3DMode:function(b){if(this._innerStyle3D==null){return}var a=parseInt(b);if(!isNaN(a)){this._innerStyle3D.Fill3DMode=a}},get_lineColor:function(){if(this._innerStyle3D==null){return null}if(this._lineColor==null){this._lineColor=new SuperMap.Web.Core.Color()}this._lineColor.fromLongABGR(this._innerStyle3D.LineColor);return this._lineColor},set_lineColor:function(a){if(this._innerStyle3D==null){return}if(SuperMap.Web.Core.Color.isInstanceOfType(a)){this._innerStyle3D.LineColor=a.toLongABGR()}else{if(!isNaN(parseFloat(a))){this._innerStyle3D.LineColor=parseFloat(a)}}},get_lineWidth:function(){if(this._innerStyle3D==null){return 0}return this._innerStyle3D.LineWidth},set_lineWidth:function(a){if(this._innerStyle3D==null){return}var b=parseFloat(a);if(!isNaN(b)){this._innerStyle3D.LineWidth=b}},get_markerColor:function(){if(this._innerStyle3D==null){return null}if(this._markerColor==null){this._markerColor=new SuperMap.Web.Core.Color()}this._markerColor.fromLongABGR(this._innerStyle3D.MarkerColor);return this._markerColor},set_markerColor:function(a){if(this._innerStyle3D==null){return}if(SuperMap.Web.Core.Color.isInstanceOfType(a)){this._innerStyle3D.MarkerColor=a.toLongABGR()}else{if(!isNaN(parseFloat(a))){this._innerStyle3D.MarkerColor=parseFloat(a)}}},get_markerFile:function(){if(this._innerStyle3D==null){return null}return this._innerStyle3D.MarkerFile},set_markerFile:function(a){if(this._innerStyle3D==null){return}if(typeof(a)=="string"){this._innerStyle3D.MarkerFile=a}},get_markerScale:function(){if(this._innerStyle3D==null){return null}return this._innerStyle3D.MarkerScale},set_markerScale:function(b){if(this._innerStyle3D==null){return}var a=parseFloat(b);if(!isNaN(a)){this._innerStyle3D.MarkerScale=a}},get_markerSize:function(){if(this._innerStyle3D==null){return null}return this._innerStyle3D.MarkerSize},set_markerSize:function(b){if(this._innerStyle3D==null){return}var a=parseFloat(b);if(!isNaN(a)){this._innerStyle3D.MarkerSize=a}},get_sideTextureFiles:function(){if(this._innerStyle3D==null){return null}var a=this._innerStyle3D.SideTextureFiles;if(typeof(a)=="unknown"){var c=new VBArray(a);var b=c.toArray();return b}else{if(typeof(a)=="object"){return a}}return null},set_sideTextureFiles:function(b){if(this._innerStyle3D==null){return}if(Function._validateParams(arguments,[{name:"sideTextureFiles",type:Array,elementType:String}])==null){this._innerStyle3D.RemoveSideTextureFiles();for(var a=0;a<b.length;a++){this._innerStyle3D.AddSideTextureFile(b[a])}this._innerStyle3D.CommitSideTextureFiles()}},get_topTextureFile:function(){if(this._innerStyle3D==null){return null}return this._innerStyle3D.TopTextureFile},set_topTextureFile:function(a){if(this._innerStyle3D==null){return}if(typeof(a)=="string"){this._innerStyle3D.TopTextureFile=a}},get_tilingU:function(){if(this._innerStyle3D==null){return null}return this._innerStyle3D.TilingU},set_tilingU:function(b){if(this._innerStyle3D==null){return}var a=parseFloat(b);if(!isNaN(a)){this._innerStyle3D.TilingU=a}},get_tilingV:function(){if(this._innerStyle3D==null){return null}return this._innerStyle3D.TilingV},set_tilingV:function(b){if(this._innerStyle3D==null){return}var a=parseFloat(b);if(!isNaN(a)){this._innerStyle3D.TilingV=a}},get_iconAnchorPoint:function(){if(this._innerStyle3D==null){return null}return SuperMap.Web.Core.Conversion._ConvertSRObject2Object(this._innerStyle3D.IconAnchorPoint,"Point2D")},set_iconAnchorPoint:function(a){if(this._innerStyle3D==null){return}if(SuperMap.Web.Core.Point2D.isInstanceOfType(a)){this._innerStyle3D.IconAnchorPoint=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(a)}},get_isMarkerSizeFixed:function(){if(this._innerStyle3D==null){return null}return this._innerStyle3D.IsMarkerSizeFixed},set_isMarkerSizeFixed:function(a){if(this._innerStyle3D==null){return}if(typeof(a)=="boolean"){this._innerStyle3D.IsMarkerSizeFixed=a}},clone:function(){if(this._innerStyle3D==null){return null}var b=this._innerStyle3D.Clone();if(b==null){return null}var a=new SuperMap.Web.Core.Style3D();a._set_innerStyle3D(b);return a}};SuperMap.Web.Core.Style3D.registerClass("SuperMap.Web.Core.Style3D",Sys.Component);SuperMap.Web.Core.TextStyle3D=function(){this._innerTextStyle3D=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateTextStyle()};SuperMap.Web.Core.TextStyle3D.prototype={dispose:function(){this._innerTextStyle3D=null},_get_innerTextStyle3D:function(a){if(this._innerTextStyle3D==null){return null}return this._innerTextStyle3D},_set_innerTextStyle3D:function(a){if(a==null){return null}this._innerTextStyle3D=a},get_alignment:function(){if(this._innerTextStyle3D==null){return null}return this._innerTextStyle3D.Alignment},set_alignment:function(a){if(this._innerTextStyle3D==null){return}this._innerTextStyle3D.Alignment=a},get_backColor:function(){if(this._innerTextStyle3D==null){return null}var a=new SuperMap.Web.Core.Color();a.fromLongABGR(this._innerTextStyle3D.BackColor);return a},set_backColor:function(a){if(this._innerTextStyle3D==null){return}if(SuperMap.Web.Core.Color.isInstanceOfType(a)){this._innerTextStyle3D.BackColor=a.toLongABGR()}else{if(!isNaN(parseFloat(a))){this._innerTextStyle3D.BackColor=parseFloat(a)}}},get_backOpaque:function(){return this._innerTextStyle3D.BackOpaque},set_backOpaque:function(a){this._innerTextStyle3D.BackOpaque=a},get_bold:function(){return this._innerTextStyle3D.Bold},set_bold:function(a){this._innerTextStyle3D.Bold=a},get_fontHeight:function(){if(this._innerTextStyle3D==null){return null}return this._innerTextStyle3D.FontHeight},set_fontHeight:function(b){if(this._innerTextStyle3D==null){return}var a=parseFloat(b);if(!isNaN(n_fontScale)){this._innerTextStyle3D.FontHeight=a}},get_fontName:function(){if(this._innerTextStyle3D==null){return null}return this._innerTextStyle3D.FontName},set_fontName:function(a){if(this._innerTextStyle3D==null){return}if(typeof(a)=="string"){this._innerTextStyle3D.FontName=a}},get_fontWidth:function(){if(this._innerTextStyle3D==null){return null}return this._innerTextStyle3D.FontWidth},set_fontWidth:function(b){if(this._innerTextStyle3D==null){return}var a=parseFloat(b);if(!isNaN(a)){this._innerTextStyle3D.FontWidth=a}},get_isSizeFixed:function(){return this._innerTextStyle3D.IsSizeFixed},set_isSizeFixed:function(a){this._innerTextStyle3D.IsSizeFixed=a},get_fixedSize:function(){if(this._innerTextStyle3D==null){return null}return this._innerTextStyle3D.FixedSize},set_fixedSize:function(a){if(this._innerTextStyle3D==null){return}var b=parseFloat(a);if(!isNaN(n_fontScale)){this._innerTextStyle3D.FixedSize=b}},get_isItalic:function(){return this._innerTextStyle3D.IsItalic},set_isItalic:function(a){this._innerTextStyle3D.IsItalic=a},get_outline:function(){return this._innerTextStyle3D.Outline},set_outline:function(a){this._innerTextStyle3D.Outline=a},get_rotation:function(){if(this._innerTextStyle3D==null){return null}return this._innerTextStyle3D.Rotation},set_rotation:function(a){if(this._innerTextStyle3D==null){return}var b=parseFloat(a);if(!isNaN(b)){this._innerTextStyle3D.Rotation=b}},get_shadow:function(){return this._innerTextStyle3D.Shadow},set_shadow:function(a){this._innerTextStyle3D.Shadow=a},get_strikeout:function(){return this._innerTextStyle3D.Strikeout},set_strikeout:function(a){this._innerTextStyle3D.Strikeout=a},get_underline:function(){return this._innerTextStyle3D.Underline},set_underline:function(a){this._innerTextStyle3D.Underline=a},get_weight:function(){if(this._innerTextStyle3D==null){return null}return this._innerTextStyle3D.Weight},set_weight:function(b){if(this._innerTextStyle3D==null){return}var a=parseFloat(b);if(!isNaN(a)){this._innerTextStyle3D.Weight=a}},get_opaqueRate:function(){if(this._innerTextStyle3D==null){return null}return this._innerTextStyle3D.OpaqueRate},set_opaqueRate:function(b){if(this._innerTextStyle3D==null){return}var a=parseFloat(b);if(!isNaN(a)){this._innerTextStyle3D.OpaqueRate=a}},get_fontScale:function(){if(this._innerTextStyle3D==null){return null}return this._innerTextStyle3D.FontScale},set_fontScale:function(a){if(this._innerTextStyle3D==null){return}var b=parseFloat(a);if(!isNaN(b)){this._innerTextStyle3D.FontScale=b}},get_foreColor:function(){if(this._innerTextStyle3D==null){return null}var a=new SuperMap.Web.Core.Color();a.fromLongABGR(this._innerTextStyle3D.ForeColor);return a},set_foreColor:function(a){if(this._innerTextStyle3D==null){return}if(SuperMap.Web.Core.Color.isInstanceOfType(a)){this._innerTextStyle3D.ForeColor=a.toLongABGR()}else{if(!isNaN(parseFloat(a))){this._innerTextStyle3D.ForeColor=parseFloat(a)}}},clone:function(){if(this._innerTextStyle3D==null){return null}var b=this._innerTextStyle3D.Clone();if(b==null){return null}var a=new SuperMap.Web.Core.TextStyle3D();a._set_innerTextStyle3D(b);return a}};SuperMap.Web.Core.TextStyle3D.registerClass("SuperMap.Web.Core.TextStyle3D");SuperMap.Web.Core.Feature3D=function(){this._innerFeature3D=null;this._geometry=null;this._style3d=null;this._textstyle3d=null;this._camera=null;this._bDirty=false;this._attributes=new Object();this._innerTrackingLayer3D=null;this._nIndex=-1};SuperMap.Web.Core.Feature3D.prototype={dispose:function(){this._innerFeature3D=null;this._geometry=null;this._style3d=null;this._textstyle3d=null;this._bDirty=false;this._attributes=null},_get_innerFeature3D:function(){this._initialInnerObject();return this._innerFeature3D},_set_innerFeature3D:function(a){if(a==null){return}this._innerFeature3D=a},_initialInnerObject:function(){if(this._innerFeature3D==null){this._innerFeature3D=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateFeature3D(SuperMap.Web.Core.Feature3DType.FEATURE3DOBJECT)}},get_id:function(){this._initialInnerObject();return this._innerFeature3D.ID},set_id:function(b){var a=parseInt(b);if(isNaN(a)){return}this._initialInnerObject();this._innerFeature3D.ID=a},get_name:function(){this._initialInnerObject();return this._innerFeature3D.Name},set_name:function(a){if(typeof(a)=="string"){this._initialInnerObject();this._innerFeature3D.Name=a}},get_description:function(){this._initialInnerObject();return this._innerFeature3D.Description},set_description:function(a){if(typeof(a)=="string"){this._initialInnerObject();this._innerFeature3D.Description=a}},get_isVisible:function(){if(this._innerTrackingLayer3D!=null){return this._innerTrackingLayer3D.get_ItemVisible(this._nIndex)}this._initialInnerObject();return this._innerFeature3D.IsVisible},set_isVisible:function(a){if(this._innerTrackingLayer3D!=null){this._innerTrackingLayer3D.set_ItemVisible(this._nIndex,a);return}this._initialInnerObject();this._innerFeature3D.IsVisible=a},get_visibleDistance:function(){this._initialInnerObject();return this._innerFeature3D.VisibleDistance},set_visibleDistance:function(a){var b=parseFloat(a);if(isNaN(b)){return}this._initialInnerObject();this._innerFeature3D.VisibleDistance=b},get_camera:function(){this._initialInnerObject();if(this._camera==null){if(this._innerFeature3D!=null&&this._innerFeature3D.Camera!=null){this._camera=SuperMap.Web.Core.Conversion._CreateObjectBySRObject(this._innerFeature3D.Camera,"Camera")}}return this._camera},set_camera:function(a){if(SuperMap.Web.Realspace.Camera.isInstanceOfType(a)){this._camera=a;this._initialInnerObject();this._innerFeature3D.Camera=this._camera._get_innerCamera()}},get_geometry:function(){if(this._geometry!=null&&this._bDirty){var a=this._geometry._get_innerGeometry();if(this._style3d!=null&&SuperMap.Web.Core.Geometry3D.isInstanceOfType(this._geometry)){a.Style3D=this._style3d._get_innerStyle3D()}if(this._textstyle3d!=null){if(a.Type==SuperMap.Web.Core.GeometryType.GEOTEXT3D){a.TextStyle=this._textstyle3d._get_innerTextStyle3D()}if(a.Type==SuperMap.Web.Core.GeometryType.GEOPLACEMARK){a.NameStyle=this._textstyle3d._get_innerTextStyle3D()}}this._bDirty=false}return this._geometry},set_geometry:function(a){this._initialInnerObject();if(SuperMap.Web.Core.Geometry.isInstanceOfType(a)){if(SuperMap.Web.Core.Geometry3D.isInstanceOfType(a)){if(a.isValid()){this._geometry=a;if(this._innerFeature3D!=null){this._innerFeature3D.Geometry=this._geometry._get_innerGeometry()}}}else{var b=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(a);if(b!=null){this._innerFeature3D.Geometry=b;this._geometry=SuperMap.Web.Core.Conversion._CreateObjectBySRObject(b,"Geometry")}}}},get_style3D:function(){return this._style3d},set_style3D:function(a){if(SuperMap.Web.Core.Style3D.isInstanceOfType(a)){this._style3d=a;if(this._geometry!=null){this._geometry._get_innerGeometry().Style3D=this._style3d._get_innerStyle3D()}else{this._bDirty=true}}},get_textStyle3D:function(){return this._textstyle3d},set_textStyle3D:function(a){if(SuperMap.Web.Core.TextStyle3D.isInstanceOfType(a)){this._textstyle3d=a;if(this._geometry!=null){if(this._geometry._get_innerGeometry().Type==SuperMap.Web.Core.GeometryType.GEOTEXT3D){this._geometry._get_innerGeometry().TextStyle=this._textstyle3d._get_innerTextStyle3D()}if(this._geometry._get_innerGeometry().Type==SuperMap.Web.Core.GeometryType.GEOPLACEMARK){this._geometry._get_innerGeometry().NameStyle=this._textstyle3d._get_innerTextStyle3D()}}else{this._bDirty=true}}},get_attributes:function(){return this._attributes},set_attributes:function(a){this._attributes=a},_make:function(a){this._geometry=SuperMap.Web.Core.Conversion._CreateObjectBySRObject(a,"Geometry");if(a.Style3D!=null){this._style3d=SuperMap.Web.Core.Conversion._CreateObjectBySRObject(a.Style3D,"Style3D")}if(a.Type==SuperMap.Web.Core.GeometryType.GEOTEXT3D){if(a.TextStyle3D!=null){this._textstyle3d=SuperMap.Web.Core.Conversion._CreateObjectBySRObject(a.TextStyle3D,"TextStyle3D")}}if(a.Type==SuperMap.Web.Core.GeometryType.GEOPLACEMARK){if(a.NameStyle!=null){this._textstyle3d=SuperMap.Web.Core.Conversion._CreateObjectBySRObject(a.NameStyle,"TextStyle3D")}if(a.Geometry!=null){this._geometry.set_geometry(a.Geometry)}}},updateData:function(){if(this._innerFeature3D!=null){this._innerFeature3D.UpdateData()}},clone:function(){var b=new SuperMap.Web.Core.Feature3D();if(this._innerFeature3D!=null){var a=this._innerFeature3D.Clone();b._set_innerFeature3D(a)}if(this._style3d!=null){b._style3d=this._style3d.clone()}if(this._textstyle3d!=null){b._textstyle3d=this._textstyle3d.clone()}if(this._geometry!=null){b._geometry=this._geometry.clone()}if(this._attributes!=null){b._attributes=this._attributes}return b}};SuperMap.Web.Core.Feature3D.registerClass("SuperMap.Web.Core.Feature3D",null,Sys.IDisposable);SuperMap.Web.Core.Feature3Ds=function(){SuperMap.Web.Core.Feature3Ds.initializeBase(this);this._innerFeature3Ds=null;this._feature3dArray=[]};SuperMap.Web.Core.Feature3Ds.prototype={dispose:function(){this._innerFeature3Ds=null;Array.clear(this._feature3dArray);this._feature3dArray=[]},_get_innerFeature3Ds:function(){if(this._innerFeature3Ds==null){return null}return this._innerFeature3Ds},_set_innerFeature3Ds:function(a){if(a==null){return null}this._innerFeature3Ds=a},get_id:function(){return -1},set_id:function(a){return},get_geometry:function(){return null},set_geometry:function(){return},get_style3D:function(){return null},set_style3D:function(){return},get_textStyle3D:function(){return null},set_textStyle3D:function(){return},clone:function(){return null},updateData:function(){return},get_count:function(){if(this._innerFeature3Ds==null){return null}return this._innerFeature3Ds.Count},isEmpty:function(){if(this._innerFeature3Ds==null){return null}return this._innerFeature3Ds.IsEmpty},get_isVisible:function(){if(this._innerFeature3Ds==null){return null}return this._innerFeature3Ds.IsVisible},set_isVisible:function(a){if(this._innerFeature3Ds==null){return}this._innerFeature3Ds.IsVisible=a},get_name:function(){if(this._innerFeature3Ds==null){return}return this._innerFeature3Ds.Name},set_name:function(a){if(typeof(a)=="string"){if(this._innerFeature3Ds==null){return}this._innerFeature3Ds.Name=a}},get_description:function(){if(this._innerFeature3Ds==null){return}return this._innerFeature3Ds.Description},set_description:function(a){if(typeof(a)=="string"){if(this._innerFeature3Ds==null){return}this._innerFeature3Ds.Description=a}},get_visibleDistance:function(){return -1},set_visibleDistance:function(a){return},get_camera:function(){if(this._camera==null){if(this._innerFeature3Ds==null){return}this._camera=SuperMap.Web.Core.Conversion._CreateObjectBySRObject(this._innerFeature3Ds.Camera,"Camera")}return this._camera},set_camera:function(a){if(SuperMap.Web.Realspace.Camera.isInstanceOfType(a)){this._camera=a;if(this._innerFeature3Ds==null){return}this._innerFeature3Ds.Camera=this._camera._get_innerCamera()}},add:function(b){if(this._innerFeature3Ds==null){return}if(SuperMap.Web.Core.Feature3D.isInstanceOfType(b)){var a=this._innerFeature3Ds.Add(b._get_innerFeature3D());if(a){this._feature3dArray.push(b)}return a}},insert:function(a,c){if(this._innerFeature3Ds==null){return}if((a!=null)&&(!isNaN(a)||typeof(a)=="string")){var b=this._innerFeature3Ds.Insert(a,c._get_innerFeature3D());if(b){Array.insert(this._feature3dArray,a,c)}return b}},removeAt:function(b){if(this._innerFeature3Ds==null){return null}if((b!=null)&&(!isNaN(b)||typeof(b)=="string")){var c=this.get_item(b);if(c!=null){var a=this._innerFeature3Ds.RemoveAt(b);if(a){Array.remove(this._feature3dArray,c)}return a}}},get_item:function(b){if(this._innerFeature3Ds==null){return null}var a=-1;if((b!=null)&&!isNaN(b)){a=b}else{if(typeof(b)=="string"){a=this._indexOf(b)}}if(a<0||a>=this._feature3dArray.length){return null}return this._feature3dArray[a]},_indexOf:function(a){if(this._innerFeature3Ds==null){return null}if(typeof(a)=="string"){return this._innerFeature3Ds.IndexOf(a)}return -1},exchange:function(d,c){if(this._innerFeature3Ds==null){return}if((d!=null)&&(!isNaN(d)||typeof(d)=="string")&&(c!=null)&&(!isNaN(c)||typeof(c)=="string")){var b=this._innerFeature3Ds.Exchange(d,c);if(b){var a=this._feature3dArray[d];this._feature3dArray[d]=this._feature3dArray[c];this._feature3dArray[c]=a}}},_makelist:function(){if(this._innerFeature3Ds==null){return}for(var b=0;b<this.get_count();b++){var c=this._innerFeature3Ds.get_Item(b);if(c.Type==SuperMap.Web.Core.Feature3DType.FEATURE3DOBJECT){var d=new SuperMap.Web.Core.Feature3D();d._set_innerFeature3D(c);d._make(c.Geometry);this._feature3dArray.push(d)}else{if(c.Type==SuperMap.Web.Core.Feature3DType.FEATURE3DTREE){var a=new SuperMap.Web.Core.Feature3Ds();a._set_innerFeature3Ds(c);a._makelist();this._feature3dArray.push(a)}}}},findFeature3D:function(a,c){var d=false;if(typeof(a)=="string"){d=true}if(c==SuperMap.Web.Core.Feature3DSearchOption.AllFeatures){for(var b=0;b<this._feature3dArray.length;b++){var e=this._feature3dArray[b];if(d){if(e.get_name()==a){return e}}else{if(e.get_id()==a){return e}}if(SuperMap.Web.Core.Feature3Ds.isInstanceOfType(e)){var f=e.findFeature3D(a,c);if(f!=null){return f}}}}else{if(c==SuperMap.Web.Core.Feature3DSearchOption.TopFeaturesOnly){for(var b=0;b<this._feature3dArray.length;b++){var e=this._feature3dArray[b];if(d){if(e.get_name()==a){return e}}else{if(e.get_id()==a){return e}}}}}return null},removeAll:function(){if(this._innerFeature3Ds==null){return}this._innerFeature3Ds.RemoveAll();Array.clear(this._feature3dArray)}};SuperMap.Web.Core.Feature3Ds.registerClass("SuperMap.Web.Core.Feature3Ds",SuperMap.Web.Core.Feature3D,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Core");SuperMap.Web.Core.Geometry3D=function(){SuperMap.Web.Core.Geometry3D.initializeBase(this);this._innerGeometry=null};SuperMap.Web.Core.Geometry3D.prototype={dispose:function(){this._innerGeometry=null},_get_innerGeometry:function(){if(this._innerGeometry==null){return null}return this._innerGeometry},_set_innerGeometry:function(a){if(a==null){this._innerGeometry=null;return}if(a.Type){if(this._innerGeometry){this._innerGeometry.SetEmpty();this._innerGeometry=null}this._innerGeometry=a}},get_bounds:function(){if(this._innerGeometry==null){return null}var a=this._innerGeometry.Bounds;return SuperMap.Web.Core.Conversion._ConvertSRObject2Object(a,"Rectangle2D")},get_boundingBox:function(){if(this._innerGeometry==null){return null}var a=this._innerGeometry.BoundingBox;return SuperMap.Web.Core.Conversion._CreateObjectBySRObject(a,"BoundingBox")},get_innerPoint:function(){if(this._innerGeometry==null){return null}var a=this._innerGeometry.InnerPoint;return SuperMap.Web.Core.Conversion._ConvertSRObject2Object(a,"Point2D")},get_innerPoint3D:function(){if(this._innerGeometry==null){return null}var a=this._innerGeometry.InnerPoint3D;return SuperMap.Web.Core.Conversion._ConvertSRObject2Object(a,"Point3D")},isEmpty:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.IsEmpty},isValid:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.IsValid},get_position:function(){if(this._innerGeometry==null){return null}var a=this._innerGeometry.Position;return SuperMap.Web.Core.Conversion._ConvertSRObject2Object(a,"Point3D")},set_position:function(a){if(this._innerGeometry==null){return}if(SuperMap.Web.Core.Point3D.isInstanceOfType(a)){var b=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(a);this._innerGeometry.Position=b}},get_rotationX:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.RotationX},set_rotationX:function(a){if(this._innerGeometry==null){return}this._innerGeometry.RotationX=a},get_rotationY:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.RotationY},set_rotationY:function(a){if(this._innerGeometry==null){return}this._innerGeometry.RotationY=a},get_rotationZ:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.RotationZ},set_rotationZ:function(a){if(this._innerGeometry==null){return}this._innerGeometry.RotationZ=a},get_scaleX:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.ScaleX},set_scaleX:function(a){if(this._innerGeometry==null){return}this._innerGeometry.ScaleX=a},get_scaleY:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.ScaleY},set_scaleY:function(a){if(this._innerGeometry==null){return}this._innerGeometry.ScaleY=a},get_scaleZ:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.ScaleZ},set_scaleZ:function(a){if(this._innerGeometry==null){return}this._innerGeometry.ScaleZ=a},hitTest:function(a,b){if(this._innerGeometry==null){return null}var c=parseFloat(b);if(SuperMap.Web.Core.Point2D.isInstanceOfType(a)&&!isNaN(c)){var d=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(a);return this._innerGeometry.HitTest(d,c)}return false},offset:function(a,d){if(this._innerGeometry==null){return null}var c=parseFloat(a);var b=parseFloat(d);if(!isNaN(c)&&!isNaN(d)){this._innerGeometry.Offset(c,d)}},offset3D:function(a,f,e){if(this._innerGeometry==null){return null}var d=parseFloat(a);var c=parseFloat(f);var b=parseFloat(e);if(!isNaN(d)&&!isNaN(c)&&!isNaN(b)){this._innerGeometry.Offset3D(d,c,b)}},rotate3D:function(d,b){if(this._innerGeometry==null){return}var a=parseFloat(b);if(SuperMap.Web.Core.Vector3D.isInstanceOfType(d)&&!d.isEmpty()&&!isNaN(a)){var c=d._get_innerVector3D();if(c!=null){this._innerGeometry.Rotate3D(c,a)}}},inflate3D:function(f,e,d){if(this._innerGeometry==null){return null}var c=parseFloat(f);var b=parseFloat(e);var a=parseFloat(d);if(!isNaN(c)&&!isNaN(b)&&!isNaN(a)){this._innerGeometry.Inflate3D(c,b,a)}},setEmpty:function(){if(this._innerGeometry==null){return null}this._innerGeometry.SetEmpty()},getGeoModel:function(a,c){var d=this._innerGeometry.GetModel(a,c);if(d==null){return null}var b=new SuperMap.Web.Core.GeoModel();b._set_innerGeometry(d);return b}};SuperMap.Web.Core.Geometry3D.registerClass("SuperMap.Web.Core.Geometry3D",SuperMap.Web.Core.Geometry,Sys.IDisposable);SuperMap.Web.Core.GeoPoint3D=function(a){SuperMap.Web.Core.GeoPoint3D.initializeBase(this);this._innerGeometry=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOPOINT3D);if(this._innerGeometry==null){return null}if(SuperMap.Web.Core.Point3D.isInstanceOfType(a)){this._innerGeometry.X=parseFloat(a.x);this._innerGeometry.Y=parseFloat(a.y);this._innerGeometry.Z=parseFloat(a.z)}else{this._innerGeometry.X=NaN;this._innerGeometry.Y=NaN;this._innerGeometry.Z=NaN}};SuperMap.Web.Core.GeoPoint3D.prototype={dispose:function(){this._innerGeometry=null},convertToGeoPoint:function(){var a=new SuperMap.Web.Core.GeoPoint();a.x=this.get_x();a.y=this.get_y();return a},get_x:function(){return this._innerGeometry.X},set_x:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.X=b}},get_y:function(){return this._innerGeometry.Y},set_y:function(b){var a=parseFloat(b);if(!isNaN(a)){this._innerGeometry.Y=a}},get_z:function(){return this._innerGeometry.Z},set_z:function(b){var a=parseFloat(b);if(!isNaN(a)){this._innerGeometry.Z=a}},clone:function(){var b=this._innerGeometry.Clone();if(b==null){return null}var a=new SuperMap.Web.Core.GeoPoint3D();a._set_innerGeometry(b);return a},isEmpty:function(){if(this._innerGeometry==null||isNaN(this._innerGeometry.X)||isNaN(this._innerGeometry.Y)||isNaN(this._innerGeometry.Z)){return true}return this._innerGeometry.IsEmpty},isValid:function(){if(this._innerGeometry==null||isNaN(this._innerGeometry.X)||isNaN(this._innerGeometry.Y)||isNaN(this._innerGeometry.Z)){return false}return this._innerGeometry.IsValid},mirror3D:function(g,e,c){if(this._innerGeometry==null){return null}if(SuperMap.Web.Core.Point3D.isInstanceOfType(g)&&!g.isEmpty()&&SuperMap.Web.Core.Point3D.isInstanceOfType(e)&&!e.isEmpty()&&SuperMap.Web.Core.Point3D.isInstanceOfType(c)&&!c.isEmpty()){var h=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(g);var f=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(e);var d=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(c);if(h==null||f==null||d==null){return null}var b=this._innerGeometry.Mirror3D(h,f,d);if(b==null){return null}var a=new SuperMap.Web.Core.GeoPoint3D();a._set_innerGeometry(b);return a}return null}};SuperMap.Web.Core.GeoPoint3D.registerClass("SuperMap.Web.Core.GeoPoint3D",SuperMap.Web.Core.Geometry3D,Sys.IDisposable);SuperMap.Web.Core.GeoLine3D=function(c){SuperMap.Web.Core.GeoLine3D.initializeBase(this);this._innerGeometry=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOLINE3D);if(this._innerGeometry==null){return null}if(Function._validateParams(arguments,[{name:"point3DsArray",type:Array,elementType:SuperMap.Web.Core.Point3Ds}])==null){for(var b=0;b<c.length;b++){var a=c[b]._get_innerPoint3Ds();if(a!=null){this._innerGeometry.AddPart(a)}}}};SuperMap.Web.Core.GeoLine3D.prototype={dispose:function(){this._innerGeometry=null},convertToGeoLine:function(){if(this.get_partCount()>0){var c=new SuperMap.Web.Core.GeoLine();for(var d=0;d<this.get_partCount();d++){var b=this.getPart(d);var a=b.toPoint2Ds();c.parts[d]=a}return c}return null},get_partCount:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.PartCount},get_length:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.Length},clone:function(){if(this._innerGeometry==null){return null}var b=this._innerGeometry.Clone();if(b==null){return null}var a=new SuperMap.Web.Core.GeoLine3D();a._set_innerGeometry(b);return a},mirror3D:function(g,e,b){if(this._innerGeometry==null){return null}if(SuperMap.Web.Core.Point3D.isInstanceOfType(g)&&!g.isEmpty()&&SuperMap.Web.Core.Point3D.isInstanceOfType(e)&&!e.isEmpty()&&SuperMap.Web.Core.Point3D.isInstanceOfType(b)&&!b.isEmpty()){var h=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(g);var f=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(e);var d=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(b);if(h==null||f==null||d==null){return null}var c=this._innerGeometry.Mirror3D(h,f,d);if(c==null){return null}var a=new SuperMap.Web.Core.GeoLine3D();a._set_innerGeometry(c);return a}return null},addPart:function(a){if(this._innerGeometry==null){return null}if(SuperMap.Web.Core.Point3Ds.isInstanceOfType(a)){var b=a._get_innerPoint3Ds();return this._innerGeometry.AddPart(b)}return -1},getPart:function(a){if(this._innerGeometry==null){return null}var c=parseInt(a);if(!isNaN(c)){if(c<0||c>=this._innerGeometry.PartCount){return null}var b=this._innerGeometry.GetPart(c);return SuperMap.Web.Core.Conversion._CreateObjectBySRObject(b,"Point3Ds")}},indexOf:function(a){if(this._innerGeometry==null){return null}if(SuperMap.Web.Core.Point3Ds.isInstanceOfType(a)){var b=a._get_innerPoint3Ds();return this._innerGeometry.IndexOf(b)}return -1},insertPart:function(b,a){if(this._innerGeometry==null){return null}var d=parseInt(b);if(!isNaN(d)&&SuperMap.Web.Core.Point3Ds.isInstanceOfType(a)){if(d<0||d>this._innerGeometry.PartCount){return false}var c=a._get_innerPoint3Ds();return this._innerGeometry.InsertPart(d,c)}return false},removePart:function(a){if(this._innerGeometry==null){return null}var b=parseInt(a);if(!isNaN(b)){if(b<0||b>=this._innerGeometry.PartCount){return false}return this._innerGeometry.RemovePart(b)}return false},setPart:function(b,a){if(this._innerGeometry==null){return null}var d=parseInt(b);if(!isNaN(d)&&SuperMap.Web.Core.Point3Ds.isInstanceOfType(a)){if(d<0||d>=this._innerGeometry.PartCount){return false}var c=a._get_innerPoint3Ds();return this._innerGeometry.SetPart(d,c)}return false}};SuperMap.Web.Core.GeoLine3D.registerClass("SuperMap.Web.Core.GeoLine3D",SuperMap.Web.Core.Geometry3D,Sys.IDisposable);SuperMap.Web.Core.GeoRegion3D=function(c){SuperMap.Web.Core.GeoRegion3D.initializeBase(this);this._innerGeometry=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOREGION3D);if(Function._validateParams(arguments,[{name:"point3DsArray",type:Array,elementType:SuperMap.Web.Core.Point3Ds}])==null){for(var b=0;b<c.length;b++){var a=c[b]._get_innerPoint3Ds();this._innerGeometry.AddPart(a)}}};SuperMap.Web.Core.GeoRegion3D.prototype={dispose:function(){this._innerGeometry=null},convertToGeoRegion:function(){if(this.get_partCount()>0){var b=new SuperMap.Web.Core.GeoRegion();for(var d=0;d<this.get_partCount();d++){var c=this.getPart(d);var a=c.toPoint2Ds();b.parts[d]=a}return b}return null},get_partCount:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.PartCount},get_perimeter:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.Perimeter},get_area:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.Area},clone:function(){if(this._innerGeometry==null){return null}var a=this._innerGeometry.Clone();if(a==null){return null}var b=new SuperMap.Web.Core.GeoRegion3D();b._set_innerGeometry(a);return b},mirror3D:function(g,e,b){if(this._innerGeometry==null){return null}if(SuperMap.Web.Core.Point3D.isInstanceOfType(g)&&!g.isEmpty()&&SuperMap.Web.Core.Point3D.isInstanceOfType(e)&&!e.isEmpty()&&SuperMap.Web.Core.Point3D.isInstanceOfType(b)&&!b.isEmpty()){var h=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(g);var f=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(e);var d=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(b);if(h==null||f==null||d==null){return null}var a=this._innerGeometry.Mirror3D(h,f,d);if(a==null){return null}var c=new SuperMap.Web.Core.GeoRegion3D();c._set_innerGeometry(a);return c}return null},addPart:function(a){if(this._innerGeometry==null){return null}if(SuperMap.Web.Core.Point3Ds.isInstanceOfType(a)){var b=a._get_innerPoint3Ds();return this._innerGeometry.AddPart(b)}return -1},getPart:function(a){if(this._innerGeometry==null){return null}var c=parseInt(a);if(!isNaN(c)){if(c<0||c>=this._innerGeometry.PartCount){return null}var b=this._innerGeometry.GetPart(c);return SuperMap.Web.Core.Conversion._CreateObjectBySRObject(b,"Point3Ds")}},indexOf:function(a){if(this._innerGeometry==null){return null}if(SuperMap.Web.Core.Point3Ds.isInstanceOfType(a)){var b=a._get_innerPoint3Ds();return this._innerGeometry.IndexOf(b)}return -1},insertPart:function(b,a){if(this._innerGeometry==null){return null}var d=parseInt(b);if(!isNaN(d)&&SuperMap.Web.Core.Point3Ds.isInstanceOfType(a)){if(d<0||d>this._innerGeometry.PartCount){return false}var c=a._get_innerPoint3Ds();return this._innerGeometry.InsertPart(d,c)}return false},removePart:function(a){if(this._innerGeometry==null){return null}var b=parseInt(a);if(!isNaN(b)){if(b<0||b>=this._innerGeometry.PartCount){return false}return this._innerGeometry.RemovePart(b)}return false},setPart:function(b,a){if(this._innerGeometry==null){return null}var d=parseInt(b);if(!isNaN(d)&&SuperMap.Web.Core.Point3Ds.isInstanceOfType(a)){if(d<0||d>=this._innerGeometry.PartCount){return false}var c=a._get_innerPoint3Ds();return this._innerGeometry.SetPart(d,c)}return false}};SuperMap.Web.Core.GeoRegion3D.registerClass("SuperMap.Web.Core.GeoRegion3D",SuperMap.Web.Core.Geometry3D,Sys.IDisposable);SuperMap.Web.Core.GeoModel=function(){SuperMap.Web.Core.GeoModel.initializeBase(this);this._innerGeometry=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOMODEL)};SuperMap.Web.Core.GeoModel.prototype={dispose:function(){this._innerGeometry=null},get_dataName:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.DataName},set_dataName:function(a){if(this._innerGeometry==null){return null}if(typeof(a)=="string"){this._innerGeometry.DataName=a}},get_id:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.ID},set_id:function(b){if(this._innerGeometry==null){return null}var a=parseInt(b);if(!isNaN(a)){if(a<=0){return null}this._innerGeometry.ID=a}},fromModelFile:function(a){if(this._innerGeometry==null){return null}if(typeof(a)=="string"){if(this._innerGeometry.FromModelFile(a)==false){var b=new Error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_Open_ModelFile_Failed"));b.name=SuperMap.Web.Realspace.ExceptionName.FileOrDownloadFailed;throw b}}return true},clone:function(){if(this._innerGeometry==null){return null}var b=this._innerGeometry.Clone();if(b==null){return null}var a=new SuperMap.Web.Core.GeoModel();a._set_innerGeometry(b);return a},get_animationState:function(){if(this._innerGeometry==null){return null}var a=new SuperMap.Web.Realspace.Animation();a._set_innerAnimation(this._innerGeometry.AnimationState);return a},set_animationState:function(a){if(this._innerGeometry==null){return null}if(typeof(a)=="SuperMap.Web.Realspace.Animation"){this._innerGeometry.AnimationState=a._get_innerAnimation()}},get_meshes:function(){if(this._innerGeometry==null){return null}return new SuperMap.Web.Realspace.Meshes(this._innerGeometry.Meshes)}};SuperMap.Web.Core.GeoModel.registerClass("SuperMap.Web.Core.GeoModel",SuperMap.Web.Core.Geometry3D,Sys.IDisposable);SuperMap.Web.Core.GeoPicture3D=function(){SuperMap.Web.Core.GeoPicture3D.initializeBase(this);this._innerGeometry=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOPICTURE3D)};SuperMap.Web.Core.GeoPicture3D.prototype={dispose:function(){this._innerGeometry=null},get_dataName:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.DataName},set_dataName:function(a){if(this._innerGeometry==null){return null}if(typeof(a)=="string"){this._innerGeometry.DataName=a}},get_width:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.Width},set_width:function(b){if(this._innerGeometry==null){return null}var a=parseFloat(b);if(!isNaN(a)){this._innerGeometry.Width=a}},get_height:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.Height},set_height:function(a){if(this._innerGeometry==null){return null}var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.Height=b}},fromImageFile:function(a){if(this._innerGeometry==null){return null}if(typeof(a)=="string"){if(this._innerGeometry.FromImageFile(a)==false){var b=new Error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_Open_PictureFile_Failed"));b.name=SuperMap.Web.Realspace.ExceptionName.FileOrDownloadFailed;throw b}}return true},clone:function(){if(this._innerGeometry==null){return null}var a=this._innerGeometry.Clone();if(a==null){return null}var b=new SuperMap.Web.Core.GeoPicture3D();b._set_innerGeometry(a);return b}};SuperMap.Web.Core.GeoPicture3D.registerClass("SuperMap.Web.Core.GeoPicture3D",SuperMap.Web.Core.Geometry3D,Sys.IDisposable);SuperMap.Web.Core.GeoPlacemark=function(){SuperMap.Web.Core.GeoPlacemark.initializeBase(this);this._innerGeometry=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOPLACEMARK);this._feature3d=null};SuperMap.Web.Core.GeoPlacemark.prototype={dispose:function(){this._innerGeometry=null},get_name:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.Name},set_name:function(a){if(this._innerGeometry==null){return}if(typeof(a)=="string"){this._innerGeometry.Name=a}},get_geometry:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.Geometry},set_geometry:function(a){if(this._innerGeometry==null){return}if(SuperMap.Web.Core.Geometry.isInstanceOfType(a)){this._innerGeometry.Geometry=a._get_innerGeometry()}},setEmpty:function(){if(this._innerGeometry==null){return null}this._innerGeometry.SetEmpty()},clone:function(){if(this._innerGeometry==null){return null}var a=this._innerGeometry.Clone();if(a==null){return null}var b=new SuperMap.Web.Core.GeoPlacemark();b._set_innerGeometry(a);return b}};SuperMap.Web.Core.GeoPlacemark.registerClass("SuperMap.Web.Core.GeoPlacemark",SuperMap.Web.Core.Geometry3D,Sys.IDisposable);SuperMap.Web.Core.TextPart3D=function(a,b){this._innerTextPart3D=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateTextPart3D();if(this._innerTextPart3D==null){return}this._anchorPoint=new SuperMap.Web.Core.Point3D();if(typeof(a)=="string"){this._innerTextPart3D.Text=a}if(SuperMap.Web.Core.Point3D.isInstanceOfType(b)){this._innerTextPart3D.AnchorPoint=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(b)}};SuperMap.Web.Core.TextPart3D.prototype={dispose:function(){this._innerTextPart3D=null;this._anchorPoint=null},_get_innerTextPart3D:function(a){if(this._innerTextPart3D==null){return null}return this._innerTextPart3D},_set_innerTextPart3D:function(a){if(a==null){return null}this._innerTextPart3D=a},get_rotation:function(){if(this._innerTextPart3D==null){return null}return this._innerTextPart3D.Rotation},set_rotation:function(a){if(this._innerTextPart3D==null){return}var b=parseFloat(a);if(!isNaN(b)){this._innerTextPart3D.Rotation=b}},get_text:function(){if(this._innerTextPart3D==null){return null}return this._innerTextPart3D.Text},set_text:function(a){if(this._innerTextPart3D==null){return}if(typeof(a)=="string"){this._innerTextPart3D.Text=a}},get_anchorPoint:function(){if(this._innerTextPart3D==null){return null}this._anchorPoint.x=this._innerTextPart3D.AnchorPoint.X;this._anchorPoint.y=this._innerTextPart3D.AnchorPoint.Y;this._anchorPoint.z=this._innerTextPart3D.AnchorPoint.Z;return this._anchorPoint},set_anchorPoint:function(a){if(this._innerTextPart3D==null){return}if(SuperMap.Web.Core.Point3D.isInstanceOfType(a)){this._innerTextPart3D.AnchorPoint=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(a)}},get_x:function(){if(this._innerTextPart3D==null){return null}return this._innerTextPart3D.X},set_x:function(a){if(this._innerTextPart3D==null){return}var b=parseFloat(a);if(!isNaN(b)){this._innerTextPart3D.X=b}},get_y:function(){if(this._innerTextPart3D==null){return null}return this._innerTextPart3D.Y},set_y:function(b){if(this._innerTextPart3D==null){return}var a=parseFloat(b);if(!isNaN(a)){this._innerTextPart3D.Y=a}},get_z:function(){if(this._innerTextPart3D==null){return null}return this._innerTextPart3D.Z},set_z:function(b){if(this._innerTextPart3D==null){return}var a=parseFloat(b);if(!isNaN(a)){this._innerTextPart3D.Z=a}},clone:function(){var b=this._innerTextPart3D.Clone();if(b==null){return null}var a=new SuperMap.Web.Core.TextPart3D();a._set_innerTextPart3D(b);return a}};SuperMap.Web.Core.TextPart3D.registerClass("SuperMap.Web.Core.TextPart3D");SuperMap.Web.Core.GeoText3D=function(c){SuperMap.Web.Core.GeoText3D.initializeBase(this);this._innerGeometry=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOTEXT3D);if(Function._validateParams(arguments,[{name:"textPart3Ds",type:Array,elementType:SuperMap.Web.Core.TextPart3D}])==null){for(var a=0;a<c.length;a++){var b=c[a]._get_innerTextPart3D();this._innerGeometry.AddPart(b)}}};SuperMap.Web.Core.GeoText3D.prototype={dispose:function(){this._innerGeometry=null},get_partCount:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.PartCount},get_text:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.Text},clone:function(){if(this._innerGeometry==null){return null}var b=this._innerGeometry.Clone();if(b==null){return null}var a=new SuperMap.Web.Core.GeoText3D();a._set_innerGeometry(b);return a},addPart:function(a){if(this._innerGeometry==null){return null}if(SuperMap.Web.Core.TextPart3D.isInstanceOfType(a)){var b=a._get_innerTextPart3D();return this._innerGeometry.AddPart(b)}return -1},getPart:function(a){if(this._innerGeometry==null){return null}var c=parseInt(a);if(!isNaN(c)){if(c<0||c>=this._innerGeometry.PartCount){return null}var b=this._innerGeometry.GetPart(c);return SuperMap.Web.Core.Conversion._CreateObjectBySRObject(b,"TextPart3D")}},indexOf:function(a){if(this._innerGeometry==null){return null}if(SuperMap.Web.Core.TextPart3D.isInstanceOfType(a)){var b=a._get_innerTextPart3D();return this._innerGeometry.IndexOf(b)}return -1},insertPart:function(a,b){if(this._innerGeometry==null){return null}var d=parseInt(a);if(!isNaN(d)&&SuperMap.Web.Core.TextPart3D.isInstanceOfType(b)){if(d<0||d>this._innerGeometry.PartCount){return false}var c=b._get_innerTextPart3D();return this._innerGeometry.InsertPart(d,c)}return false},removePart:function(a){if(this._innerGeometry==null){return null}var b=parseInt(a);if(!isNaN(b)){if(b<0||b>=this._innerGeometry.PartCount){return false}return this._innerGeometry.RemovePart(b)}return false},setPart:function(a,b){if(this._innerGeometry==null){return null}var d=parseInt(a);if(!isNaN(d)&&SuperMap.Web.Core.TextPart3D.isInstanceOfType(b)){if(d<0||d>=this._innerGeometry.PartCount){return false}var c=b._get_innerTextPart3D();return this._innerGeometry.SetPart(d,c)}return false}};SuperMap.Web.Core.GeoText3D.registerClass("SuperMap.Web.Core.GeoText3D",SuperMap.Web.Core.Geometry3D,Sys.IDisposable);SuperMap.Web.Core.GeoParticle=function(){SuperMap.Web.Core.GeoParticle.initializeBase(this);this._innerGeometry=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOPARTICLE)};SuperMap.Web.Core.GeoParticle.prototype={dispose:function(){this._innerGeometry=null},_resFileName2ParticleType:function(a){if(typeof(a)!="string"){return null}var b=0;if(a=="fire.par"){b=SuperMap.Web.Core.ParticleType.Fire}else{if(a=="tailflame.par"){b=SuperMap.Web.Core.ParticleType.Tailflame}else{if(a=="smoke.par"){b=SuperMap.Web.Core.ParticleType.Smoke}else{if(a=="firesmoke.par"){b=SuperMap.Web.Core.ParticleType.FireSmoke}else{if(a=="fountain.par"){b=SuperMap.Web.Core.ParticleType.Fountain}else{if(a=="explode.par"){b=SuperMap.Web.Core.ParticleType.Explode}else{if(a=="rain.par"){b=SuperMap.Web.Core.ParticleType.Rain}else{if(a=="snow.par"){b=SuperMap.Web.Core.ParticleType.Snow}}}}}}}}return b},_particleType2ResFileName:function(b){var a=null;switch(b){case SuperMap.Web.Core.ParticleType.Fire:a="fire.par";break;case SuperMap.Web.Core.ParticleType.Tailflame:a="tailflame.par";break;case SuperMap.Web.Core.ParticleType.Smoke:a="smoke.par";break;case SuperMap.Web.Core.ParticleType.FireSmoke:a="firesmoke.par";break;case SuperMap.Web.Core.ParticleType.Fountain:a="fountain.par";break;case SuperMap.Web.Core.ParticleType.Explode:a="explode.par";break;case SuperMap.Web.Core.ParticleType.Rain:a="rain.par";break;case SuperMap.Web.Core.ParticleType.Snow:a="snow.par";break;default:}return a},get_particleFilePath:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.ParticleFilePath},set_particleFilePath:function(a){if(this._innerGeometry==null){return null}if(typeof(a)=="string"){this._innerGeometry.ParticleFilePath=a}},get_particleType:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.ParticleType},set_particleType:function(b){if(this._innerGeometry==null){return null}var a=this._particleType2ResFileName(b);if(a!=null){this._innerGeometry.ParticleFilePath=a}},makeWithGeometry:function(a){if(this._innerGeometry==null){return null}return this._innerGeometry.MakeWithGeometry(a._innerGeometry)},getParticleSystemCount:function(){if(this._innerGeometry==null){return null}return this._innerGeometry.GetParticleSystemCount()},getParticleSystemByIndex:function(b){if(this._innerGeometry==null){return null}var a=parseInt(b);if(!isNaN(a)){var d=this._innerGeometry.GetParticleSystemByIndex(a);var c=new SuperMap.Web.Realspace.ParticleSystem(d);return c}return null},clone:function(){if(this._innerGeometry==null){return null}var a=this._innerGeometry.Clone();if(a==null){return null}var b=new SuperMap.Web.Core.GeoParticle();b._set_innerGeometry(a);return b}};SuperMap.Web.Core.GeoParticle.registerClass("SuperMap.Web.Core.GeoParticle",SuperMap.Web.Core.Geometry3D,Sys.IDisposable);SuperMap.Web.Core.GeoSphere=function(a){SuperMap.Web.Core.GeoSphere.initializeBase(this);this._innerGeometry=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOSPHERE);if(this._innerGeometry==null){return null}this._innerGeometry.Radius=a};SuperMap.Web.Core.GeoSphere.prototype={dispose:function(){this._innerGeometry=null},get_radius:function(){return this._innerGeometry.Radius},set_radius:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.Radius=b}},get_center:function(){var a=this._innerGeometry.CenterPoint;return SuperMap.Web.Core.Conversion._ConvertSRObject2Object(a,"Point3D")},clone:function(){var b=this._innerGeometry.Clone();if(b==null){return null}var a=new SuperMap.Web.Core.GeoSphere();a._set_innerGeometry(b);return a},isValid:function(){if(this._innerGeometry==null){return false}return this._innerGeometry.IsValid},mirror3D:function(f,c,a){if(this._innerGeometry==null){return null}if(SuperMap.Web.Core.Point3D.isInstanceOfType(f)&&!f.isEmpty()&&SuperMap.Web.Core.Point3D.isInstanceOfType(c)&&!c.isEmpty()&&SuperMap.Web.Core.Point3D.isInstanceOfType(a)&&!a.isEmpty()){var g=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(f);var e=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(c);var b=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(a);if(g==null||e==null||b==null){return null}var h=this._innerGeometry.Mirror3D(g,e,b);if(h==null){return null}var d=new SuperMap.Web.Core.GeoSphere();d._set_innerGeometry(h);return d}return null}};SuperMap.Web.Core.GeoSphere.registerClass("SuperMap.Web.Core.GeoSphere",SuperMap.Web.Core.Geometry3D,Sys.IDisposable);SuperMap.Web.Core.GeoCircle3D=function(a){SuperMap.Web.Core.GeoCircle3D.initializeBase(this);this._innerGeometry=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOCIRCLE3D);if(this._innerGeometry==null){return null}this._innerGeometry.Radius=a};SuperMap.Web.Core.GeoCircle3D.prototype={dispose:function(){this._innerGeometry=null},get_radius:function(){return this._innerGeometry.Radius},set_radius:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.Radius=b}},get_center:function(){var a=this._innerGeometry.CenterPoint;return SuperMap.Web.Core.Conversion._ConvertSRObject2Object(a,"Point3D")},clone:function(){var b=this._innerGeometry.Clone();if(b==null){return null}var a=new SuperMap.Web.Core.GeoCircle3D();a._set_innerGeometry(b);return a},isValid:function(){if(this._innerGeometry==null){return false}return this._innerGeometry.IsValid}};SuperMap.Web.Core.GeoCircle3D.registerClass("SuperMap.Web.Core.GeoCircle3D",SuperMap.Web.Core.Geometry3D,Sys.IDisposable);SuperMap.Web.Core.GeoCone=function(b,a){SuperMap.Web.Core.GeoCone.initializeBase(this);this._innerGeometry=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOCONE);if(this._innerGeometry==null){return null}this._innerGeometry.Radius=b;this._innerGeometry.Height=a};SuperMap.Web.Core.GeoCone.prototype={dispose:function(){this._innerGeometry=null},get_radius:function(){return this._innerGeometry.Radius},set_radius:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.Radius=b}},get_center:function(){var a=this._innerGeometry.CenterPoint;return SuperMap.Web.Core.Conversion._ConvertSRObject2Object(a,"Point3D")},get_height:function(){return this._innerGeometry.Height},set_height:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.Height=b}},clone:function(){var b=this._innerGeometry.Clone();if(b==null){return null}var a=new SuperMap.Web.Core.GeoCone();a._set_innerGeometry(b);return a},isValid:function(){if(this._innerGeometry==null){return false}return this._innerGeometry.IsValid}};SuperMap.Web.Core.GeoCone.registerClass("SuperMap.Web.Core.GeoCone",SuperMap.Web.Core.Geometry3D,Sys.IDisposable);SuperMap.Web.Core.GeoCylinder=function(c,b,a){SuperMap.Web.Core.GeoCylinder.initializeBase(this);this._innerGeometry=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOCYLINDER);if(this._innerGeometry==null){return null}this._innerGeometry.RadiusTop=c;this._innerGeometry.RadiusBottom=b;this._innerGeometry.Height=a};SuperMap.Web.Core.GeoCylinder.prototype={dispose:function(){this._innerGeometry=null},get_radiusTop:function(){return this._innerGeometry.RadiusTop},set_radiusTop:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.RadiusTop=b}},get_radiusBottom:function(){return this._innerGeometry.RadiusBottom},set_radiusBottom:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.RadiusBottom=b}},get_center:function(){var a=this._innerGeometry.CenterPoint;return SuperMap.Web.Core.Conversion._ConvertSRObject2Object(a,"Point3D")},get_height:function(){return this._innerGeometry.Height},set_height:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.Height=b}},clone:function(){var b=this._innerGeometry.Clone();if(b==null){return null}var a=new SuperMap.Web.Core.GeoCylinder();a._set_innerGeometry(b);return a},isValid:function(){if(this._innerGeometry==null){return false}return this._innerGeometry.IsValid}};SuperMap.Web.Core.GeoCylinder.registerClass("SuperMap.Web.Core.GeoCylinder",SuperMap.Web.Core.Geometry3D,Sys.IDisposable);SuperMap.Web.Core.GeoEllipsoid=function(b,a,c,d){SuperMap.Web.Core.GeoEllipsoid.initializeBase(this);this._innerGeometry=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOELLIPSOID);if(this._innerGeometry==null){return null}this._innerGeometry.PriAxis=b;this._innerGeometry.ThiAxis=a;this._innerGeometry.SecAxis=c;this._innerGeometry.Angle=d};SuperMap.Web.Core.GeoEllipsoid.prototype={dispose:function(){this._innerGeometry=null},get_xAxis:function(){return this._innerGeometry.PriAxis},set_xAxis:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.PriAxis=b}},get_yAxis:function(){return this._innerGeometry.ThiAxis},set_yAxis:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.ThiAxis=b}},get_zAxis:function(){return this._innerGeometry.SecAxis},set_zAxis:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.SecAxis=b}},get_angle:function(){return this._innerGeometry.Angle},set_angle:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.Angle=b}},get_center:function(){var a=this._innerGeometry.CenterPoint;return SuperMap.Web.Core.Conversion._ConvertSRObject2Object(a,"Point3D")},clone:function(){var b=this._innerGeometry.Clone();if(b==null){return null}var a=new SuperMap.Web.Core.GeoEllipsoid();a._set_innerGeometry(b);return a},isValid:function(){if(this._innerGeometry==null){return false}return this._innerGeometry.IsValid}};SuperMap.Web.Core.GeoEllipsoid.registerClass("SuperMap.Web.Core.GeoEllipsoid",SuperMap.Web.Core.Geometry3D,Sys.IDisposable);SuperMap.Web.Core.GeoHemiSphere=function(a){SuperMap.Web.Core.GeoHemiSphere.initializeBase(this);this._innerGeometry=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOHEMISPHERE);if(this._innerGeometry==null){return null}this._innerGeometry.Radius=a};SuperMap.Web.Core.GeoHemiSphere.prototype={dispose:function(){this._innerGeometry=null},get_radius:function(){return this._innerGeometry.Radius},set_radius:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.Radius=b}},get_center:function(){var a=this._innerGeometry.CenterPoint;return SuperMap.Web.Core.Conversion._ConvertSRObject2Object(a,"Point3D")},clone:function(){var a=this._innerGeometry.Clone();if(a==null){return null}var b=new SuperMap.Web.Core.GeoHemiSphere();b._set_innerGeometry(a);return b},isValid:function(){if(this._innerGeometry==null){return false}return this._innerGeometry.IsValid}};SuperMap.Web.Core.GeoHemiSphere.registerClass("SuperMap.Web.Core.GeoHemiSphere",SuperMap.Web.Core.Geometry3D,Sys.IDisposable);SuperMap.Web.Core.GeoPie3D=function(){SuperMap.Web.Core.GeoPie3D.initializeBase(this);this._innerGeometry=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOPIE3D);if(this._innerGeometry==null){return null}};SuperMap.Web.Core.GeoPie3D.prototype={dispose:function(){this._innerGeometry=null},get_semiMajorAxis:function(){return this._innerGeometry.SemiMajorAxis},set_semiMajorAxis:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.SemiMajorAxis=b}},get_semiMinorAxis:function(){return this._innerGeometry.SemiMinorAxis},set_semiMinorAxis:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.SemiMinorAxis=b}},get_startAngle:function(){return this._innerGeometry.StartAngle},set_startAngle:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.StartAngle=b}},get_endAngle:function(){return this._innerGeometry.EndAngle},set_endAngle:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.EndAngle=b}},get_rotationAngle:function(){return this._innerGeometry.RotationAngle},set_rotationAngle:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.RotationAngle=b}},get_center:function(){var a=this._innerGeometry.CenterPoint;return SuperMap.Web.Core.Conversion._ConvertSRObject2Object(a,"Point3D")},clone:function(){var b=this._innerGeometry.Clone();if(b==null){return null}var a=new SuperMap.Web.Core.GeoPie3D();a._set_innerGeometry(b);return a},isValid:function(){if(this._innerGeometry==null){return false}return this._innerGeometry.IsValid}};SuperMap.Web.Core.GeoPie3D.registerClass("SuperMap.Web.Core.GeoPie3D",SuperMap.Web.Core.Geometry3D,Sys.IDisposable);SuperMap.Web.Core.GeoPieCylinder=function(){SuperMap.Web.Core.GeoPieCylinder.initializeBase(this);this._innerGeometry=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOPIECYLINDER);if(this._innerGeometry==null){return null}};SuperMap.Web.Core.GeoPieCylinder.prototype={dispose:function(){this._innerGeometry=null},get_semiMajorAxis:function(){return this._innerGeometry.SemiMajorAxis},set_semiMajorAxis:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.SemiMajorAxis=b}},get_semiMinorAxis:function(){return this._innerGeometry.SemiMinorAxis},set_semiMinorAxis:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.SemiMinorAxis=b}},get_startAngle:function(){return this._innerGeometry.StartAngle},set_startAngle:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.StartAngle=b}},get_endAngle:function(){return this._innerGeometry.EndAngle},set_endAngle:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.EndAngle=b}},get_rotationAngle:function(){return this._innerGeometry.RotationAngle},set_rotationAngle:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.RotationAngle=b}},get_height:function(){return this._innerGeometry.Height},set_height:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.Height=b}},get_center:function(){var a=this._innerGeometry.CenterPoint;return SuperMap.Web.Core.Conversion._ConvertSRObject2Object(a,"Point3D")},clone:function(){var b=this._innerGeometry.Clone();if(b==null){return null}var a=new SuperMap.Web.Core.GeoPieCylinder();a._set_innerGeometry(b);return a},isValid:function(){if(this._innerGeometry==null){return false}return this._innerGeometry.IsValid}};SuperMap.Web.Core.GeoPieCylinder.registerClass("SuperMap.Web.Core.GeoPieCylinder",SuperMap.Web.Core.Geometry3D,Sys.IDisposable);SuperMap.Web.Core.GeoPyramid=function(c,b,a){SuperMap.Web.Core.GeoPyramid.initializeBase(this);this._innerGeometry=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOPYRAMID);if(this._innerGeometry==null){return null}this._innerGeometry.PyramidLength=c;this._innerGeometry.PyramidWidth=b;this._innerGeometry.PyramidHeight=a};SuperMap.Web.Core.GeoPyramid.prototype={dispose:function(){this._innerGeometry=null},get_pyramidLength:function(){return this._innerGeometry.PyramidLength},set_pyramidLength:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.PyramidLength=b}},get_pyramidWidth:function(){return this._innerGeometry.PyramidWidth},set_pyramidWidth:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.PyramidWidth=b}},get_pyramidHeight:function(){return this._innerGeometry.PyramidHeight},set_pyramidHeight:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.PyramidHeight=b}},get_center:function(){var a=this._innerGeometry.CenterPoint;return SuperMap.Web.Core.Conversion._ConvertSRObject2Object(a,"Point3D")},clone:function(){var b=this._innerGeometry.Clone();if(b==null){return null}var a=new SuperMap.Web.Core.GeoPyramid();a._set_innerGeometry(b);return a},isValid:function(){if(this._innerGeometry==null){return false}return this._innerGeometry.IsValid}};SuperMap.Web.Core.GeoPyramid.registerClass("SuperMap.Web.Core.GeoPyramid",SuperMap.Web.Core.Geometry3D,Sys.IDisposable);SuperMap.Web.Core.GeoBox=function(c,b,a){SuperMap.Web.Core.GeoBox.initializeBase(this);this._innerGeometry=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateGeometry(SuperMap.Web.Core.GeometryType.GEOBOX);if(this._innerGeometry==null){return null}this._innerGeometry.Length=c;this._innerGeometry.Width=b;this._innerGeometry.Height=a};SuperMap.Web.Core.GeoBox.prototype={dispose:function(){this._innerGeometry=null},get_length:function(){return this._innerGeometry.Length},set_length:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.Length=b}},get_width:function(){return this._innerGeometry.Width},set_width:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.Width=b}},get_height:function(){return this._innerGeometry.Height},set_height:function(a){var b=parseFloat(a);if(!isNaN(b)){this._innerGeometry.Height=b}},get_center:function(){var a=this._innerGeometry.CenterPoint;return SuperMap.Web.Core.Conversion._ConvertSRObject2Object(a,"Point3D")},clone:function(){var a=this._innerGeometry.Clone();if(a==null){return null}var b=new SuperMap.Web.Core.GeoBox();b._set_innerGeometry(a);return b},isValid:function(){if(this._innerGeometry==null){return false}return this._innerGeometry.IsValid}};SuperMap.Web.Core.GeoBox.registerClass("SuperMap.Web.Core.GeoBox",SuperMap.Web.Core.Geometry3D,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.UI.Controls");SuperMap.Web.UI.Controls.SceneControl=function(b,f,a){SuperMap.Web.Realspace.Utility._SceneControl=this;var d=Function._validateParams(arguments,[{name:"container",domElement:true,mayBeNull:false,optional:false},{name:"initCallBack",type:Function,mayBeNull:false,optional:false},{name:"failedCallBack",type:Function,mayBeNull:false,optional:false}]);if(d){var c=SuperMap.Web.Realspace.Utility._ConvertSysEx2Realspace(d);throw c}SuperMap.Web.UI.Controls.SceneControl.initializeBase(this,[b]);this._id=b.id;this._container=b;this._initCallBack=f;this._failedCallBack=a;this._scene=null;this._sceneAction=null;this._sceneServicesList=null;this._layer3DServicesList=null;this._innerObjectManager==null;this._currentAsyncHelper=null;this._initialize()};SuperMap.Web.UI.Controls.SceneControl.prototype={_initialize:function(){var b=new Error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_PlugIn_Is_Not_Installed"));b.name=SuperMap.Web.Realspace.ExceptionName.PlugInNotInstalled;try{this._innerSceneCtrl=document.createElement("object");if(window.navigator.appName=="Microsoft Internet Explorer"){this._container.appendChild(this._innerSceneCtrl)}this._innerSceneCtrl.id="SuperMapRealspace";this._innerSceneCtrl.name="SuperMapRealspace";this._innerSceneCtrl.width="100%";this._innerSceneCtrl.height="100%";this._innerSceneCtrl.BorderStyle=0;this._innerSceneCtrl.type="application/x-supermaprealspace";if(window.navigator.appName!="Microsoft Internet Explorer"){this._container.appendChild(this._innerSceneCtrl);if(this._innerSceneCtrl.IsFPSVisible!=false){throw b}}this._IsInitialized=false;if(window.navigator.appName=="Microsoft Internet Explorer"){if(this._innerSceneCtrl.object==null){throw b}}}catch(d){throw b}var a=document.body;if((a.style.overflow!="hidden")&&(a.style.overflow!="visible")){a.style.overflow="hidden"}SuperMap.Web.Realspace.Utility._SceneControlMap.put(this._innerSceneCtrl.Identifier,this);var c=this._sceneInitialized;this.addExploreEvent(this._innerSceneCtrl,"SceneInitialized",function(e){return c(SuperMap.Web.Realspace.Utility._SceneControlMap.get(e))});this.addEvent("sceneInitialized",this._initCallBack);var f=this._sceneInitializeFailed;this.addExploreEvent(this._innerSceneCtrl,"SceneInitializeFailed",function(e){return f(SuperMap.Web.Realspace.Utility._SceneControlMap.get(e))});this.addEvent("sceneInitializeFailed",this._failedCallBack);if(SuperMap.Web.Realspace.Environment._IsSceneAntialias!=null){this._innerSceneCtrl.IsSceneAntialias=SuperMap.Web.Realspace.Environment._IsSceneAntialias}if(SuperMap.Web.Realspace.Environment._SceneAntialiasValue!=null){this._innerSceneCtrl.SceneAntialiasValue=SuperMap.Web.Realspace.Environment._SceneAntialiasValue}this.addExploreEvent(this._innerSceneCtrl,"SceneAntialiasFailed",function(){var e=new Error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_SceneAntialias_Failed"));e.name=SuperMap.Web.Realspace.ExceptionName.RenderSystemIsNotSupported;throw e});SuperMap.Web.Realspace.Environment._IsInitialized=true;if(window.navigator.appName!="Microsoft Internet Explorer"){this.set_sceneAction(new SuperMap.Web.UI.Action3Ds.PanSelect(this));this._attachEvent();this.clock=setInterval(this.count,10)}},count:function(){for(i=0;i<SuperMap.Web.Realspace.Utility._SceneControlMap.size();i++){var a=SuperMap.Web.Realspace.Utility._SceneControlMap.element(i).value;if(!a._IsInitialized){a._raiseEvent("sceneInitialized")}window.clearInterval(a.clock)}},dispose:function(){this._innerSceneCtrl=null;this._container=null;this._initCallBack=null;this._failedCallBack=null},_isBrowserSupported:function(){if(window.navigator.appName!="Microsoft Internet Explorer"){var a=new Error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_Browser_Is_Not_Supported"));a.name=SuperMap.Web.Realspace.ExceptionName.BrowserNotSupport;throw a}},_get_BrowserVersion:function(){if(window.navigator.platform=="Win32"){return"x86"}if(window.navigator.platform=="Win64"){return"x64"}},_get_innerSceneControl:function(){return this._innerSceneCtrl},get_asyncHelper:function(){if(this._currentAsyncHelper==null){this._currentAsyncHelper=new SuperMap.Web.Realspace.AsyncHelper(this)}return this._currentAsyncHelper},_get_innerObjectManager:function(){if(this._innerObjectManager==null){this._innerObjectManager=this._innerSceneCtrl.ObjectManager}return this._innerObjectManager},get_scene:function(){if(this._scene==null){this._scene=new SuperMap.Web.Realspace.Scene(this)}return this._scene},get_sceneAction:function(){return this._sceneAction},set_sceneAction:function(a){if(!SuperMap.Web.UI.Action3Ds.SceneAction.isInstanceOfType(a)){return}this._sceneAction=a;this._innerSceneCtrl.SceneUserAction=a.get_type()},get_sceneServicesList:function(){if(this._sceneServicesList==null){this._sceneServicesList=new SuperMap.Web.Realspace.SceneServicesList(this)}return this._sceneServicesList},get_layer3DServicesList:function(){if(this._layer3DServicesList==null){this._layer3DServicesList=new SuperMap.Web.Realspace.Layer3DServicesList(this)}return this._layer3DServicesList},get_controlOffsetX:function(){if(this._innerSceneCtrl!=null){if(window.navigator.appName=="Microsoft Internet Explorer"){var a=96/window.screen.deviceXDPI;return this._innerSceneCtrl.ControlOffsetX*a}else{return this._container.offsetLeft}}},get_controlOffsetY:function(){if(this._innerSceneCtrl!=null){if(window.navigator.appName=="Microsoft Internet Explorer"){var a=96/window.screen.deviceXDPI;return this._innerSceneCtrl.ControlOffsetY*a}else{return this._container.offsetTop}}},get_bubbles:function(){if(this._Bubbles==null){this._Bubbles=new SuperMap.Web.Realspace.Bubbles(this._innerSceneCtrl.Bubbles)}return this._Bubbles},get_isAlwaysUpdate:function(){if(this._innerSceneCtrl!=null){return this._innerSceneCtrl.IsAlwaysUpdate}},set_isAlwaysUpdate:function(a){if(this._innerSceneCtrl!=null&&typeof(a)=="boolean"){this._innerSceneCtrl.IsAlwaysUpdate=a}},get_isFPSVisible:function(){if(this._innerSceneCtrl!=null){return this._innerSceneCtrl.IsFPSVisible}},set_isFPSVisible:function(a){if(this._innerSceneCtrl!=null&&typeof(a)=="boolean"){this._innerSceneCtrl.IsFPSVisible=a}},checkPluginUpdate:function(b){if(typeof(b)!="string"){return""}var a=this._innerSceneCtrl.CheckPluginUpdate(b);if(a==""){a=SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_No_Update_Available")}return a},getPluginVersion:function(){var a=this._innerSceneCtrl.GetPluginVersion();if(a!==""){a=SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_PlugIn_Version_Info")+a}else{a=SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_Couldnt_Get_Version_Info")}return a},pixelToGlobe:function(a,d){if(!SuperMap.Web.Core.Point.isInstanceOfType(a)){return null}if(typeof(d)=="undefined"){var b=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(a);var c=this._innerSceneCtrl.PixelToGlobe(b,SuperMap.Web.Realspace.PixelToGlobeMode.Terrain);var e=new SuperMap.Web.Core.Point3D(c.X,c.Y,c.Z);return e}else{var b=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(a);var c=this._innerSceneCtrl.PixelToGlobe(b,d);var e=new SuperMap.Web.Core.Point3D(c.X,c.Y,c.Z);return e}},globeToPixel:function(a){if(!SuperMap.Web.Core.Point3D.isInstanceOfType(a)){return null}var c=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(a);var b=this._innerSceneCtrl.GlobeToPixel(c);var d=new SuperMap.Web.Core.Point2D(b.X,b.Y);return d},_mouseDown:function(a,f,b,d){var c=d._getEventObject(a,f,b,d);if(d._sceneAction&&d._sceneAction.onMouseDown){d._sceneAction.onMouseDown(c)}},_mouseUp:function(a,f,b,d){var c=d._getEventObject(a,f,b,d);if(d._sceneAction&&d._sceneAction.onMouseUp){d._sceneAction.onMouseUp(c)}},_mouseWheel:function(a,g,c,b,f){var d=f._getEventObject(a,g,b,f,c);if(f._sceneAction&&f._sceneAction.onMouseWheel){f._sceneAction.onMouseWheel(d)}},_click:function(a,f,b,d){var c=d._getEventObject(a,f,b,d);if(d._sceneAction&&d._sceneAction.onClick){d._sceneAction.onClick(c)}},_dbClick:function(a,f,b,d){var c=d._getEventObject(a,f,b,d);if(d._sceneAction&&d._sceneAction.onDbClick){d._sceneAction.onDbClick(c)}},_mouseOver:function(a,f,b,d){var c=d._getEventObject(a,f,b,d);if(d._sceneAction&&d._sceneAction.onMouseOver){d._sceneAction.onMouseOver(c)}},_mouseMove:function(a,f,b,d){var c=d._getEventObject(a,f,b,d);if(d._sceneAction&&d._sceneAction.onMouseMove){d._sceneAction.onMouseMove(c)}},_keyDown:function(a,c){var b=c._getEventObject(0,0,a,c);if(c._sceneAction&&c._sceneAction.onKeyDown){c._sceneAction.onKeyDown(b)}},_keyUp:function(a,c){var b=c._getEventObject(0,0,a,c);if(c._sceneAction&&c._sceneAction.onKeyUp){c._sceneAction.onKeyUp(b)}},_objectSelected:function(a,c){var b=SuperMap.Web.Realspace.Utility._SceneControl.get_scene().findSelection3Ds(true);c._raiseEvent("objectSelected",b)},_focusChanged:function(a){SuperMap.Web.Realspace.Utility._SceneControl=a},_measureDistance:function(c,b,a,e){var d=[c,b];if(a){var f=new SuperMap.Web.Core.GeoLine3D();f._set_innerGeometry(a);e._raiseEvent("measureDistance",d,f)}else{e._raiseEvent("measureDistance",d)}},_measureArea:function(d,a,b){if(a){var c=new SuperMap.Web.Core.GeoRegion3D();c._set_innerGeometry(a);b._raiseEvent("measureArea",d,c)}else{b._raiseEvent("measureArea",d)}},_measureHeight:function(b,a,c){if(a){var d=new SuperMap.Web.Core.GeoLine3D();d._set_innerGeometry(a);c._raiseEvent("measureHeight",b,d)}else{c._raiseEvent("measureHeight",b)}},_measureDistanceFinished:function(b,a,c){if(a){var d=new SuperMap.Web.Core.GeoLine3D();d._set_innerGeometry(a);c._raiseEvent("measureDistanceFinished",b,d)}else{c._raiseEvent("measureDistanceFinished",b)}},_measureAreaFinished:function(d,a,b){if(a){var c=new SuperMap.Web.Core.GeoRegion3D();c._set_innerGeometry(a);b._raiseEvent("addExcavationRegion",c);b._raiseEvent("measureAreaFinished",d,c)}else{b._raiseEvent("measureAreaFinished",d)}},_measureHeightFinished:function(b,a,c){if(a){var d=new SuperMap.Web.Core.GeoLine3D();d._set_innerGeometry(a);c._raiseEvent("measureHeightFinished",b,d)}else{c._raiseEvent("measureHeightFinished",b)}},_sceneInitialized:function(c){c.set_sceneAction(new SuperMap.Web.UI.Action3Ds.PanSelect(c));c._attachEvent();c._raiseEvent("sceneInitialized");c._IsInitialized=true;if(c._get_innerSceneControl().IsRenderSystemSupported==false){var a=new Error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_RenderSystem_Is_Not_Supported"));a.name=SuperMap.Web.Realspace.ExceptionName.RenderSystemIsNotSupported;throw a}var b=c._get_innerSceneControl().GetPluginVersion();var d=SuperMap.Web.Realspace.Utility._getLibVersion();if(b<d){var a=new Error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_PlugIn_Lower")+d);a.name=SuperMap.Web.Realspace.ExceptionName.PluginVersionLower;throw a}else{if(b>d){var a=new Error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_Lib_Lower")+d);a.name=SuperMap.Web.Realspace.ExceptionName.LibVersionLower;throw a}}},_sceneInitializeFailed:function(b){b._raiseEvent("sceneInitializeFailed");if(b._get_innerSceneControl().IsRenderSystemSupported==false){alert("OpenGl版本低，请更新最新显卡驱动");var a=new Error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_RenderSystem_Is_Not_Supported"));a.name=SuperMap.Web.Realspace.ExceptionName.RenderSystemIsNotSupported;throw a}},_flownStart:function(c,b){var a=new SuperMap.Web.Realspace.EventObject();a._set_camera(b.get_scene().get_camera());b._raiseEvent("flownStart",a,c)},_flownEnd:function(c,b){var a=new SuperMap.Web.Realspace.EventObject();a._set_camera(b.get_scene().get_camera());b._raiseEvent("flownEnd",a,c)},_flownTour:function(a){a._raiseEvent("flownTour")},_modelFetchedHandler:function(a,b){if(b.get_asyncHelper()){b.get_asyncHelper()._asyncFetchModelFinished(a,b)}},_pictureFetchedHandler:function(b,a){if(a.get_asyncHelper()){a.get_asyncHelper()._asyncFetchPicture3DFinished(b,a)}},_layer3DFetchedHandler:function(a,b){if(b.get_asyncHelper()){b.get_asyncHelper()._asyncFetchLayer3DFinished(a,b)}},_bubbleEvent:function(b,a,d){var c=new SuperMap.Web.Realspace.Bubble(a);switch(b){case 0:d._raiseEvent("bubbleInitialize",c);break;case 1:d._raiseEvent("bubbleResize",c);break;case 2:d._raiseEvent("bubbleClose",c);break}},_attachEvent:function(){var x=this;var y=this._keyDown;this.addExploreEvent(this._innerSceneCtrl,"KeyDown",function(z){return y(z,x)});var f=this._keyUp;this.addExploreEvent(this._innerSceneCtrl,"KeyUp",function(z){return f(z,x)});var l=this._mouseDown;this.addExploreEvent(this._innerSceneCtrl,"LButtonDown",function(z,B,A){return l(z,B,A,x)});this.addExploreEvent(this._innerSceneCtrl,"MButtonDown",function(z,B,A){return l(z,B,A,x)});this.addExploreEvent(this._innerSceneCtrl,"RButtonDown",function(z,B,A){return l(z,B,A,x)});var g=this._mouseUp;this.addExploreEvent(this._innerSceneCtrl,"MButtonUp",function(z,B,A){return g(z,B,A,x)});this.addExploreEvent(this._innerSceneCtrl,"RButtonUp",function(z,B,A){return g(z,B,A,x)});this.addExploreEvent(this._innerSceneCtrl,"LButtonUp",function(z,B,A){return g(z,B,A,x)});var j=this._mouseWheel;this.addExploreEvent(this._innerSceneCtrl,"MouseWheel",function(z,C,B,A){return j(z,C,B,A,x)});var d=this._dbClick;this.addExploreEvent(this._innerSceneCtrl,"LButtonDblClick",function(z,B,A){return d(z,B,A,x)});this.addExploreEvent(this._innerSceneCtrl,"RButtonDblClick",function(z,B,A){return d(z,B,A,x)});var e=this._mouseOver;this.addExploreEvent(this._innerSceneCtrl,"MouseHover",function(z,B,A){return e(z,B,A,x)});var p=this._mouseMove;this.addExploreEvent(this._innerSceneCtrl,"MouseMove",function(z,B,A){return p(z,B,A,x)});var b=this._focusChanged;this.addExploreEvent(this._innerSceneCtrl,"FocusChanged",function(){return b(x)});var n=this._objectSelected;this.addExploreEvent(this._innerSceneCtrl,"ObjectSelected",function(z){return n(z,x)});var q=this._measureDistance;this.addExploreEvent(this._innerSceneCtrl,"MeasureDistance",function(B,A,z){return q(B,A,z,x)});var m=this._measureArea;this.addExploreEvent(this._innerSceneCtrl,"MeasureArea",function(A,z){return m(A,z,x)});var v=this._measureHeight;this.addExploreEvent(this._innerSceneCtrl,"MeasureHeight",function(A,z){return v(A,z,x)});var k=this._measureDistanceFinished;this.addExploreEvent(this._innerSceneCtrl,"MeasureDistanceFinished",function(A,z){return k(A,z,x)});var a=this._measureAreaFinished;this.addExploreEvent(this._innerSceneCtrl,"MeasureAreaFinished",function(A,z){return a(A,z,x)});var c=this._measureHeightFinished;this.addExploreEvent(this._innerSceneCtrl,"MeasureHeightFinished",function(A,z){return c(A,z,x)});var u=this._flownStart;this.addExploreEvent(this._innerSceneCtrl,"FlownStart",function(z){return u(z,x)});var o=this._flownEnd;this.addExploreEvent(this._innerSceneCtrl,"FlownEnd",function(z){return o(z,x)});var t=this._flownTour;this.addExploreEvent(this._innerSceneCtrl,"FlownTour",function(){return t(x)});var s=this._modelFetchedHandler;this.addExploreEvent(this._innerSceneCtrl,"FetchModelFinished",function(z){return s(z,x)});var r=this._pictureFetchedHandler;this.addExploreEvent(this._innerSceneCtrl,"FetchPicture3DFinished",function(z){return r(z,x)});var w=this._layer3DFetchedHandler;this.addExploreEvent(this._innerSceneCtrl,"FetchLayer3DFinished",function(z){return w(z,x)});var h=this._bubbleEvent;this.addExploreEvent(this._innerSceneCtrl,"BubbleEvent",function(A,z){return h(A,z,x)})},addExploreEvent:function(c,a,b){if(c.attachEvent){c.attachEvent("on"+a,b)}else{c.addEventListener(a,b,false)}},addEvent:function(a,b){this.get_events().addHandler(a,b)},removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}},_getEventObject:function(a,j,b,g,c){var d=new SuperMap.Web.Core.Point(a,j);var h=g.pixelToGlobe(d);var f=new SuperMap.Web.Realspace.EventObject();f._set_clientX(a);f._set_clientY(j);f._set_longitude(h.x);f._set_latitude(h.y);f._set_altitude(h.z);f._set_camera(g.get_scene().get_camera());f._set_flagType(b);if(c){f._set_zDelta(c)}return f}};SuperMap.Web.UI.Controls.SceneControl.registerClass("SuperMap.Web.UI.Controls.SceneControl",Sys.UI.Control,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.UI.Action3Ds");SuperMap.Web.UI.Action3Ds.SceneAction=function(c){SuperMap.Web.UI.Action3Ds.SceneAction.initializeBase(this);if(c!=undefined){var b=Function._validateParams(arguments,[{name:"sceneControl",type:SuperMap.Web.UI.Controls.SceneControl}]);if(b){var a=SuperMap.Web.Realspace.Utility._ConvertSysEx2Realspace(b);throw a}}this._sceneControl=c;this._name="BaseAction3D";this._type=SuperMap.Web.UI.Action3Ds.SceneActionType.NULL};SuperMap.Web.UI.Action3Ds.SceneAction.prototype={get_name:function(){return this._name},set_name:function(a){this._name=a},get_type:function(){return this._type},set_type:function(a){this._type=a},get_sceneControl:function(){return this._sceneControl},set_sceneControl:function(a){this._sceneControl=a},dispose:function(){this._sceneControl=null},onClick:function(a){},onDbClick:function(a){},onMouseDown:function(a){},onMouseUp:function(a){},onMouseWheel:function(a){},onKeyDown:function(a){},onKeyUp:function(a){},onMouseMove:function(a){},onMouseOut:function(a){},onMouseOver:function(a){},add_actionCompleted:function(a){this._addEvent("actionCompleted",a)},remove_actionCompleted:function(a){this._removeEvent("actionCompleted",a)},raise_actionCompleted:function(a,b){this._raiseEvent("actionCompleted",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.UI.Action3Ds.SceneAction.registerClass("SuperMap.Web.UI.Action3Ds.SceneAction",Sys.Component,Sys.IDisposable);SuperMap.Web.UI.Action3Ds.NullAction=function(c){var b=Function._validateParams(arguments,[{name:"sceneControl",type:SuperMap.Web.UI.Controls.SceneControl}]);if(b){var a=SuperMap.Web.Realspace.Utility._ConvertSysEx2Realspace(b);throw a}SuperMap.Web.UI.Action3Ds.NullAction.initializeBase(this);this._sceneControl=c;this._name="Null";this._type=SuperMap.Web.UI.Action3Ds.SceneActionType.NULL};SuperMap.Web.UI.Action3Ds.NullAction.prototype={dispose:function(){this._sceneControl=null}};SuperMap.Web.UI.Action3Ds.NullAction.registerClass("SuperMap.Web.UI.Action3Ds.NullAction",SuperMap.Web.UI.Action3Ds.SceneAction,Sys.IDisposable);SuperMap.Web.UI.Action3Ds.Pan=function(c){var b=Function._validateParams(arguments,[{name:"sceneControl",type:SuperMap.Web.UI.Controls.SceneControl}]);if(b){var a=SuperMap.Web.Realspace.Utility._ConvertSysEx2Realspace(b);throw a}SuperMap.Web.UI.Action3Ds.Pan.initializeBase(this,this._sceneControl);this._name="Pan";this._sceneControl=c;this._type=SuperMap.Web.UI.Action3Ds.SceneActionType.PAN};SuperMap.Web.UI.Action3Ds.Pan.prototype={dispose:function(){this._sceneControl=null},onMouseUp:function(a){this.raise_actionCompleted(a)},onDbClick:function(a){this.raise_actionCompleted(a)},onKeyUp:function(a){this.raise_actionCompleted(a)}};SuperMap.Web.UI.Action3Ds.Pan.registerClass("SuperMap.Web.UI.Action3Ds.Pan",SuperMap.Web.UI.Action3Ds.SceneAction,Sys.IDisposable);SuperMap.Web.UI.Action3Ds.MeasureDistance=function(c){var b=Function._validateParams(arguments,[{name:"sceneControl",type:SuperMap.Web.UI.Controls.SceneControl}]);if(b){var a=SuperMap.Web.Realspace.Utility._ConvertSysEx2Realspace(b);throw a}SuperMap.Web.UI.Action3Ds.MeasureDistance.initializeBase(this);this._name="MeasureDistance";this._sceneControl=c;this._type=SuperMap.Web.UI.Action3Ds.SceneActionType.MEASUREDISTANCE};SuperMap.Web.UI.Action3Ds.MeasureDistance.prototype={dispose:function(){this._sceneControl=null},onMouseUp:function(a){this.raise_actionCompleted(a)}};SuperMap.Web.UI.Action3Ds.MeasureDistance.registerClass("SuperMap.Web.UI.Action3Ds.MeasureDistance",SuperMap.Web.UI.Action3Ds.SceneAction,Sys.IDisposable);SuperMap.Web.UI.Action3Ds.MeasureArea=function(c){var b=Function._validateParams(arguments,[{name:"sceneControl",type:SuperMap.Web.UI.Controls.SceneControl}]);if(b){var a=SuperMap.Web.Realspace.Utility._ConvertSysEx2Realspace(b);throw a}SuperMap.Web.UI.Action3Ds.MeasureArea.initializeBase(this);this._name="MeasureArea";this._sceneControl=c;this._type=SuperMap.Web.UI.Action3Ds.SceneActionType.MEASUREAREA};SuperMap.Web.UI.Action3Ds.MeasureArea.prototype={dispose:function(){this._sceneControl=null},onMouseUp:function(a){this.raise_actionCompleted(a)}};SuperMap.Web.UI.Action3Ds.MeasureArea.registerClass("SuperMap.Web.UI.Action3Ds.MeasureArea",SuperMap.Web.UI.Action3Ds.SceneAction,Sys.IDisposable);SuperMap.Web.UI.Action3Ds.ExcavationRegion=SuperMap.Web.UI.Action3Ds.MeasureArea;SuperMap.Web.UI.Action3Ds.MeasureHeight=function(c){var b=Function._validateParams(arguments,[{name:"sceneControl",type:SuperMap.Web.UI.Controls.SceneControl}]);if(b){var a=SuperMap.Web.Realspace.Utility._ConvertSysEx2Realspace(b);throw a}SuperMap.Web.UI.Action3Ds.MeasureHeight.initializeBase(this);this._name="MeasureHeight";this._sceneControl=c;this._type=SuperMap.Web.UI.Action3Ds.SceneActionType.MEASUREHEIGHT};SuperMap.Web.UI.Action3Ds.MeasureHeight.prototype={dispose:function(){this._sceneControl=null},onMouseUp:function(a){this.raise_actionCompleted(a)}};SuperMap.Web.UI.Action3Ds.MeasureHeight.registerClass("SuperMap.Web.UI.Action3Ds.MeasureHeight",SuperMap.Web.UI.Action3Ds.SceneAction,Sys.IDisposable);SuperMap.Web.UI.Action3Ds.Select=function(c){var b=Function._validateParams(arguments,[{name:"sceneControl",type:SuperMap.Web.UI.Controls.SceneControl}]);if(b){var a=SuperMap.Web.Realspace.Utility._ConvertSysEx2Realspace(b);throw a}SuperMap.Web.UI.Action3Ds.Select.initializeBase(this);this._name="Select";this._sceneControl=c;this._type=SuperMap.Web.UI.Action3Ds.SceneActionType.POINTSELECT};SuperMap.Web.UI.Action3Ds.Select.prototype={dispose:function(){this._sceneControl=null},onMouseUp:function(a){this.raise_actionCompleted(a)}};SuperMap.Web.UI.Action3Ds.Select.registerClass("SuperMap.Web.UI.Action3Ds.Select",SuperMap.Web.UI.Action3Ds.SceneAction,Sys.IDisposable);SuperMap.Web.UI.Action3Ds.PanSelect=function(c){var b=Function._validateParams(arguments,[{name:"sceneControl",type:SuperMap.Web.UI.Controls.SceneControl}]);if(b){var a=SuperMap.Web.Realspace.Utility._ConvertSysEx2Realspace(b);throw a}SuperMap.Web.UI.Action3Ds.PanSelect.initializeBase(this);this._name="PanSelect";this._sceneControl=c;this._type=SuperMap.Web.UI.Action3Ds.SceneActionType.PANSELECT};SuperMap.Web.UI.Action3Ds.PanSelect.prototype={dispose:function(){this._sceneControl=null},onMouseUp:function(a){this.raise_actionCompleted(a)},onDbClick:function(a){this.raise_actionCompleted(a)},onKeyUp:function(a){this.raise_actionCompleted(a)}};SuperMap.Web.UI.Action3Ds.PanSelect.registerClass("SuperMap.Web.UI.Action3Ds.PanSelect",SuperMap.Web.UI.Action3Ds.SceneAction,Sys.IDisposable);SuperMap.Web.UI.Action3Ds.SelectEx=function(c){var b=Function._validateParams(arguments,[{name:"sceneControl",type:SuperMap.Web.UI.Controls.SceneControl}]);if(b){var a=SuperMap.Web.Realspace.Utility._ConvertSysEx2Realspace(b);throw a}SuperMap.Web.UI.Action3Ds.SelectEx.initializeBase(this);this._name="SelectEx";this._sceneControl=c;this._type=SuperMap.Web.UI.Action3Ds.SceneActionType.PANSELECT;this._mapUrl="";this._layer3D=null;this._bUseHighlightImage=false;this._queryDatasetName="";this._hasRequestProjection=false;this._prjCoordSys="";this._eo=null;this._bMouseDownandMoved=false;this._bMouseDown=false;this._isViewWorldChanged=true};SuperMap.Web.UI.Action3Ds.SelectEx.prototype={_isSupportGridQuery:function(){if(this._mapUrl!=""&&this._layer3D!=null&&SuperMap.Web.Realspace.Layer3D.isInstanceOfType(this._layer3D)&&this._queryDatasetName!=""){return true}return false},dispose:function(){this._layer3D=null;this._sceneControl=null;this._name="";this._type=null;this._bMouseDownandMoved=false;this._bMouseDown=false;this._isViewWorldChanged=true},onMouseMove:function(a){if(this._bMouseDown){this._bMouseDownandMoved=true}},onMouseDown:function(a){if(a.get_flagType()==(SuperMap.Web.Realspace.FlagType.LBUTTON|SuperMap.Web.Realspace.FlagType.HITGLOBE)){this._bMouseDown=true;this._bMouseDownandMoved=false;this._isViewWorldChanged=this._sceneControl.get_scene().getViewWorldState()}},onDbClick:function(a){if(a.get_flagType()==SuperMap.Web.Realspace.FlagType.LBUTTON){if(this._isSupportGridQuery()){var b=new SuperMap.Web.Core.Point2D(a.get_longitude(),a.get_latitude());if(this._prjCoordSys!=null&&this._prjCoordSys!=""){b=SuperMap.Web.Realspace.Utility.projectionTranslate(b,"",this._prjCoordSys)}this._queryAttributes(b);return}}this.raise_actionCompleted(a)},onMouseUp:function(e){this._eo=e;if(this._bMouseDownandMoved||this._isViewWorldChanged){this.raise_actionCompleted(e);this._bMouseDown=false;return}if(this._bMouseDown&&!this._bMouseDownandMoved){trackingLayer.removeAt("SuperMapRealspaceHighLightVectorSelection");trackingLayer.removeAt("SuperMapRealspaceHighLightGridSelection");trackingLayer.removeAt("SuperMapRealspaceHighLightGridSelectionChild")}this._bMouseDown=false;if(e.get_flagType()==SuperMap.Web.Realspace.FlagType.LBUTTON){if(this._isSupportGridQuery()){var pos=new SuperMap.Web.Core.Point2D(e.get_longitude(),e.get_latitude());if(!this._hasRequestProjection){var url=this._mapUrl+"prjCoordSys.json";var xhr=SuperMap.Web.Utility.getXmlHttpRequest();xhr.open("get",url,false);xhr.send(null);if(xhr.status==200){if(xhr.responseText!=null&&xhr.responseText!=""){var responsejson=eval("("+xhr.responseText+")");if(responsejson.projection!=""&&responsejson.projection!=null){url=this._mapUrl+"prjCoordSys.xml";var innerxhr=SuperMap.Web.Utility.getXmlHttpRequest();innerxhr.open("get",url,false);innerxhr.send(null);if(innerxhr.status==200){if(innerxhr.responseText!=null&&innerxhr.responseText!=""){this._prjCoordSys=innerxhr.responseText}}}}}this._hasRequestProjection=true}if(this._prjCoordSys!=null&&this._prjCoordSys!=""){pos=SuperMap.Web.Realspace.Utility.projectionTranslate(pos,"",this._prjCoordSys)}this._queryHighlight(pos)}}this.raise_actionCompleted(e)},_queryHighlight:function(f){var c=new SuperMap.Web.iServerJava6R.FilterParameter();c.name=this._queryDatasetName;var b=[c];var e=new SuperMap.Web.Core.GeoPoint(f);var a=new SuperMap.Web.iServerJava6R.QueryByGeometryParameters();a.queryParams=b;a.spatialQueryMode=SuperMap.Web.iServerJava6R.SpatialQueryMode.INTERSECT;a.geometry=e;if(this._bUseHighlightImage){a.returnContent=false;a.returnCustomResult=true}else{a.returnContent=true}var d=new SuperMap.Web.iServerJava6R.QueryByGeometryService(this._mapUrl);d.add_processCompleted(this._onQueryHighlightComplete);d.processAsync(a)},_queryAttributes:function(f){var c=new SuperMap.Web.iServerJava6R.FilterParameter();c.name=this._queryDatasetName;var b=[c];var e=new SuperMap.Web.Core.GeoPoint(f);var a=new SuperMap.Web.iServerJava6R.QueryByGeometryParameters();a.queryParams=b;a.customParams="geometry=null";a.spatialQueryMode=SuperMap.Web.iServerJava6R.SpatialQueryMode.INTERSECT;a.geometry=e;a.returnContent=true;var d=new SuperMap.Web.iServerJava6R.QueryByGeometryService(this._mapUrl);d.add_processCompleted(this._onQueryAttributesComplete);d.processAsync(a)},_onQueryHighlightComplete:function(h){var k=this._sceneControl.get_sceneAction();var f=this._sceneControl.get_scene();var g=f.get_trackingLayer3D();var l=h.result;var a=h.originResult;if(k._bUseHighlightImage){var b=SuperMap.Web.Core.Rectangle2D.fromJson(a.customResult);if(b==null){return}if((b.rightTop.x-b.leftBottom.x)>180){var j=l.resourceInfo.id;var d=new SuperMap.Web.Core.Rectangle2D();d.leftBottom.x=0;d.leftBottom.y=b.leftBottom.y;d.rightTop.x=b.rightTop.x;d.rightTop.y=b.rightTop.y;var c=new SuperMap.Web.Core.Rectangle2D();c.leftBottom.x=b.leftBottom.x;c.leftBottom.y=b.leftBottom.y;c.rightTop.x=0;c.rightTop.y=b.rightTop.y;var n=k._getUrlByParams(j,512,512,d);k._addHighlightPicture2Scene(n,d,true);var m=k._getUrlByParams(j,512,512,c);k._addHighlightPicture2Scene(m,c,false)}else{var j=l.resourceInfo.id;var e=k._getUrlByParams(j,256,256,b);k._addHighlightPicture2Scene(e,b,true)}}else{k._addHighlightVector2Scene(l)}},_getUrlByParams:function(g,m,d,a){var j=this._sceneControl.get_sceneAction();var e=this._sceneControl.get_scene();var l=j.get_currentlayer3D().get_selection3D();var h=l.get_style3D();var c=new SuperMap.Web.iServerJava6R.ServerStyle();c.fillForeColor.red=h.get_fillForeColor().get_red();c.fillForeColor.green=h.get_fillForeColor().get_green();c.fillForeColor.blue=h.get_fillForeColor().get_blue();c.lineColor.red=h.get_lineColor().get_red();c.lineColor.green=h.get_lineColor().get_green();c.lineColor.blue=h.get_lineColor().get_blue();c.fillOpaqueRate=(h.get_fillForeColor().get_alpha()/255)*100;c.lineWidth=h.get_lineWidth();c.markersize=h.get_markerSize();var k=SuperMap.Web.Utility.toJSON(c);var f=SuperMap.Web.Utility.toJSON(a);var b=j.get_mapUrl()+"queryResults/"+g+".png?rectifyViewer=true&viewBounds="+f+"&style="+k+"&useGeoCoordSys=true";b=encodeURI(b);var n=/#/g;b=b.replace(n,"%23");return b},_addHighlightPicture2Scene:function(d,c,b){var e=this._sceneControl.get_scene();var a=e.get_trackingLayer3D();var g=new SuperMap.Web.Core.GeoPicture3D();g.fromImageFile(d);g.set_height(c.height());g.set_width(c.width());var h=new SuperMap.Web.Core.Point3D(c.center().x,c.center().y);g.set_position(h);var f=new SuperMap.Web.Core.Feature3D();f.set_geometry(g);a.set_isVisible(true);if(b){a.removeAt("SuperMapRealspaceHighLightVectorSelection");a.removeAt("SuperMapRealspaceHighLightGridSelection");a.removeAt("SuperMapRealspaceHighLightGridSelectionChild");a.add(f,"SuperMapRealspaceHighLightGridSelection")}else{a.add(f,"SuperMapRealspaceHighLightGridSelectionChild")}},_addHighlightVector2Scene:function(e){if(e&&e.totalCount>0){var b=this._sceneControl.get_sceneAction();var f=this._sceneControl.get_scene();var a=f.get_trackingLayer3D();a.removeAt("SuperMapRealspaceHighLightVectorSelection");a.removeAt("SuperMapRealspaceHighLightGridSelection");a.removeAt("SuperMapRealspaceHighLightGridSelectionChild");for(var d=0;d<e.recordsets.length;d++){if(e.recordsets[d].features){for(var c=0;c<e.recordsets[d].features.length;c++){if(e.recordsets[d].features[c].geometry){b._drawResultShape(e.recordsets[d].features[c].geometry)}}}}}},_drawResultShape:function(j){var h=this._sceneControl.get_sceneAction();var c=this._sceneControl.get_scene();var d=c.get_trackingLayer3D();if(h._prjCoordSys!=null&&h._prjCoordSys!=""){if(SuperMap.Web.Core.GeoPoint.isInstanceOfType(j)){var a=new SuperMap.Web.Core.Point2D(j.x,j.y);a=SuperMap.Web.Realspace.Utility.projectionTranslate(a,h._prjCoordSys,"");j.x=a.x;j.y=a.y}else{if(SuperMap.Web.Core.GeoLine.isInstanceOfType(j)||SuperMap.Web.Core.GeoRegion.isInstanceOfType(j)){for(var l=0;l<j.parts.length;l++){var e=j.parts[l];for(var f=0;f<e.length;f++){e[f]=SuperMap.Web.Realspace.Utility.projectionTranslate(e[f],h._prjCoordSys,"")}}}else{return}}}var k=h.get_currentlayer3D().get_selection3D();var g=k.get_style3D().clone();var b=new SuperMap.Web.Core.Feature3D();b.set_geometry(j);b.set_style3D(g);d.add(b,"SuperMapRealspaceHighLightVectorSelection")},_onQueryAttributesComplete:function(b){var a=this._sceneControl.get_sceneAction();a.raise_actionCompleted(a._eo,b)},set_mapUrl:function(a){if(a==null||typeof(a)!="string"){return}this._mapUrl=a;if(this._mapUrl.lastIndexOf("/")!=this._mapUrl.length){this._mapUrl+="/"}},get_mapUrl:function(){return this._mapUrl},set_queryName:function(a){if(a==null||typeof(a)!="string"){return}this._queryDatasetName=a},get_queryName:function(){return this._queryDatasetName},set_currentlayer3D:function(a){this._layer3D=a},get_currentlayer3D:function(){return this._layer3D},set_highlightMode:function(a){this._bUseHighlightImage=a},get_highlightMode:function(){return this._bUseHighlightImage},set_currentAction3DType:function(a){if(a==SuperMap.Web.UI.Action3Ds.SceneActionType.SELECT||a==SuperMap.Web.UI.Action3Ds.SceneActionType.PANSELECT){this._type=a}},get_currentAction3DType:function(){return this._type}};SuperMap.Web.UI.Action3Ds.SelectEx.registerClass("SuperMap.Web.UI.Action3Ds.SelectEx",SuperMap.Web.UI.Action3Ds.SceneAction,Sys.IDisposable);SuperMap.Web.UI.Action3Ds.MeasureTerrainDistance=function(c){var b=Function._validateParams(arguments,[{name:"sceneControl",type:SuperMap.Web.UI.Controls.SceneControl}]);if(b){var a=SuperMap.Web.Realspace.Utility._ConvertSysEx2Realspace(b);throw a}SuperMap.Web.UI.Action3Ds.MeasureTerrainDistance.initializeBase(this);this._name="MeasureTerrainDistance";this._sceneControl=c;this._type=SuperMap.Web.UI.Action3Ds.SceneActionType.MEASURETERRAINDISTANCE};SuperMap.Web.UI.Action3Ds.MeasureTerrainDistance.prototype={dispose:function(){this._sceneControl=null},onMouseUp:function(a){this.raise_actionCompleted(a)}};SuperMap.Web.UI.Action3Ds.MeasureTerrainDistance.registerClass("SuperMap.Web.UI.Action3Ds.MeasureTerrainDistance",SuperMap.Web.UI.Action3Ds.SceneAction,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Scene=function(b){SuperMap.Web.Realspace.Scene.initializeBase(this);if(typeof(b)!="object"||b==null){var a=new Error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_PlugIn_Is_Not_Installed"));a.name=SuperMap.Web.Realspace.ExceptionName.PlugInNotInstalled;throw a}this._innerScene=b._get_innerSceneControl().Scene;if(this._innerScene==null){var a=new Error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_Operation_Failed"));a.name=SuperMap.Web.Realspace.ExceptionName.OperationFailed;throw a}this._scenecontrol=b;SuperMap.Web.Realspace.Utility._SceneControl=b;this._sceneOption=new SuperMap.Web.Realspace.SceneOption(b);this._flyingOperator=new SuperMap.Web.Realspace.FlyingOperator(b);this._flyManager=new SuperMap.Web.Realspace.FlyManager(b);this._layer3Ds=new SuperMap.Web.Realspace.Layer3Ds(b);this._terrainLayers=new SuperMap.Web.Realspace.TerrainLayers(b);this._trackingLayer3D=new SuperMap.Web.Realspace.TrackingLayer3D(b);this._screenLayer3D=new SuperMap.Web.Realspace.ScreenLayer3D(b);this._camera=new SuperMap.Web.Realspace.Camera();this._camera._set_innerCamera(this._innerScene.Camera);this._firstPersonCamera=new SuperMap.Web.Realspace.Camera();this._firstPersonCamera._set_innerCamera(this._innerScene.FirstPersonCamera);this._underground=null;this._globalImage=null;this._stereo=null;this._sun=null;this._lockTarget=null};SuperMap.Web.Realspace.Scene.prototype={_get_innerScene:function(){return this._innerScene},get_name:function(){return this._innerScene.Name},set_name:function(a){if(typeof(a)!="string"){return}this._innerScene.Name=a},get_sceneOption:function(){return this._sceneOption},get_flyingOperator:function(){return this._flyingOperator},get_flyManager:function(){return this._flyManager},get_layer3Ds:function(){return this._layer3Ds},get_terrainLayers:function(){return this._terrainLayers},get_trackingLayer3D:function(){return this._trackingLayer3D},get_screenLayer3D:function(){return this._screenLayer3D},get_camera:function(){this._camera._set_innerCamera(this._innerScene.Camera);return this._camera},set_camera:function(a){if(SuperMap.Web.Realspace.Camera.isInstanceOfType(a)){this._innerScene.Camera=a._get_innerCamera();this._camera=a}},get_firstPersonCamera:function(){this._firstPersonCamera._set_innerCamera(this._innerScene.FirstPersonCamera);return this._firstPersonCamera},set_firstPersonCamera:function(a){if(SuperMap.Web.Realspace.Camera.isInstanceOfType(a)){this._innerScene.FirstPersonCamera=a._get_innerCamera();this._firstPersonCamera=a}},get_fov:function(){return this._innerScene.Fov},set_fov:function(b){var a=parseFloat(b);if(isNaN(a)||(b<0)||(b>180)){return}this._innerScene.Fov=a},get_terrainExaggeration:function(){return this._innerScene.TerrainExaggeration},set_terrainExaggeration:function(a){var b=parseFloat(a);if(isNaN(b)){return}this._innerScene.TerrainExaggeration=b;this.resetTerrain()},get_currentScale:function(){return this._innerScene.CurrentScale},get_viewBounds:function(){var a=this._innerScene.ViewBounds;if(a==null){return null}return SuperMap.Web.Core.Conversion._ConvertSRObject2Object(a,"Rectangle2D")},get_viewWndHeight:function(){return this._innerScene.ViewWndHeight},get_viewWndWidth:function(){return this._innerScene.ViewWndWidth},open:function(c,b){this.close();var g=this._innerScene.Open(c,b);if(g==true){var k=this._innerScene.Layer3Ds;var f=k.Count;for(var d=0;d<f;d++){var j=k.get_Item(d);var e=new SuperMap.Web.Realspace.Layer3D(c,j.Name,j.DataName,j.Type);this.get_layer3Ds()._get_layer3DArray().push(e)}f=this._innerScene.TerrainLayers.Count;var h=this._innerScene.TerrainLayers;for(var d=0;d<f;d++){innerTerrainLayer=h.get_Item(d);var a=new SuperMap.Web.Realspace.TerrainLayer(c,innerTerrainLayer.Name,innerTerrainLayer.DataName);this.get_terrainLayers()._get_terrainLayerArray().push(a)}}return g},close:function(){this.get_layer3Ds().removeAll();this.get_terrainLayers().removeAll();this.get_trackingLayer3D().removeAll();this.get_screenLayer3D().removeAll();this._innerScene.Close()},refresh:function(){this._innerScene.Refresh()},getViewWorldState:function(){return this._innerScene.GetViewProjectMatrixState()},viewEntire:function(){this._innerScene.ViewEntire()},setRefreshRaster:function(a){this._innerScene.SetRefreshRaster(a)},resetTerrain:function(){this._innerScene.ResetTerrain()},getAverageFPS:function(){return this._innerScene.GetAverageFPS()},findSelection3Ds:function(e){var c=this._layer3Ds.get_count();var b=[];if(!e){this.setRefreshRaster(true);for(var d=0;d<c;d++){var a=this._layer3Ds.get_item(d);if(a.get_type()!=SuperMap.Web.Realspace.Layer3DType.IMAGE&&a.get_type()!=4){b.push(a.get_selection3D())}}}else{for(var d=0;d<c;d++){var a=this._layer3Ds.get_item(d);if(a.get_isSelectable()&&a.get_selection3D().get_count()&&a.get_type()!=SuperMap.Web.Realspace.Layer3DType.IMAGE&&a.get_type()!=4){b.push(a.get_selection3D())}}}return b},updateCacheFile:function(){var d=0;for(var c=0;c<this._layer3Ds.get_count();c++){var a=this._layer3Ds.get_item(c);d+=a.updateCacheFile()}for(var c=0;c<this._terrainLayers.get_count();c++){var b=this._terrainLayers.get_item(c);d+=b.updateCacheFile()}return d},getDataStreamingProgress:function(){var c=0;for(var d=0;d<this._layer3Ds.get_count();d++){var a=this._layer3Ds.get_item(d);c+=a.getDataStreamingProgress()}for(var d=0;d<this._terrainLayers.get_count();d++){var b=this._terrainLayers.get_item(d);c+=b.getDataStreamingProgress()}var e=c/(this._layer3Ds.get_count()+this._terrainLayers.get_count());return e},get_underground:function(){if(this._underground==null){this._underground=new SuperMap.Web.Realspace.Underground();this._underground._innerUnderground=this._innerScene.Underground}return this._underground},get_globalImage:function(){if(this._globalImage==null){this._globalImage=new SuperMap.Web.Realspace.GlobalImage();this._globalImage._innerGlobalImage=this._innerScene.GlobalImage}return this._globalImage},get_stereo:function(){if(this._stereo==null){this._stereo=new SuperMap.Web.Realspace.Stereo(this._scenecontrol)}return this._stereo},get_sun:function(){if(this._sun==null){this._sun=new SuperMap.Web.Realspace.Sun(this._scenecontrol)}return this._sun},get_autoLockTarget:function(){return this._lockTarget},set_autoLockTarget:function(a){if(SuperMap.Web.Core.GeoModel.isInstanceOfType(a)){this._lockTarget=a;this._innerScene.SetAutoLockTarget(a._innerGeometry)}else{this._lockTarget=null;this._innerScene.UnLockTarget()}},get_autoLockOffset:function(){var a=this._innerScene.AutoLockOffset;return new SuperMap.Web.Core.Point3D(a.X,a.Y,a.Z)},set_autoLockOffset:function(a){if(SuperMap.Web.Core.Point3D.isInstanceOfType(a)){this._innerScene.AutoLockOffset=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(a)}},get_type:function(){if((this._innerScene==null)){return}return this._innerScene.Type},set_type:function(a){if((this._innerScene==null)){return}this._innerScene.Type=a},get_bounds:function(){if((this._innerScene==null)){return}var a=this._innerScene.Bounds;if(a==null){return null}return SuperMap.Web.Core.Conversion._ConvertSRObject2Object(a,"Rectangle2D")},set_bounds:function(a){if((this._innerScene==null)){return}this._innerScene.Bounds=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(a)},get_isFirstPersonView:function(){if((this._innerScene==null)){return}return this._innerScene.IsFirstPersonView},set_isFirstPersonView:function(a){if((this._innerScene==null)){return}this._innerScene.IsFirstPersonView=a},getAltitude:function(a,b){return this._innerScene.GetAltitude(a,b)},outputSceneToFile:function(b,a){return this._innerScene.OutputSceneToFile(b,a)}};SuperMap.Web.Realspace.Scene.registerClass("SuperMap.Web.Realspace.Scene",Sys.Component);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.SceneOption=function(a){SuperMap.Web.Realspace.SceneOption.initializeBase(this);this._innerSceneOption=a._get_innerSceneControl().Scene.SceneOption};SuperMap.Web.Realspace.SceneOption.prototype={get_isLatLonGridVisible:function(){if((this._innerSceneOption==null)){return}return this._innerSceneOption.IsLatLonGridVisible},set_isLatLonGridVisible:function(a){if((this._innerSceneOption==null)){return}this._innerSceneOption.IsLatLonGridVisible=a},get_isLatLonGridTextVisible:function(){if((this._innerSceneOption==null)){return}return this._innerSceneOption.IsLatLonGridTextVisible},set_isLatLonGridTextVisible:function(a){if((this._innerSceneOption==null)){return}this._innerSceneOption.IsLatLonGridTextVisible=a},get_isProcessBarVisible:function(){if((this._innerSceneOption==null)){return}return this._innerSceneOption.IsProcessBarVisible},set_isProcessBarVisible:function(a){if((this._innerSceneOption==null)){return}this._innerSceneOption.IsProcessBarVisible=a},get_isAtmosphereVisible:function(){if((this._innerSceneOption==null)){return}return this._innerSceneOption.IsAtmosphereVisible},set_isAtmosphereVisible:function(a){if((this._innerSceneOption==null)){return}this._innerSceneOption.IsAtmosphereVisible=a},get_isStarVisible:function(){if((this._innerSceneOption==null)){return}return this._innerSceneOption.IsStarVisible},set_isStarVisible:function(a){if((this._innerSceneOption==null)){return}this._innerSceneOption.IsStarVisible=a},get_isControlPlaneVisible:function(){if((this._innerSceneOption==null)){return}return this._innerSceneOption.IsControlPlaneVisible},set_isControlPlaneVisible:function(a){if((this._innerSceneOption==null)){return}this._innerSceneOption.IsControlPlaneVisible=a},get_isScaleVisible:function(){if((this._innerSceneOption==null)){return}return this._innerSceneOption.IsScaleVisible},set_isScaleVisible:function(a){if((this._innerSceneOption==null)){return}this._innerSceneOption.IsScaleVisible=a},get_isStatusBarVisible:function(){if((this._innerSceneOption==null)){return}return this._innerSceneOption.IsStatusBarVisible},set_isStatusBarVisible:function(a){if((this._innerSceneOption==null)){return}this._innerSceneOption.IsStatusBarVisible=a},get_isOceanVisible:function(){if((this._innerSceneOption==null)){return}return this._innerSceneOption.IsOceanVisible},set_isOceanVisible:function(a){if((this._innerSceneOption==null)){return}this._innerSceneOption.IsOceanVisible=a}};SuperMap.Web.Realspace.SceneOption.registerClass("SuperMap.Web.Realspace.SceneOption",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.FlyingOperator=function(a){SuperMap.Web.Realspace.FlyingOperator.initializeBase(this);this._innerFlyingOperator=a._get_innerSceneControl().Scene.FlyingOperator};SuperMap.Web.Realspace.FlyingOperator.prototype={flyTo:function(e,b,f){if((this._innerFlyingOperator==null)){return}if(SuperMap.Web.Realspace.Camera.isInstanceOfType(e)){if(e.isValid()){var a=e._get_innerCamera();var d=parseFloat(b);var c=parseInt(f);if(!isNaN(d)){if(!isNaN(c)){this._innerFlyingOperator.FlyTo(a,d,c)}else{this._innerFlyingOperator.FlyTo(a,d,SuperMap.Web.Realspace.FlyingMode.CAMERA_NORMAL)}}else{this._innerFlyingOperator.FlyTo(a,-1,SuperMap.Web.Realspace.FlyingMode.CAMERA_NORMAL)}}}},play:function(e,c,a){if((this._innerFlyingOperator==null)){return}var b=parseFloat(c);var f=parseFloat(a);if(isNaN(b)||isNaN(f)){b=1;f=2000}if(SuperMap.Web.Core.GeoLine3D.isInstanceOfType(e)){if(e.isValid()){var d=e._get_innerGeometry();if(d!=null){this._innerFlyingOperator.Play(d,b,f)}}}},flyToBounds:function(c,a){if((this._innerFlyingOperator==null)){return}if(SuperMap.Web.Core.Rectangle2D.isInstanceOfType(c)){if(c.isEmpty()){return}innerRect2D=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(c);var b=parseFloat(a);if(!isNaN(b)){this._innerFlyingOperator.FlyToBounds(innerRect2D,a)}else{this._innerFlyingOperator.FlyToBounds(innerRect2D,1)}}},flyToGeometry:function(f,b,e){if((this._innerFlyingOperator==null)){return}if(SuperMap.Web.Core.Geometry.isInstanceOfType(f)){if(f.isValid()){var a=f._get_innerGeometry();var d=parseFloat(b);var c=parseInt(e);if(isNaN(d)){d=-1}if(isNaN(c)){c=SuperMap.Web.Realspace.FlyingMode.MULTIPOINTFLY_NORMAL}this._innerFlyingOperator.FlyToGeometry(a,d,c)}}}};SuperMap.Web.Realspace.FlyingOperator.registerClass("SuperMap.Web.Realspace.FlyingOperator",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Layer3Ds=function(a){SuperMap.Web.Realspace.Layer3Ds.initializeBase(this);this._innerLayer3Ds=a._get_innerSceneControl().Scene.Layer3Ds;this._layer3DArray=[]};SuperMap.Web.Realspace.Layer3Ds.prototype={_get_layer3DArray:function(){return this._layer3DArray},get_count:function(){if((this._innerLayer3Ds==null)){return}return this._layer3DArray.length},get_item:function(b){if((this._innerLayer3Ds==null)||b==null){return null}var d=this._innerLayer3Ds.get_Item(b);if(d==null){return null}var a=d.Name;for(var c=0;c<this._layer3DArray.length;c++){if(this._layer3DArray[c].get_name()==a){return this._layer3DArray[c]}}},get_isVisible:function(){if((this._innerLayer3Ds==null)){return}return this._innerLayer3Ds.IsVisible},set_isVisible:function(a){if((this._innerLayer3Ds==null)){return}this._innerLayer3Ds.IsVisible=a},add:function(c,f,e,g,d){if((this._innerLayer3Ds==null)){return null}var a=new SuperMap.Web.Realspace.Layer3D(c,f,e,g);if(a.initialized()){if(d||(null==d)){if(this.insert(a)){return a}}else{var b=this.get_count();if(this.insert(a,b)){return a}}}return null},addOGC:function(b,e,f,c){if((this._innerLayer3Ds==null)){return null}var d;if(f==SuperMap.Web.Realspace.Layer3DType.WMS){d=new SuperMap.Web.Realspace.Layer3DWMS(b,e)}else{if(f==SuperMap.Web.Realspace.Layer3DType.WMTS){d=new SuperMap.Web.Realspace.Layer3DWMTS(b,e)}}if(d.initialized()){if(c||(null==c)){if(this.insert(d)){return d}}else{var a=this.get_count();if(this.insert(d,a)){return d}}}return null},_createLayer3D:function(a,d,c,e){if((this._innerLayer3Ds==null)){return null}var b=this._innerLayer3Ds.get_Item(d);if(b!=null){return b}else{return this._innerLayer3Ds.CreateLayer3D(a,d,c,e)}},_createLayer3DWMS:function(a,c){if((this._innerLayer3Ds==null)){return null}var b=this._innerLayer3Ds.get_Item(c);if(b!=null){return b}else{return this._innerLayer3Ds.CreateLayer3DWMS(a,c)}},_createLayer3DWMTS:function(a,c){if((this._innerLayer3Ds==null)){return null}var b=this._innerLayer3Ds.get_Item(c);if(b!=null){return b}else{return this._innerLayer3Ds.CreateLayer3DWMTS(a,c)}},removeAll:function(){if((this._innerLayer3Ds==null)){return}Array.clear(this._layer3DArray);this._innerLayer3Ds.RemoveAll()},removeAt:function(a){if((this._innerLayer3Ds==null)){return false}if((a==0)||a){var b=this.get_item(a);if(b!=null){Array.remove(this._layer3DArray,b);return this._innerLayer3Ds.RemoveAt(a)}}return false},insert:function(b,a){if((this._innerLayer3Ds==null)){return false}if(!SuperMap.Web.Realspace.Layer3DWMS.isInstanceOfType(b)&&!SuperMap.Web.Realspace.Layer3DWMTS.isInstanceOfType(b)&&!SuperMap.Web.Realspace.Layer3D.isInstanceOfType(b)){return false}var c=null;if((!isNaN(a)&&(a!==""))&&(a>=0)){c=this._innerLayer3Ds.Insert(b._get_innerLayer3D(),a)}else{c=this._innerLayer3Ds.Insert(b._get_innerLayer3D(),0)}if(c){this._layer3DArray.push(b);return true}else{return false}},indexOf:function(a){if((this._innerLayer3Ds==null)){return -1}if(a){return this._innerLayer3Ds.IndexOf(a)}else{return -1}},moveTo:function(a,b){if((this._innerLayer3Ds==null)){return false}if((!isNaN(a))&&(a>=0)&&(a<this.get_count())&&(!isNaN(b))&&(b>=0)&&(b<this.get_count())){return this._innerLayer3Ds.MoveTo(a,b)}return false},moveToTop:function(a){if((this._innerLayer3Ds==null)){return false}if(!isNaN(a)&&(a!=="")&&a>=0&&(a<this.get_count())){return this._innerLayer3Ds.MoveToTop(a)}return false},moveToBottom:function(a){if((this._innerLayer3Ds==null)){return false}if(!isNaN(a)&&(a!=="")&&a>=0&&(a<this.get_count())){return this._innerLayer3Ds.MoveToBottom(a)}return false},moveDown:function(a){if((this._innerLayer3Ds==null)){return false}if(!isNaN(a)&&(a!=="")&&a>=0&&(a<this.get_count())){return this._innerLayer3Ds.MoveDown(a)}return false},moveUp:function(a){if((this._innerLayer3Ds==null)){return false}if(!isNaN(a)&&(a!=="")&&a>=0&&(a<this.get_count())){return this._innerLayer3Ds.MoveUp(a)}return false}};SuperMap.Web.Realspace.Layer3Ds.registerClass("SuperMap.Web.Realspace.Layer3Ds",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Layer3D=function(b,g,d,h,c){SuperMap.Web.Realspace.Layer3D.initializeBase(this);this._innerLayer=null;this._selection3D=null;this._feature3ds=null;this._style3D=null;this._selectStyle=null;this._transparentColor=null;this._fieldInfos=null;if(c!=null){this._innerLayer=c}else{var f=Function._validateParams(arguments,[{name:"strServerRootUrl",type:String},{name:"strLayerName",type:String},{name:"strDataName",type:String},{name:"l3dType",type:Number}]);if(f){var a=SuperMap.Web.Realspace.Utility._ConvertSysEx2Realspace(f);throw a}this._innerLayer=SuperMap.Web.Realspace.Utility._SceneControl.get_scene().get_layer3Ds()._createLayer3D(b,g,d,h)}if(this._innerLayer==null){var a=new Error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_Operation_Failed"));a.name=SuperMap.Web.Realspace.ExceptionName.OperationFailed;throw a}};SuperMap.Web.Realspace.Layer3D.prototype={_get_innerLayer3D:function(){return this._innerLayer},_set_innerLayer3D:function(a){this._innerLayer=a},initialized:function(){if(this._innerLayer!=null){return true}else{return false}},get_name:function(){if(this._innerLayer!=null){return this._innerLayer.Name}},get_caption:function(){if(this._innerLayer!=null){return this._innerLayer.Caption}},set_caption:function(a){if(typeof(a)!="string"){return}if(this._innerLayer!=null){this._innerLayer.Caption=a}},get_description:function(){if(this._innerLayer!=null){return this._innerLayer.Description}},set_description:function(a){if(typeof(a)!="string"){return}if(this._innerLayer!=null){this._innerLayer.Description=a}},get_dataName:function(){if(this._innerLayer!=null){return this._innerLayer.DataName}},get_isVisible:function(){if(this._innerLayer!=null){return this._innerLayer.IsVisible}},set_isVisible:function(a){if(this._innerLayer!=null){this._innerLayer.IsVisible=a}},get_type:function(){if(this._innerLayer!=null){return this._innerLayer.Type}},get_dataType:function(){if(this._innerLayer!=null){return this._innerLayer.DataType}},get_isSelectable:function(){if(this._innerLayer!=null){return this._innerLayer.IsSelectable}},set_isSelectable:function(a){if(this._innerLayer!=null){this._innerLayer.IsSelectable=a}},get_isEditable:function(){if(this._innerLayer!=null){return this._innerLayer.IsEditable}},set_isEditable:function(a){if(this._innerLayer!=null){this._innerLayer.IsEditable=a}},get_isShadowEnable:function(){if(this._innerLayer!=null){return this._innerLayer.IsShadowEnable}},set_isShadowEnable:function(a){if(this._innerLayer!=null){this._innerLayer.IsShadowEnable=a}},get_isAlwaysRender:function(){if(this._innerLayer!=null){return this._innerLayer.IsAlwaysRender}},set_isAlwaysRender:function(a){if(this._innerLayer!=null){this._innerLayer.IsAlwaysRender=a}},get_selection3D:function(){if(this._selection3D==null&&this._innerLayer!=null){this._selection3D=new SuperMap.Web.Realspace.Selection3D(this._innerLayer.Selection3D,this);this._selection3D.get_style3D().set_lineWidth(0.1)}return this._selection3D},get_maxObjectVisibleDistance:function(){if(this._innerLayer!=null){return this._innerLayer.MaxObjectVisibleDistance}},set_maxObjectVisibleDistance:function(a){if(!isNaN(a)){if(this._innerLayer!=null){this._innerLayer.MaxObjectVisibleDistance=a}}},get_minObjectVisibleDistance:function(){if(this._innerLayer!=null){return this._innerLayer.MinObjectVisibleDistance}},set_minObjectVisibleDistance:function(a){if(!isNaN(a)){if(this._innerLayer!=null){this._innerLayer.MinObjectVisibleDistance=a}}},get_maxVisibleAltitude:function(){if(this._innerLayer!=null){return this._innerLayer.MaxVisibleAltitude}},set_maxVisibleAltitude:function(a){var b=parseFloat(a);if(!isNaN(b)){if(this._innerLayer!=null){this._innerLayer.MaxVisibleAltitude=b}}},get_minVisibleAltitude:function(){if(this._innerLayer!=null){return this._innerLayer.MinVisibleAltitude}},set_minVisibleAltitude:function(a){var b=parseFloat(a);if(!isNaN(b)){if(this._innerLayer!=null){this._innerLayer.MinVisibleAltitude=b}}},get_feature3Ds:function(){if(this._innerLayer==null){return}if(this.get_type()==SuperMap.Web.Realspace.Layer3DType.KML||this.get_type()==SuperMap.Web.Realspace.Layer3DType.KMZ){if(this._feature3ds==null){this._feature3ds=new SuperMap.Web.Core.Feature3Ds();this._feature3ds._set_innerFeature3Ds(this._innerLayer.Feature3Ds);this._feature3ds._makelist()}return this._feature3ds}return null},get_bounds:function(){if(this._innerLayer!=null){var a=this._innerLayer.Bounds;return new SuperMap.Web.Core.Rectangle2D(a.Left,a.Bottom,a.Right,a.Top)}},setObjectVisible:function(c,a){var d=Function._validateParams(arguments,[{name:"objectIds",type:Array,elementType:Number},{name:"objectIds",type:Boolean}]);if(d){var b=SuperMap.Web.Realspace.Utility._ConvertSysEx2Realspace(d);throw b}if(this._innerLayer!=null){return this._innerLayer.SetObjectVisible(c,a)}},get_style3D:function(){if(this._innerLayer!=null&&this._innerLayer.Type==SuperMap.Web.Realspace.Layer3DType.VECTOR){if(null==this._style3D){this._style3D=new SuperMap.Web.Core.Style3D();this._style3D._set_innerStyle3D(this._innerLayer.Style3D)}return this._style3D}},set_style3D:function(a){if(this._innerLayer==null){return}if(SuperMap.Web.Core.Style3D.isInstanceOfType(a)&&this._innerLayer.Type==SuperMap.Web.Realspace.Layer3DType.VECTOR){this._innerLayer.Style3D=a._get_innerStyle3D();this._style3D=a}},get_selectStyle:function(){if(this._innerLayer!=null){if(null==this._selectStyle){this._selectStyle=new SuperMap.Web.Core.Style3D();this._selectStyle._set_innerStyle3D(this._innerLayer.SelectStyle)}return this._selectStyle}},set_selectStyle:function(a){if(this._innerLayer==null){return}if(SuperMap.Web.Core.Style3D.isInstanceOfType(a)){this._innerLayer.SelectStyle=a._get_innerStyle3D();this._selectStyle=a}},get_isTransparent:function(){if(this._innerLayer!=null){return this._innerLayer.IsTransparent}},set_isTransparent:function(a){if(typeof(a)!="boolean"){return}if(this._innerLayer!=null){this._innerLayer.IsTransparent=a}},get_transparentColor:function(){if(this._innerLayer==null){return null}if(this._transparentColor==null){this._transparentColor=new SuperMap.Web.Core.Color()}this._transparentColor.fromLongABGR(this._innerLayer.TransparentColor);return this._transparentColor},set_transparentColor:function(a){if(this._innerLayer==null){return}if(SuperMap.Web.Core.Color.isInstanceOfType(a)){this._innerLayer.TransparentColor=a.toLongABGR()}else{if(!isNaN(parseFloat(a))){this._innerLayer.TransparentColor=parseFloat(a)}}},get_transparentColorTolerance:function(){if(this._innerLayer!=null){return this._innerLayer.TransparentColorTolerance}},set_transparentColorTolerance:function(a){if(a>255||a<0){return}if(this._innerLayer!=null){this._innerLayer.TransparentColorTolerance=a}},findFeature3DByID:function(d){var a=parseInt(d);if(!isNaN(a)){var b=this._innerLayer.FindFeature3DByID(d);if(b!=null){var c=new SuperMap.Web.Core.Feature3D();c._set_innerFeature3D(b);c._make(b.Geometry);return c}}return null},updateAttributeCacheFile:function(){return this._innerLayer.UpdateAttributeCacheFile()},updateCacheFile:function(){return this._innerLayer.UpdateCacheFile()},updateSelection:function(){if(this._innerLayer==null){return}this._innerLayer.UpdateSelection()},releaseSelection:function(){if(this._innerLayer==null){return}this._innerLayer.ReleaseSelection()},get_fieldInfos:function(){if(this._innerLayer==null){return}if(this._fieldInfos==null){if(this._innerLayer.FieldInfos==null){return}this._fieldInfos=new SuperMap.Web.Realspace.FieldInfos(this._innerLayer.FieldInfos)}return this._fieldInfos},getFieldValue:function(a){if(this._innerLayer==null||a==null){return}if(typeof a=="string"){return this._innerLayer.GetFieldValue(a)}if(typeof a=="number"){var b=parseInt(a);if((b>=0)&&(b<=4294967295)){return this._innerLayer.GetFieldValue(b)}}return},refresh:function(){if(this._innerLayer==null){return}this._innerLayer.Refresh()},getDataStreamingProgress:function(){if(this._innerLayer==null){return}return this._innerLayer.GetDataStreamingProgress()},setLoadTextureLOD:function(c,b,a){if(this._innerLayer==null){return}if((typeof c=="boolean")&&(typeof b=="boolean")&&(typeof a=="boolean")){return this._innerLayer.SetLoadTextureLOD(c,b,a)}},renderWithoutTexture:function(a){if(this._innerLayer==null){return}if(typeof a=="boolean"){return this._innerLayer.RenderWithoutTexture(a)}},fromXML:function(a){if(typeof(a)!="string"||this._innerLayer==null){return}this._innerLayer.FromXML(a)},toXML:function(){if(this._innerLayer==null){return}return this._innerLayer.ToXML()},addFlattenRegion:function(c,b){var a=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(c);if(this._innerLayer!=null&&a!=null){this._innerLayer.AddFlattenRegion(a,b)}},clearFlattenRegions:function(){if(this._innerLayer!=null){this._innerLayer.ClearFlattenRegions()}},get_flattenRegionCount:function(){if(this._innerLayer!=null){this._innerLayer.FlattenRegionCount}},getFlattenRegion:function(b){if(this._innerLayer!=null){var a=this._innerLayer.GetFlattenRegion(b);var c=SuperMap.Web.Core.Conversion._ConvertSRObject2Object(b,"GeoRegion3D");return c}},getFlattenRegionTag:function(a){if(this._innerLayer!=null){return this._innerLayer.GetFlattenRegionTag(a)}},getIndexOfFlattenRegion:function(a){if(this._innerLayer!=null){return this._innerLayer.IndexOfFlattenRegion(a)}},removeFlattenRegion:function(a){if(this._innerLayer!=null){return this._innerLayer.RemoveFlattenRegion(a)}},setFlattenRegionTag:function(b,a){if(this._innerLayer!=null){return this._innerLayer.SetFlattenRegionTag(b,a)}}};SuperMap.Web.Realspace.Layer3D.registerClass("SuperMap.Web.Realspace.Layer3D",Sys.Component,Sys.IDisposable);SuperMap.Web.Realspace.Layer3DWMS=function(b,f,c){SuperMap.Web.Realspace.Layer3DWMS.initializeBase(this);this._innerLayer=null;this._style3D=null;this._transparentColor=null;if(c!=null){this._innerLayer=c}else{var d=Function._validateParams(arguments,[{name:"strServerRootUrl",type:String},{name:"strLayerName",type:String}]);if(d){var a=SuperMap.Web.Realspace.Utility._ConvertSysEx2Realspace(d);throw a}this._innerLayer=SuperMap.Web.Realspace.Utility._SceneControl.get_scene().get_layer3Ds()._createLayer3DWMS(b,f)}if(this._innerLayer==null){var a=new Error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_Operation_Failed"));a.name=SuperMap.Web.Realspace.ExceptionName.OperationFailed;throw a}};SuperMap.Web.Realspace.Layer3DWMS.prototype={_get_innerLayer3D:function(){return this._innerLayer},_set_innerLayer3D:function(a){this._innerLayer=a},initialized:function(){if(this._innerLayer!=null){return true}else{return false}},get_name:function(){if(this._innerLayer!=null){return this._innerLayer.Name}},get_caption:function(){if(this._innerLayer!=null){return this._innerLayer.Caption}},set_caption:function(a){if(typeof(a)!="string"){return}if(this._innerLayer!=null){this._innerLayer.Caption=a}},get_description:function(){if(this._innerLayer!=null){return this._innerLayer.Description}},set_description:function(a){if(typeof(a)!="string"){return}if(this._innerLayer!=null){this._innerLayer.Description=a}},get_isVisible:function(){if(this._innerLayer!=null){return this._innerLayer.IsVisible}},set_isVisible:function(a){if(this._innerLayer!=null){this._innerLayer.IsVisible=a}},get_isAlwaysRender:function(){if(this._innerLayer!=null){return this._innerLayer.IsAlwaysRender}},set_isAlwaysRender:function(a){if(this._innerLayer!=null){this._innerLayer.IsAlwaysRender=a}},get_maxVisibleAltitude:function(){if(this._innerLayer!=null){return this._innerLayer.MaxVisibleAltitude}},set_maxVisibleAltitude:function(a){var b=parseFloat(a);if(!isNaN(b)){if(this._innerLayer!=null){this._innerLayer.MaxVisibleAltitude=b}}},get_minVisibleAltitude:function(){if(this._innerLayer!=null){return this._innerLayer.MinVisibleAltitude}},set_minVisibleAltitude:function(a){var b=parseFloat(a);if(!isNaN(b)){if(this._innerLayer!=null){this._innerLayer.MinVisibleAltitude=b}}},get_bounds:function(){if(this._innerLayer!=null){var a=this._innerLayer.Bounds;return new SuperMap.Web.Core.Rectangle2D(a.Left,a.Bottom,a.Right,a.Top)}},get_style3D:function(){if(this._innerLayer!=null&&this._innerLayer.Type==SuperMap.Web.Realspace.Layer3DType.VECTOR){if(null==this._style3D){this._style3D=new SuperMap.Web.Core.Style3D();this._style3D._set_innerStyle3D(this._innerLayer.Style3D)}return this._style3D}},set_style3D:function(a){if(this._innerLayer==null){return}if(SuperMap.Web.Core.Style3D.isInstanceOfType(a)&&this._innerLayer.Type==SuperMap.Web.Realspace.Layer3DType.VECTOR){this._innerLayer.Style3D=a._get_innerStyle3D();this._style3D=a}},get_isTransparent:function(){if(this._innerLayer!=null){return this._innerLayer.IsTransparent}},set_isTransparent:function(a){if(typeof(a)!="boolean"){return}if(this._innerLayer!=null){this._innerLayer.IsTransparent=a}},get_transparentColor:function(){if(this._innerLayer==null){return null}if(this._transparentColor==null){this._transparentColor=new SuperMap.Web.Core.Color()}this._transparentColor.fromLongABGR(this._innerLayer.TransparentColor);return this._transparentColor},set_transparentColor:function(a){if(this._innerLayer==null){return}if(SuperMap.Web.Core.Color.isInstanceOfType(a)){this._innerLayer.TransparentColor=a.toLongABGR()}else{if(!isNaN(parseFloat(a))){this._innerLayer.TransparentColor=parseFloat(a)}}},get_transparentColorTolerance:function(){if(this._innerLayer!=null){return this._innerLayer.TransparentColorTolerance}},set_transparentColorTolerance:function(a){if(a>255||a<0){return}if(this._innerLayer!=null){this._innerLayer.TransparentColorTolerance=a}},get_renderingWithMultiResolution:function(){if(this._innerLayer!=null){return this._innerLayer.RenderingWithMultiResolution}},set_renderingWithMultiResolution:function(a){if(this._innerLayer!=null){this._innerLayer.RenderingWithMultiResolution=a}},get_isBackgroundTransparent:function(){if(this._innerLayer!=null){return this._innerLayer.IsBackgroundTransparent}},set_isBackgroundTransparent:function(a){if(this._innerLayer!=null){this._innerLayer.IsBackgroundTransparent=a}},get_allSubLayers:function(){if(this._innerLayer!=null){var a=this._innerLayer.GetSubLayerCount();var c=[];for(var b=0;b<a;b++){c.push(this._innerLayer.GetSubLayer(b))}return c}},get_visibleSubLayers:function(){if(this._innerLayer!=null){var a=this._innerLayer.GetVisibleSubLayerCount();var c=[];for(var b=0;b<a;b++){c.push(this._innerLayer.GetVisibleSubLayer(b))}return c}},set_visibleSubLayers:function(b){if(this._innerLayer!=null){if(Function._validateParams(arguments,[{name:"visibleSubLayers",type:Array,elementType:String}])==null){this._innerLayer.ClearVisibleSubLayers();for(var a=0;a<b.length;a++){this._innerLayer.AddVisibleSubLayer(b[a])}this._innerLayer.CommitVisibleSubLayers()}}},updateCacheFile:function(){return this._innerLayer.UpdateCacheFile()},refresh:function(){if(this._innerLayer==null){return}this._innerLayer.Refresh()},getDataStreamingProgress:function(){if(this._innerLayer==null){return}return this._innerLayer.GetDataStreamingProgress()}};SuperMap.Web.Realspace.Layer3DWMS.registerClass("SuperMap.Web.Realspace.Layer3DWMS",Sys.Component,Sys.IDisposable);SuperMap.Web.Realspace.Layer3DWMTS=function(b,f,c){SuperMap.Web.Realspace.Layer3DWMTS.initializeBase(this);this._innerLayer=null;this._style3D=null;this._transparentColor=null;if(c!=null){this._innerLayer=c}else{var d=Function._validateParams(arguments,[{name:"strServerRootUrl",type:String},{name:"strLayerName",type:String}]);if(d){var a=SuperMap.Web.Realspace.Utility._ConvertSysEx2Realspace(d);throw a}this._innerLayer=SuperMap.Web.Realspace.Utility._SceneControl.get_scene().get_layer3Ds()._createLayer3DWMTS(b,f)}if(this._innerLayer==null){var a=new Error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_Operation_Failed"));a.name=SuperMap.Web.Realspace.ExceptionName.OperationFailed;throw a}};SuperMap.Web.Realspace.Layer3DWMTS.prototype={_get_innerLayer3D:function(){return this._innerLayer},_set_innerLayer3D:function(a){this._innerLayer=a},initialized:function(){if(this._innerLayer!=null){return true}else{return false}},get_name:function(){if(this._innerLayer!=null){return this._innerLayer.Name}},get_caption:function(){if(this._innerLayer!=null){return this._innerLayer.Caption}},set_caption:function(a){if(typeof(a)!="string"){return}if(this._innerLayer!=null){this._innerLayer.Caption=a}},get_description:function(){if(this._innerLayer!=null){return this._innerLayer.Description}},set_description:function(a){if(typeof(a)!="string"){return}if(this._innerLayer!=null){this._innerLayer.Description=a}},get_isVisible:function(){if(this._innerLayer!=null){return this._innerLayer.IsVisible}},set_isVisible:function(a){if(this._innerLayer!=null){this._innerLayer.IsVisible=a}},get_isAlwaysRender:function(){if(this._innerLayer!=null){return this._innerLayer.IsAlwaysRender}},set_isAlwaysRender:function(a){if(this._innerLayer!=null){this._innerLayer.IsAlwaysRender=a}},get_maxVisibleAltitude:function(){if(this._innerLayer!=null){return this._innerLayer.MaxVisibleAltitude}},set_maxVisibleAltitude:function(a){var b=parseFloat(a);if(!isNaN(b)){if(this._innerLayer!=null){this._innerLayer.MaxVisibleAltitude=b}}},get_minVisibleAltitude:function(){if(this._innerLayer!=null){return this._innerLayer.MinVisibleAltitude}},set_minVisibleAltitude:function(a){var b=parseFloat(a);if(!isNaN(b)){if(this._innerLayer!=null){this._innerLayer.MinVisibleAltitude=b}}},get_bounds:function(){if(this._innerLayer!=null){var a=this._innerLayer.Bounds;return new SuperMap.Web.Core.Rectangle2D(a.Left,a.Bottom,a.Right,a.Top)}},get_style3D:function(){if(this._innerLayer!=null&&this._innerLayer.Type==SuperMap.Web.Realspace.Layer3DType.VECTOR){if(null==this._style3D){this._style3D=new SuperMap.Web.Core.Style3D();this._style3D._set_innerStyle3D(this._innerLayer.Style3D)}return this._style3D}},set_style3D:function(a){if(this._innerLayer==null){return}if(SuperMap.Web.Core.Style3D.isInstanceOfType(a)&&this._innerLayer.Type==SuperMap.Web.Realspace.Layer3DType.VECTOR){this._innerLayer.Style3D=a._get_innerStyle3D();this._style3D=a}},get_isTransparent:function(){if(this._innerLayer!=null){return this._innerLayer.IsTransparent}},set_isTransparent:function(a){if(typeof(a)!="boolean"){return}if(this._innerLayer!=null){this._innerLayer.IsTransparent=a}},get_transparentColor:function(){if(this._innerLayer==null){return null}if(this._transparentColor==null){this._transparentColor=new SuperMap.Web.Core.Color()}this._transparentColor.fromLongABGR(this._innerLayer.TransparentColor);return this._transparentColor},set_transparentColor:function(a){if(this._innerLayer==null){return}if(SuperMap.Web.Core.Color.isInstanceOfType(a)){this._innerLayer.TransparentColor=a.toLongABGR()}else{if(!isNaN(parseFloat(a))){this._innerLayer.TransparentColor=parseFloat(a)}}},get_transparentColorTolerance:function(){if(this._innerLayer!=null){return this._innerLayer.TransparentColorTolerance}},set_transparentColorTolerance:function(a){if(a>255||a<0){return}if(this._innerLayer!=null){this._innerLayer.TransparentColorTolerance=a}},get_renderingWithMultiResolution:function(){if(this._innerLayer!=null){return this._innerLayer.RenderingWithMultiResolution}},set_renderingWithMultiResolution:function(a){if(this._innerLayer!=null){this._innerLayer.RenderingWithMultiResolution=a}},get_isBackgroundTransparent:function(){if(this._innerLayer!=null){return this._innerLayer.IsBackgroundTransparent}},set_isBackgroundTransparent:function(a){if(this._innerLayer!=null){this._innerLayer.IsBackgroundTransparent=a}},updateCacheFile:function(){return this._innerLayer.UpdateCacheFile()},refresh:function(){if(this._innerLayer==null){return}this._innerLayer.Refresh()},getDataStreamingProgress:function(){if(this._innerLayer==null){return}return this._innerLayer.GetDataStreamingProgress()}};SuperMap.Web.Realspace.Layer3DWMTS.registerClass("SuperMap.Web.Realspace.Layer3DWMTS",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.FieldInfos=function(a){SuperMap.Web.Realspace.FieldInfos.initializeBase(this);this._innerFieldInfos=a};SuperMap.Web.Realspace.FieldInfos.prototype={get_count:function(){if(this._innerFieldInfos==null){return -1}return this._innerFieldInfos.Count},get_item:function(a){if(this._innerFieldInfos==null){return null}var d=parseInt(a);if(!isNaN(d)&&d>=0){var c=this._innerFieldInfos.get_Item(d);if(c!=null){var b=new SuperMap.Web.Realspace.FieldInfo(c);return b}}return null}};SuperMap.Web.Realspace.FieldInfos.registerClass("SuperMap.Web.Realspace.FieldInfos",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.FieldInfo=function(a){SuperMap.Web.Realspace.FieldInfo.initializeBase(this);this._innerFieldInfo=a};SuperMap.Web.Realspace.FieldInfo.prototype={get_name:function(){if(this._innerFieldInfo==null){return""}return this._innerFieldInfo.Name},get_foreignName:function(){if(this._innerFieldInfo==null){return""}return this._innerFieldInfo.ForeignName}};SuperMap.Web.Realspace.FieldInfo.registerClass("SuperMap.Web.Realspace.FieldInfo",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.TerrainLayers=function(a){SuperMap.Web.Realspace.TerrainLayers.initializeBase(this);this._innerTerrainLayers=a._get_innerSceneControl().Scene.TerrainLayers;this._terrainLayerArray=[];this._scenecontrol=a};SuperMap.Web.Realspace.TerrainLayers.prototype={_get_terrainLayerArray:function(){return this._terrainLayerArray},get_count:function(){if((this._innerTerrainLayers==null)){return}return this._terrainLayerArray.length},get_item:function(b){if((this._innerTerrainLayers==null)){return null}if((b==0)||b){var a=this._innerTerrainLayers.get_Item(b);if(a==null){return null}for(var c=0;c<this._terrainLayerArray.length;c++){if(this._terrainLayerArray[c]._get_innerTerrainLayer()==a){return this._terrainLayerArray[c]}}}},add:function(c,f,e,d){if((this._innerTerrainLayers==null)){return null}var a=new SuperMap.Web.Realspace.TerrainLayer(c,f,e);if(a.initialized()){if(d||(null==d)){if(this.insert(a)){return a}}else{var b=this.get_count();if(this.insert(a,b)){return a}}}return null},_createTerrainLayer:function(b,d,c){if((this._innerTerrainLayers==null)){return null}var a=this._innerTerrainLayers.get_Item(d);if(a!=null){return a}else{return this._innerTerrainLayers.CreateTerrainLayer(b,d,c)}},removeAll:function(){if((this._innerTerrainLayers==null)){return}Array.clear(this._terrainLayerArray);this._innerTerrainLayers.RemoveAll();this._scenecontrol.get_scene().resetTerrain()},removeAt:function(b){if((this._innerTerrainLayers==null)){return false}if((b==0)||b){var a=this.get_item(b);if(a!=null){Array.remove(this._terrainLayerArray,a);this._innerTerrainLayers.RemoveAt(b);this._scenecontrol.get_scene().resetTerrain();return true}}return false},insert:function(b,a){if(!SuperMap.Web.Realspace.TerrainLayer.isInstanceOfType(b)||(this._innerTerrainLayers==null)){return false}var c=null;if((!isNaN(a)&&(a!==""))&&(a>=0)){c=this._innerTerrainLayers.Insert(b._get_innerTerrainLayer(),a)}else{c=this._innerTerrainLayers.Insert(b._get_innerTerrainLayer(),0)}if(c){this._terrainLayerArray.push(b);this._scenecontrol.get_scene().resetTerrain();return true}return false},indexOf:function(a){if((this._innerTerrainLayers==null)){return -1}if(a){return this._innerTerrainLayers.IndexOf(a)}else{return -1}},moveTo:function(a,b){if((this._innerTerrainLayers==null)){return false}a=parseInt(a);b=parseInt(b);if((!isNaN(a))&&(a>=0)&&(!isNaN(b))&&(b>=0)){return this._innerTerrainLayers.MoveTo(a,b)}else{return false}},moveToTop:function(a){if((this._innerTerrainLayers==null)){return false}a=parseInt(a);if(!isNaN(a)&&a>=0){return this._innerTerrainLayers.MoveToTop(a)}else{return false}},moveToBottom:function(a){if((this._innerTerrainLayers==null)){return false}a=parseInt(a);if(!isNaN(a)&&a>=0){return this._innerTerrainLayers.MoveToBottom(a)}else{return false}},moveDown:function(a){if((this._innerTerrainLayers==null)){return false}a=parseInt(a);if(!isNaN(a)&&a>=0){return this._innerTerrainLayers.MoveDown(a)}else{return false}},moveUp:function(a){if((this._innerTerrainLayers==null)){return false}a=parseInt(a);if(!isNaN(a)&&a>=0){return this._innerTerrainLayers.MoveUp(a)}else{return false}}};SuperMap.Web.Realspace.TerrainLayers.registerClass("SuperMap.Web.Realspace.TerrainLayers",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.TerrainLayer=function(c,g,d){SuperMap.Web.Realspace.TerrainLayer.initializeBase(this);this._innerTerrainLayer=null;var f=Function._validateParams(arguments,[{name:"strServerRootUrl",type:String},{name:"strLayerName",type:String},{name:"strDataName",type:String}]);if(f){var b=SuperMap.Web.Realspace.Utility._ConvertSysEx2Realspace(f);throw b}this._innerTerrainLayer=SuperMap.Web.Realspace.Utility._SceneControl.get_scene().get_terrainLayers()._createTerrainLayer(c,g,d);if(this._innerTerrainLayer==null){var b=new Error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_Operation_Failed"));b.name=SuperMap.Web.Realspace.ExceptionName.OperationFailed;throw b}var a=this._innerTerrainLayer.Bounds;this._bounds=new SuperMap.Web.Core.Rectangle2D(a.Left,a.Bottom,a.Right,a.Top)};SuperMap.Web.Realspace.TerrainLayer.prototype={_get_innerTerrainLayer:function(){return this._innerTerrainLayer},_set_innerTerrainLayer:function(a){this._innerTerrainLayer=a},initialized:function(){if(this._innerTerrainLayer!=null){return true}else{return false}},get_name:function(){return this._innerTerrainLayer.Name},get_caption:function(){return this._innerTerrainLayer.Caption},set_caption:function(a){if(typeof(a)=="string"){this._innerTerrainLayer.Caption=a}},get_description:function(){return this._innerTerrainLayer.Description},set_description:function(a){if(typeof(a)=="string"){this._innerTerrainLayer.Description=a}},get_dataName:function(){return this._innerTerrainLayer.DataName},get_isVisible:function(){return this._innerTerrainLayer.IsVisible},set_isVisible:function(a){this._innerTerrainLayer.IsVisible=a;SuperMap.Web.Realspace.Utility._SceneControl.get_scene().resetTerrain()},get_bounds:function(){if(this._innerTerrainLayer!=null){var a=this._innerTerrainLayer.Bounds;return new SuperMap.Web.Core.Rectangle2D(a.Left,a.Bottom,a.Right,a.Top)}},updateCacheFile:function(){return this._innerTerrainLayer.UpdateCacheFile()},getDataStreamingProgress:function(){if(this._innerTerrainLayer==null){return}return this._innerTerrainLayer.GetDataStreamingProgress()}};SuperMap.Web.Realspace.TerrainLayer.registerClass("SuperMap.Web.Realspace.TerrainLayer",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.ScreenLayer3D=function(a){SuperMap.Web.Realspace.ScreenLayer3D.initializeBase(this);this._innerScreenLayer3D=a._get_innerSceneControl().Scene.ScreenLayer3D;this._feature3Dlist=[]};SuperMap.Web.Realspace.ScreenLayer3D.prototype={dispose:function(){this._innerScreenLayer3D=null;Array.clear(this._feature3Dlist);this._feature3Dlist=[]},get_isVisible:function(){if(this._innerScreenLayer3D==null){return null}return this._innerScreenLayer3D.IsVisible},set_isVisible:function(a){if(this._innerScreenLayer3D==null){return null}this._innerScreenLayer3D.IsVisible=a},get_count:function(){if(this._innerScreenLayer3D==null){return null}return this._innerScreenLayer3D.Count},get_xUnit:function(){if(this._innerScreenLayer3D==null){return null}return this._innerScreenLayer3D.xUnit},set_xUnit:function(b){if(this._innerScreenLayer3D==null){return null}var a=parseInt(b);if(!isNaN(a)){this._innerScreenLayer3D.XUnit=a}},get_yUnit:function(){if(this._innerScreenLayer3D==null){return null}return this._innerScreenLayer3D.yUnit},set_yUnit:function(b){if(this._innerScreenLayer3D==null){return null}var a=parseInt(b);if(!isNaN(a)){this._innerScreenLayer3D.YUnit=a}},get_item:function(c){if(this._innerScreenLayer3D==null){return null}var b=-1;if((c!=null)&&!isNaN(c)&&(c!=="")){b=c}else{if(typeof(c)=="string"){b=this.indexOf(c)}}if(b<0||b>=this._feature3Dlist.length){return null}var a=this._innerScreenLayer3D.get_Item(b);if(a!=null){return this._feature3Dlist[b]}return null},set_item:function(c,d){if(this._innerScreenLayer3D==null){return}if(SuperMap.Web.Core.Feature3D.isInstanceOfType(d)){if(d.get_geometry()==null){return}var b=null;if(typeof(c)=="string"){b=this.indexOf(c)}else{if((c!=null)&&!isNaN(c)&&(c!=="")){b=c}}if(b>=0&&b<this.get_count()){var a=d.get_geometry()._get_innerGeometry();if(a==null){return}this._innerScreenLayer3D.set_Item(b,a);this._feature3Dlist[b]=d}}},add:function(f,b){if(this._innerScreenLayer3D==null){return null}if(SuperMap.Web.Core.Feature3D.isInstanceOfType(f)){if(f.get_geometry()==null){return null}var a=f.get_geometry()._get_innerGeometry();if(a==null){return -1}if(typeof(b)!="string"){var e=this._innerScreenLayer3D.Count;b="Feature"+e.toString(10)}var d=this._innerScreenLayer3D.Add(a,b);if(d>=0&&d==this._feature3Dlist.length){var h=this._isAlreadyHaveOne(f);if(h>=0){var g=this._innerTrackingLayer3D.get_Item(h);var c=new SuperMap.Web.Core.Feature3D();c._make(g);this._feature3Dlist[h]=null;this._feature3Dlist[h]=c}this._feature3Dlist.push(f);return d}}return -1},_isAlreadyHaveOne:function(c){var a=null;for(var b=0;b<this._feature3Dlist.length;b++){a=this._feature3Dlist[b];if(c._get_innerFeature3D()==a._get_innerFeature3D()){return b}}return -1},indexOf:function(a){if(this._innerScreenLayer3D==null){return null}if(typeof(a)=="string"){return this._innerScreenLayer3D.IndexOf(a)}return -1},removeAll:function(){if(this._innerScreenLayer3D==null){return null}this._innerScreenLayer3D.RemoveAll();Array.clear(this._feature3Dlist)},removeAt:function(a){if(this._innerScreenLayer3D==null){return null}if((a!=null)&&(!isNaN(a)||typeof(a)=="string")){var b=this.get_item(a);if(b!=null){Array.remove(this._feature3Dlist,b);return this._innerScreenLayer3D.RemoveAt(a)}}return false},getTag:function(b){if(this._innerScreenLayer3D==null){return null}var a=parseInt(b);if(!isNaN(a)){return this._innerScreenLayer3D.GetTag(a)}return null},setTag:function(c,b){if(this._innerScreenLayer3D==null){return}var a=parseInt(c);if(!isNaN(a)){this._innerScreenLayer3D.SetTag(a,b)}},setSelected:function(b,a){if(this._innerScreenLayer3D==null){return}if((b!=null)&&(!isNaN(b)||typeof(b)=="string")){this._innerScreenLayer3D.SetSelected(b,a)}},isSelected:function(a){if(this._innerScreenLayer3D==null){return null}if((a!=null)&&(!isNaN(a)||typeof(a)=="string")){return this._innerScreenLayer3D.IsSelected(a)}return null},refresh:function(){if(this._innerScreenLayer3D==null){return null}this._innerScreenLayer3D.Refresh()}};SuperMap.Web.Realspace.ScreenLayer3D.registerClass("SuperMap.Web.Realspace.ScreenLayer3D",Sys.Component);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.TrackingLayer3D=function(a){SuperMap.Web.Realspace.TrackingLayer3D.initializeBase(this);this._innerTrackingLayer3D=a._get_innerSceneControl().Scene.TrackingLayer3D;this._feature3Dlist=[]};SuperMap.Web.Realspace.TrackingLayer3D.prototype={dispose:function(){this._innerTrackingLayer3D=null;Array.clear(this._feature3Dlist);this._feature3Dlist=[]},get_isVisible:function(){if(this._innerTrackingLayer3D==null){return null}return this._innerTrackingLayer3D.IsVisible},set_isVisible:function(a){if(this._innerTrackingLayer3D==null){return null}this._innerTrackingLayer3D.IsVisible=a},get_count:function(){return this._feature3Dlist.length},get_item:function(b){if(this._innerTrackingLayer3D==null){return null}var a=-1;if((b!=null)&&!isNaN(b)&&(b!=="")){a=b}else{if(typeof(b)=="string"){a=this.indexOf(b)}}if(a<0||a>=this._feature3Dlist.length){return null}return this._feature3Dlist[a]},set_item:function(c,d){if(this._innerTrackingLayer3D==null){return}if(SuperMap.Web.Core.Feature3D.isInstanceOfType(d)){if(d.get_geometry()==null){return}var b=null;if(typeof(c)=="string"){b=this.indexOf(c)}else{if((c!=null)&&!isNaN(c)&&(c!=="")){b=c}}if(b>=0&&b<this.get_count()){var a=d.get_geometry()._get_innerGeometry();if(a==null){return}this._innerTrackingLayer3D.set_Item(b,a);this._feature3Dlist[b]=d;d._innerTrackingLayer3D=this._innerTrackingLayer3D;d._nIndex=b}}},add:function(f,b){if(this._innerTrackingLayer3D==null){return null}if(SuperMap.Web.Core.Feature3D.isInstanceOfType(f)){if(f.get_geometry()==null){return null}var a=f.get_geometry()._get_innerGeometry();if(a==null){return}if(typeof(b)!="string"){var e=this._innerTrackingLayer3D.Count;b="Feature"+e.toString(10)}var d=this._innerTrackingLayer3D.Add(a,b);f._innerTrackingLayer3D=this._innerTrackingLayer3D;f.set_name(b);f._nIndex=d;if(d>=0&&d==this._feature3Dlist.length){var h=this._isAlreadyHaveOne(f);if(h>=0){var g=this._innerTrackingLayer3D.get_Item(h);var c=new SuperMap.Web.Core.Feature3D();c._make(g);this._feature3Dlist[h]=null;this._feature3Dlist[h]=f}this._feature3Dlist.push(f);return d}}return -1},_isAlreadyHaveOne:function(c){var a=null;for(var b=0;b<this._feature3Dlist.length;b++){a=this._feature3Dlist[b];if(c._get_innerFeature3D()==a._get_innerFeature3D()){return b}}return -1},indexOf:function(a){if(this._innerTrackingLayer3D==null){return null}if(typeof(a)=="string"){return this._innerTrackingLayer3D.IndexOf(a)}return -1},removeAll:function(){if(this._innerTrackingLayer3D==null){return null}this._innerTrackingLayer3D.RemoveAll();Array.clear(this._feature3Dlist)},removeAt:function(a){if(this._innerTrackingLayer3D==null){return null}if((a!=null)&&(!isNaN(a)||typeof(a)=="string")){var b=this.get_item(a);if(b!=null){Array.remove(this._feature3Dlist,b);return this._innerTrackingLayer3D.RemoveAt(a)}}return false},getTag:function(b){if(this._innerTrackingLayer3D==null){return null}var a=parseInt(b);if(!isNaN(a)){return this._innerTrackingLayer3D.GetTag(a)}return null},setTag:function(c,b){if(this._innerTrackingLayer3D==null){return}var a=parseInt(c);if(!isNaN(a)){this._innerTrackingLayer3D.SetTag(a,b)}},refresh:function(){if(this._innerTrackingLayer3D==null){return null}this._innerTrackingLayer3D.Refresh()},hitTest:function(b){if(this._innerTrackingLayer3D==null){return null}if(SuperMap.Web.Core.Point.isInstanceOfType(b)){var a=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(b);var c=this._innerTrackingLayer3D.HitTest(a);if(c<0){return null}return this._feature3Dlist[c]}}};SuperMap.Web.Realspace.TrackingLayer3D.registerClass("SuperMap.Web.Realspace.TrackingLayer3D",Sys.Component);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Camera=function(f,d,e){SuperMap.Web.Realspace.Camera.initializeBase(this);this._innerCamera=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateCamera();this._innerCamera.Latitude=-180;this._innerCamera.Longitude=-90;this._innerCamera.Altitude=-1;var b=parseFloat(f);var a=parseFloat(d);var c=parseFloat(e);if((this._innerCamera!=null)){if(!isNaN(b)){this._innerCamera.Longitude=b}if(!isNaN(a)){this._innerCamera.Latitude=a}if(!isNaN(c)){this._innerCamera.Altitude=c}}};SuperMap.Web.Realspace.Camera.prototype={_get_innerCamera:function(){if(this._innerCamera!=null){return this._innerCamera}},_set_innerCamera:function(a){if(this._innerCamera!=null){this._innerCamera=a}},get_altitude:function(){if(this._innerCamera!=null){return this._innerCamera.Altitude}},set_altitude:function(a){if(this._innerCamera!=null){var b=parseFloat(a);if(!isNaN(b)){this._innerCamera.Altitude=b}}},get_latitude:function(){if(this._innerCamera!=null){return this._innerCamera.Latitude}},set_latitude:function(b){if(this._innerCamera!=null){var a=parseFloat(b);if(!isNaN(a)){this._innerCamera.Latitude=a}}},get_longitude:function(){if(this._innerCamera!=null){return this._innerCamera.Longitude}},set_longitude:function(b){if(this._innerCamera!=null){var a=parseFloat(b);if(!isNaN(a)){this._innerCamera.Longitude=a}}},get_tilt:function(){if(this._innerCamera!=null){return this._innerCamera.Tilt}},set_tilt:function(a){if(this._innerCamera!=null){var b=parseFloat(a);if(!isNaN(b)){this._innerCamera.Tilt=b}}},get_heading:function(){if(this._innerCamera!=null){return this._innerCamera.Heading}},set_heading:function(b){if(this._innerCamera!=null){var a=parseFloat(b);if(!isNaN(a)){this._innerCamera.Heading=a}}},get_altitudeMode:function(){if(this._innerCamera!=null){return this._innerCamera.AltitudeMode}},set_altitudeMode:function(b){if(this._innerCamera!=null){var a=parseInt(b);if(!isNaN(a)){this._innerCamera.AltitudeMode=a}}},isValid:function(){if(this._innerCamera!=null){return this._innerCamera.IsValid}}};SuperMap.Web.Realspace.Camera.registerClass("SuperMap.Web.Realspace.Camera",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.SceneServicesList=function(a){SuperMap.Web.Realspace.SceneServicesList.initializeBase(this);this._innerSceneServicesList=a._get_innerSceneControl().SceneServicesList};SuperMap.Web.Realspace.SceneServicesList.prototype={get_count:function(){if(this._innerSceneServicesList==null){return null}return this._innerSceneServicesList.Count},get_serverRootAddress:function(){if(this._innerSceneServicesList==null){return null}return this._innerSceneServicesList.ServerRootAddress},get_item:function(c){if(this._innerSceneServicesList==null){return null}if((c==0)||c){var b=this._innerSceneServicesList.get_Item(c);if(b!=null){var a=SuperMap.Web.Core.Conversion._ConvertSRObject2Object(b,"SceneServiceInfo");return a}}return null},load:function(b){if(this._innerSceneServicesList==null){return false}if(typeof(b)!="string"){return false}var a=this._innerSceneServicesList.Load(b);return a},removeAll:function(){if(this._innerSceneServicesList==null){return}this._innerSceneServicesList.RemoveAll()}};SuperMap.Web.Realspace.SceneServicesList.registerClass("SuperMap.Web.Realspace.SceneServicesList",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.SceneServiceInfo=function(){SuperMap.Web.Realspace.SceneServiceInfo.initializeBase(this);this._name="";this._serverRootAddress=""};SuperMap.Web.Realspace.SceneServiceInfo.prototype={get_name:function(){return this._name},set_name:function(a){if(typeof(a)=="string"){this._name=a}},get_serverRootAddress:function(){return this._serverRootAddress},set_serverRootAddress:function(a){if(typeof(a)=="string"){this._serverRootAddress=a}}};SuperMap.Web.Realspace.SceneServiceInfo.registerClass("SuperMap.Web.Realspace.SceneServiceInfo",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Layer3DServicesList=function(a){SuperMap.Web.Realspace.Layer3DServicesList.initializeBase(this);this._innerLayer3DServicesList=a._get_innerSceneControl().Layer3DServicesList};SuperMap.Web.Realspace.Layer3DServicesList.prototype={get_count:function(){return this._innerLayer3DServicesList.Count},get_serverRootAddress:function(){return this._innerLayer3DServicesList.ServerRootAddress},set_serverRootAddress:function(a){if(typeof(a)!="string"){return}this._innerLayer3DServicesList.ServerRootAddress=a},get_sceneName:function(){return this._innerLayer3DServicesList.SceneName},set_sceneName:function(a){if(typeof(a)!="string"){return}this._innerLayer3DServicesList.SceneName=a},get_item:function(a){if((a==0)||a){var b=this._innerLayer3DServicesList.get_Item(a);if(b!=null){var c=new SuperMap.Web.Realspace.Layer3DServiceInfo(b);return c}}return null},load:function(b,a){if((typeof(b)!="string")||(typeof(a)!="string")){return false}return this._innerLayer3DServicesList.Load(b,a)},removeAll:function(){this._innerLayer3DServicesList.RemoveAll()}};SuperMap.Web.Realspace.Layer3DServicesList.registerClass("SuperMap.Web.Realspace.Layer3DServicesList",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Layer3DServiceInfo=function(a){SuperMap.Web.Realspace.Layer3DServiceInfo.initializeBase(this);this._innerLayer3DServiceInfo=null;this._style3D=null;if(a!=null){this._innerLayer3DServiceInfo=a}};SuperMap.Web.Realspace.Layer3DServiceInfo.prototype={get_name:function(){if(this._innerLayer3DServiceInfo!=null){return this._innerLayer3DServiceInfo.Name}},set_name:function(a){if(typeof(a)=="string"&&this._innerLayer3DServiceInfo!=null){this._innerLayer3DServiceInfo.Name=a}},get_type:function(){if(this._innerLayer3DServiceInfo!=null){return this._innerLayer3DServiceInfo.Type}},set_type:function(b){var a=parseInt(b);if(!isNaN(a)&&this._innerLayer3DServiceInfo!=null){this._innerLayer3DServiceInfo.Type=a}},get_dataName:function(){if(this._innerLayer3DServiceInfo!=null){return this._innerLayer3DServiceInfo.DataName}},set_dataName:function(a){if(typeof(name)=="string"&&this._innerLayer3DServiceInfo!=null){this._innerLayer3DServiceInfo.DataName=a}},get_caption:function(){if(this._innerLayer3DServiceInfo!=null){return this._innerLayer3DServiceInfo.Caption}},set_caption:function(a){if(typeof(a)=="string"&&this._innerLayer3DServiceInfo!=null){this._innerLayer3DServiceInfo.Caption=a}},get_description:function(){if(this._innerLayer3DServiceInfo!=null){return this._innerLayer3DServiceInfo.Description}},set_description:function(a){if(typeof(a)=="string"&&this._innerLayer3DServiceInfo!=null){this._innerLayer3DServiceInfo.Description=a}},get_isVisible:function(){if(this._innerLayer3DServiceInfo!=null){return this._innerLayer3DServiceInfo.IsVisible}},set_isVisible:function(a){if(typeof(a)=="boolean"&&this._innerLayer3DServiceInfo!=null){this._innerLayer3DServiceInfo.IsVisible=a}},get_isSelectable:function(){if(this._innerLayer3DServiceInfo!=null){return this._innerLayer3DServiceInfo.IsSelectable}},set_isSelectable:function(a){if(typeof(a)=="boolean"&&this._innerLayer3DServiceInfo!=null){this._innerLayer3DServiceInfo.IsSelectable=a}},get_visibleDistance:function(){if(this._innerLayer3DServiceInfo!=null){return this._innerLayer3DServiceInfo.VisibleDistance}},set_visibleDistance:function(a){if(!isNaN(a)){if(this._innerLayer3DServiceInfo!=null){this._innerLayer3DServiceInfo.VisibleDistance=a}}},get_maxVisibleAltitude:function(){if(this._innerLayer3DServiceInfo!=null){return this._innerLayer3DServiceInfo.MaxVisibleAltitude}},set_maxVisibleAltitude:function(a){var b=parseFloat(a);if(!isNaN(b)){if(this._innerLayer3DServiceInfo!=null){this._innerLayer3DServiceInfo.MaxVisibleAltitude=b}}},get_minVisibleAltitude:function(){if(this._innerLayer3DServiceInfo!=null){return this._innerLayer3DServiceInfo.MinVisibleAltitude}},set_minVisibleAltitude:function(a){var b=parseFloat(a);if(!isNaN(b)){if(this._innerLayer3DServiceInfo!=null){this._innerLayer3DServiceInfo.MinVisibleAltitude=b}}},get_isAlwaysRender:function(){if(this._innerLayer3DServiceInfo!=null){return this._innerLayer3DServiceInfo.IsAlwaysRender}},set_isAlwaysRender:function(a){if(typeof(a)=="boolean"&&this._innerLayer3DServiceInfo!=null){this._innerLayer3DServiceInfo.IsAlwaysRender=a}},get_isEditable:function(){if(this._innerLayer3DServiceInfo!=null){return this._innerLayer3DServiceInfo.IsEditable}},set_isEditable:function(a){if(typeof(a)=="boolean"&&this._innerLayer3DServiceInfo!=null){this._innerLayer3DServiceInfo.IsEditable=a}},get_style3D:function(){if(this._innerLayer3DServiceInfo!=null&&this._innerLayer3DServiceInfo.Type==SuperMap.Web.Realspace.Layer3DType.VECTOR){if(null==this._style3D){this._style3D=SuperMap.Web.Core.Conversion._CreateObjectBySRObject(this._innerLayer3DServiceInfo.Style3D,"Style3D")}return this._style3D}},set_style3D:function(a){if(this._innerLayer3DServiceInfo==null){return}if(SuperMap.Web.Core.Style3D.isInstanceOfType(a)&&this._innerLayer3DServiceInfo.Type==SuperMap.Web.Realspace.Layer3DType.VECTOR){this._innerLayer3DServiceInfo.Style3D=a._get_innerStyle3D()}}};SuperMap.Web.Realspace.Layer3DServiceInfo.registerClass("SuperMap.Web.Realspace.Layer3DServiceInfo",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Selection3D=function(b,a){SuperMap.Web.Realspace.Selection3D.initializeBase(this);this._innerSelection3D=null;this._layer3D=null;this._style3d=null;this._textstyle3d=null;if((SuperMap.Web.Realspace.Layer3D.isInstanceOfType(a))){if(b!=null){this._innerSelection3D=b;this._layer3D=a}}};SuperMap.Web.Realspace.Selection3D.prototype={dispose:function(){this._innerSelection3D=null;this._layer3D=null;this._style3d=null;this._textstyle3d=null},get_count:function(){if(this._innerSelection3D!=null){return this._innerSelection3D.Count}},get_layer3D:function(){if(this._innerSelection3D!=null){return this._layer3D}},get_item:function(a){if(this._innerSelection3D!=null){if(!isNaN(a)&&(a!=="")&&(a>=0)){return this._innerSelection3D.get_Item(a)}}return -1},add:function(a){if(this._innerSelection3D!=null){var b=parseInt(a);if(!isNaN(b)){return this._innerSelection3D.Add(b)}}return -1},removeAll:function(){if(this._innerSelection3D!=null){this._innerSelection3D.RemoveAll()}},removeAt:function(b,c){if(this._innerSelection3D!=null){var d=parseInt(b);var a=parseInt(c);if(!isNaN(d)){if(!isNaN(a)){this._innerSelection3D.RemoveAt(d,a)}else{this._innerSelection3D.RemoveAt(d,1)}}}},remove:function(a){if(this._innerSelection3D!=null){var b=parseInt(a);if(!isNaN(b)){this._innerSelection3D.Remove(b)}}},append:function(a){if(this._innerSelection3D!=null){var b=Function._validateParams(arguments,[{name:"arrIds",type:Array,elementType:Number}]);if(b){return -1}else{return this._innerSelection3D.Append(a)}}return -1},get_style3D:function(){if(this._style3d==null&&this._innerSelection3D.Style3D!=null){this._style3d=new SuperMap.Web.Core.Style3D();this._style3d._innerStyle3D=null;this._style3d._set_innerStyle3D(this._innerSelection3D.Style3D)}return this._style3d},set_style3D:function(a){if(this._innerSelection3D!=null&&SuperMap.Web.Core.Style3D.isInstanceOfType(a)){this._innerSelection3D.Style3D=a._get_innerStyle3D();if(this._style3d==null){this._style3d=new SuperMap.Web.Core.Style3D();this._style3d._innerStyle3D=null}this._style3d._set_innerStyle3D(this._innerSelection3D.Style3D)}},get_textStyle3D:function(){return this._textstyle3d},set_textStyle3D:function(a){if(this._innerSelection3D!=null&&SuperMap.Web.Core.TextStyle3D.isInstanceOfType(a)){this._innerSelection3D.TextStyle=a._get_innerTextStyle3D();if(this._textstyle3d==null){this._textstyle3d=new SuperMap.Web.Core.TextStyle3D();this._textstyle3d._innerTextStyle3D=null}this._textstyle3d._set_innerTextStyle3D(this._innerSelection3D.TextStyle)}},isEmpty:function(){if(this._innerSelection3D!=null){return this._innerSelection3D.IsEmpty}}};SuperMap.Web.Realspace.Selection3D.registerClass("SuperMap.Web.Realspace.Selection3D",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.EventObject=function(){SuperMap.Web.Realspace.EventObject.initializeBase(this);this._clientX=0;this._clientY=0;this._altitude=0;this._longitude=0;this._latitude=0;this._camera=null;this._flagType=0;this._zDelta=0;this._elementID=-1};SuperMap.Web.Realspace.EventObject.prototype={get_clientX:function(){return this._clientX},_set_clientX:function(a){this._clientX=a},get_clientY:function(){return this._clientY},_set_clientY:function(a){this._clientY=a},get_altitude:function(){return this._altitude},_set_altitude:function(a){this._altitude=a},get_latitude:function(){return this._latitude},_set_latitude:function(a){this._latitude=a},get_longitude:function(){return this._longitude},_set_longitude:function(a){this._longitude=a},get_flagType:function(){return this._flagType},_set_flagType:function(a){this._flagType=a},get_camera:function(){return this._camera},_set_camera:function(a){this._camera=a},get_zDelta:function(){return this._zDelta},_set_zDelta:function(a){this._zDelta=a}};SuperMap.Web.Realspace.EventObject.registerClass("SuperMap.Web.Realspace.EventObject",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.AsyncHelper=function(b){SuperMap.Web.Realspace.AsyncHelper.initializeBase(this);this._innerObjectManager=b._get_innerObjectManager();if(this._innerObjectManager==null){var a=new Error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_Operation_Failed"));a.name=SuperMap.Web.Realspace.ExceptionName.OperationFailed;throw a}};SuperMap.Web.Realspace.AsyncHelper.prototype={_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}},asyncFetchModel:function(a,b){if(typeof(a)!="string"||typeof(b)!="function"||a===""){return false}if(this._innerObjectManager==null){return false}this._removeEvent("fetchModelFinished",b);this._addEvent("fetchModelFinished",b);this._innerObjectManager.AsyncFetchModel(a);return true},_asyncFetchModelFinished:function(b,c){if(b!=null){var a=SuperMap.Web.Core.Conversion._CreateObjectBySRObject(b,"Geometry");this._raiseEvent("fetchModelFinished",a)}else{if(b==null||b==0){this._raiseEvent("fetchModelFinished",null)}}return},asyncFetchPicture3D:function(b,a){if(typeof(b)!="string"||typeof(a)!="function"||b===""){return false}if(this._innerObjectManager==null){return false}this._removeEvent("fetchPicture3DFinished",a);this._addEvent("fetchPicture3DFinished",a);this._innerObjectManager.AsyncFetchPicture3D(b);return true},_asyncFetchPicture3DFinished:function(c,a){if(c!=null){var b=SuperMap.Web.Core.Conversion._CreateObjectBySRObject(c,"Geometry");this._raiseEvent("fetchPicture3DFinished",b)}else{if(c==null||c==0){this._raiseEvent("fetchPicture3DFinished",null)}}return},asyncFetchLayer3D:function(b,c,a,e,d){var f=parseInt(e);if(typeof(b)!="string"||typeof(c)!="string"||typeof(a)!="string"||isNaN(f)||typeof(d)!="function"||b===""){return false}if(this._innerObjectManager==null){return false}this._removeEvent("fetchLayer3DFinished",d);this._addEvent("fetchLayer3DFinished",d);this._innerObjectManager.AsyncFetchLayer3D(b,c,a,f);return true},_asyncFetchLayer3DFinished:function(b,c){if(b!=null){var a=SuperMap.Web.Core.Conversion._CreateObjectBySRObject(b,"Layer3D");this._raiseEvent("fetchLayer3DFinished",a)}else{if(b==null||b==0){this._raiseEvent("fetchLayer3DFinished",null)}}return}};SuperMap.Web.Realspace.AsyncHelper.registerClass("SuperMap.Web.Realspace.AsyncHelper",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.FlyManager=function(a){SuperMap.Web.Realspace.FlyManager.initializeBase(this);this._innerFlyManager=a._get_innerSceneControl().Scene.FlyManager};SuperMap.Web.Realspace.FlyManager.prototype={dispose:function(){this._innerFlyManager=null},get_routes:function(){if((this._innerFlyManager==null)){return}var b=this._innerFlyManager.Routes;if(b){var a=new SuperMap.Web.Realspace.FlyRoutes(b);a._innerFlyManager=this._innerFlyManager;return a}else{return}},play:function(){if((this._innerFlyManager==null)){return}this._innerFlyManager.Play()},pause:function(){if((this._innerFlyManager==null)){return}this._innerFlyManager.Pause()},isArrivedNewStop:function(){if((this._innerFlyManager==null)){return}return this._innerFlyManager.IsArrivedNewStop()},stop:function(){if((this._innerFlyManager==null)){return}this._innerFlyManager.Stop()},get_flyStatus:function(){if((this._innerFlyManager==null)){return}return this._innerFlyManager.FlyStatus},get_duration:function(){if((this._innerFlyManager==null)){return}return this._innerFlyManager.Duration},set_duration:function(b){if((this._innerFlyManager==null)){return}var a=parseFloat(b);if(!isNaN(a)){this._innerFlyManager.Duration=a;if(this._innerFlyManager){if(this._innerFlyManager.FlyStatus==2){this._innerFlyManager.Update()}}}},get_progress:function(){if((this._innerFlyManager==null)){return}return this._innerFlyManager.Progress},set_progress:function(b){if((this._innerFlyManager==null)){return}var a=parseFloat(b);if(!isNaN(a)){this._innerFlyManager.Progress=a}},get_playRate:function(){if((this._innerFlyManager==null)){return}return this._innerFlyManager.PlayRate},set_playRate:function(b){if((this._innerFlyManager==null)){return}var a=parseFloat(b);if(!isNaN(a)){this._innerFlyManager.PlayRate=a}},get_currentStopIndex:function(){if((this._innerFlyManager==null)){return}return this._innerFlyManager.CurrentStopIndex},set_currentStopIndex:function(b){if((this._innerFlyManager==null)){return}var a=parseInt(b);if(!isNaN(a)){this._innerFlyManager.CurrentStopIndex=a}}};SuperMap.Web.Realspace.FlyManager.registerClass("SuperMap.Web.Realspace.FlyManager",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.FlyRoute=function(a){SuperMap.Web.Realspace.FlyRoute.initializeBase(this);this._innerFlyRoute=a;this._innerFlyManager=null};SuperMap.Web.Realspace.FlyRoute.prototype={dispose:function(){this._innerFlyRoute=null},get_name:function(){if((this._innerFlyRoute==null)){return}return this._innerFlyRoute.Name},set_name:function(a){if((this._innerFlyRoute==null)){return}this._innerFlyRoute.Name=a},get_isStopsVisible:function(){if((this._innerFlyRoute==null)){return}return this._innerFlyRoute.IsStopsVisible},set_isStopsVisible:function(a){if(typeof(a)!="boolean"||(this._innerFlyRoute==null)){return}this._innerFlyRoute.IsStopsVisible=a;if(this._innerFlyManager){this._innerFlyManager.Update()}},get_isLinesVisible:function(){if((this._innerFlyRoute==null)){return}return this._innerFlyRoute.IsLinesVisible},set_isLinesVisible:function(a){if(typeof(a)!="boolean"||(this._innerFlyRoute==null)){return}this._innerFlyRoute.IsLinesVisible=a;if(this._innerFlyManager){this._innerFlyManager.Update()}},get_isAltitudeFixed:function(){if((this._innerFlyRoute==null)){return}return this._innerFlyRoute.IsAltitudeFixed},set_isAltitudeFixed:function(a){if(typeof(a)!="boolean"||(this._innerFlyRoute==null)){return}this._innerFlyRoute.IsAltitudeFixed=a},get_isHeadingFixed:function(){if((this._innerFlyRoute==null)){return}return this._innerFlyRoute.IsHeadingFixed},set_isHeadingFixed:function(a){if(typeof(a)!="boolean"||(this._innerFlyRoute==null)){return}this._innerFlyRoute.IsHeadingFixed=a},get_isTiltFixed:function(){if((this._innerFlyRoute==null)){return}return this._innerFlyRoute.IsTiltFixed},set_isTiltFixed:function(a){if(typeof(a)!="boolean"||(this._innerFlyRoute==null)){return}this._innerFlyRoute.IsTiltFixed=a},get_isFlyingLoop:function(){if((this._innerFlyRoute==null)){return}return this._innerFlyRoute.IsFlyingLoop},set_isFlyingLoop:function(a){if(typeof(a)!="boolean"||(this._innerFlyRoute==null)){return}this._innerFlyRoute.IsFlyingLoop=a},get_isFlyAlongTheRoute:function(){if((this._innerFlyRoute==null)){return}return this._innerFlyRoute.IsFlyAlongTheRoute},set_isFlyAlongTheRoute:function(a){if(typeof(a)!="boolean"||(this._innerFlyRoute==null)){return}this._innerFlyRoute.IsFlyAlongTheRoute=a},get_speed:function(){if((this._innerFlyRoute==null)){return}return this._innerFlyRoute.Speed},get_routeStops:function(){if((this._innerFlyRoute==null)){return}var b=this._innerFlyRoute.RouteStops;if(b){var a=new SuperMap.Web.Realspace.RouteStops(b);return a}else{return}},set_speed:function(b){if((this._innerFlyRoute==null)){return}var a=parseFloat(b);if(!isNaN(a)){this._innerFlyRoute.Speed=a;if(this._innerFlyManager){if(this._innerFlyManager.FlyStatus==2){this._innerFlyManager.Update()}}}}};SuperMap.Web.Realspace.FlyRoute.registerClass("SuperMap.Web.Realspace.FlyRoute",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.FlyRoutes=function(a){SuperMap.Web.Realspace.FlyRoutes.initializeBase(this);this._innerFlyRoutes=a;this._innerFlyManager=null};SuperMap.Web.Realspace.FlyRoutes.prototype={dispose:function(){this._innerFlyRoutes=null},fromFile:function(a){if(this._innerFlyRoutes==null||a==null||a==""){return false}return this._innerFlyRoutes.FromFile(a)},get_cameraDistanceX:function(){if((this._innerFlyRoutes==null)){return}return this._innerFlyRoutes.CameraDistanceX},set_cameraDistanceX:function(a){if((this._innerFlyRoutes==null)){return}var b=parseFloat(a);if(!isNaN(b)){this._innerFlyRoutes.CameraDistanceX=b}},get_cameraDistanceY:function(){if((this._innerFlyRoutes==null)){return}return this._innerFlyRoutes.CameraDistanceY},set_cameraDistanceY:function(b){if((this._innerFlyRoutes==null)){return}var a=parseFloat(b);if(!isNaN(a)){this._innerFlyRoutes.CameraDistanceY=a}},get_cameraDistanceZ:function(){if((this._innerFlyRoutes==null)){return}return this._innerFlyRoutes.CameraDistanceZ},set_cameraDistanceZ:function(b){if((this._innerFlyRoutes==null)){return}var a=parseFloat(b);if(!isNaN(a)){this._innerFlyRoutes.CameraDistanceZ=a}},get_currentRouteIndex:function(){if((this._innerFlyRoutes==null)){return}return this._innerFlyRoutes.CurrentRouteIndex},set_currentRouteIndex:function(b){if((this._innerFlyRoutes==null)){return}var a=parseInt(b);if(!isNaN(a)){this._innerFlyRoutes.CurrentRouteIndex=a}},get_count:function(){if((this._innerFlyRoutes==null)){return}return this._innerFlyRoutes.Count},get_currentRoute:function(){if((this._innerFlyRoutes==null)){return}var b=this._innerFlyRoutes.CurrentRoute;if(b){var a=new SuperMap.Web.Realspace.FlyRoute(b);a._innerFlyManager=this._innerFlyManager;return a}else{return}},removeAll:function(){if(this._innerFlyRoutes==null){return false}return this._innerFlyRoutes.RemoveAll()}};SuperMap.Web.Realspace.FlyRoutes.registerClass("SuperMap.Web.Realspace.FlyRoutes",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Animation=function(){SuperMap.Web.Realspace.Animation.initializeBase(this);this._innerAnimation=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateAnimation()};SuperMap.Web.Realspace.Animation.prototype={dispose:function(){this._innerAnimation=null},_get_innerAnimation:function(){if(this._innerAnimation==null){return null}return this._innerAnimation},_set_innerAnimation:function(a){if(a==null){return null}this._innerAnimation=a},get_length:function(){if(this._innerAnimation==null){return null}return this._innerAnimation.Length},get_currentTime:function(){if(this._innerAnimation==null){return null}return this._innerAnimation.CurrentTime},set_currentTime:function(b){if(this._innerAnimation==null){return}var a=parseFloat(b);if(!isNaN(a)){this._innerAnimation.CurrentTime=a}},get_startTime:function(){if(this._innerAnimation==null){return null}return this._innerAnimation.StartTime},set_startTime:function(a){if(this._innerAnimation==null){return}var b=parseFloat(a);if(!isNaN(b)){this._innerAnimation.StartTime=b}},get_endTime:function(){if(this._innerAnimation==null){return null}return this._innerAnimation.EndTime},set_endTime:function(b){if(this._innerAnimation==null){return}var a=parseFloat(b);if(!isNaN(a)){this._innerAnimation.EndTime=a}},get_isEnabled:function(){return this._innerAnimation.IsEnabled},set_isEnabled:function(a){this._innerAnimation.IsEnabled=a},get_isAutoUpdated:function(){return this._innerAnimation.IsAutoUpdated},set_isAutoUpdated:function(a){this._innerAnimation.IsAutoUpdated=a}};SuperMap.Web.Realspace.Animation.registerClass("SuperMap.Web.Realspace.Animation",Sys.Component);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.ParticleSystem=function(a){SuperMap.Web.Realspace.ParticleSystem.initializeBase(this);this._innerParticleSystem=a};SuperMap.Web.Realspace.ParticleSystem.prototype={dispose:function(){this._innerParticleSystem=null},_get_innerParticleSystem:function(){if(this._innerParticleSystem==null){return null}return this._innerParticleSystem},_set_innerParticleSystem:function(a){if(a==null){return null}this._innerParticleSystem=a},get_localCenterPos:function(){if(this._innerParticleSystem==null){return null}var a=SuperMap.Web.Core.Conversion._ConvertSRObject2Object(this._innerParticleSystem.LocalCenterPos,"Point3D");return a},set_localCenterPos:function(a){if(!SuperMap.Web.Core.Point3D.isInstanceOfType(a)||this._innerParticleSystem==null){return}innerPoint3d=SuperMap.Web.Core.Conversion._ConvertObject2SRObject(a);this._innerParticleSystem.LocalCenterPos=innerPoint3d},get_particleWidth:function(){if(this._innerParticleSystem==null){return null}return this._innerParticleSystem.ParticleWidth},set_particleWidth:function(b){if(this._innerParticleSystem==null){return}var a=parseFloat(b);if(!isNaN(a)){this._innerParticleSystem.ParticleWidth=a}},get_particleHeight:function(){if(this._innerParticleSystem==null){return null}return this._innerParticleSystem.ParticleHeight},set_particleHeight:function(a){if(this._innerParticleSystem==null){return}var b=parseFloat(a);if(!isNaN(b)){this._innerParticleSystem.ParticleHeight=b}},get_particleLifeTime:function(){if(this._innerParticleSystem==null){return null}return this._innerParticleSystem.ParticleLifeTime},set_particleLifeTime:function(a){if(this._innerParticleSystem==null){return}var b=parseFloat(a);if(!isNaN(b)){this._innerParticleSystem.ParticleLifeTime=b}},get_particleCountPerSecond:function(){if(this._innerParticleSystem==null){return null}return this._innerParticleSystem.ParticleCountPerSecond},set_particleCountPerSecond:function(b){if(this._innerParticleSystem==null){return}var a=parseInt(b);if(!isNaN(a)){this._innerParticleSystem.ParticleCountPerSecond=a}},get_colorRangeStart:function(){if(this._innerParticleSystem==null){return null}var a=new SuperMap.Web.Core.Color();a.fromLongABGR(this._innerParticleSystem.ColorRangeStart);return a},set_colorRangeStart:function(a){if(this._innerParticleSystem==null){return}if(SuperMap.Web.Core.Color.isInstanceOfType(a)){this._innerParticleSystem.ColorRangeStart=a.toLongABGR()}else{if(!isNaN(parseFloat(a))){this._innerParticleSystem.ColorRangeStart=parseFloat(a)}}},get_colorRangeEnd:function(){if(this._innerParticleSystem==null){return null}var a=new SuperMap.Web.Core.Color();a.fromLongABGR(this._innerParticleSystem.ColorRangeEnd);return a},set_colorRangeEnd:function(a){if(this._innerParticleSystem==null){return}if(SuperMap.Web.Core.Color.isInstanceOfType(a)){this._innerParticleSystem.ColorRangeEnd=a.toLongABGR()}else{if(!isNaN(parseFloat(a))){this._innerParticleSystem.ColorRangeEnd=parseFloat(a)}}},get_texturePath:function(){if(this._innerParticleSystem==null){return null}return this._innerParticleSystem.TexturePath},set_texturePath:function(a){if(this._innerParticleSystem==null){return}if(typeof(a)=="string"){this._innerParticleSystem.TexturePath=a}},get_colorRangeImagePath:function(){if(this._innerParticleSystem==null){return null}return this._innerParticleSystem.ColorRangeImagePath},set_colorRangeImagePath:function(a){if(this._innerParticleSystem==null){return}if(typeof(a)=="string"){this._innerParticleSystem.ColorRangeImagePath=a}}};SuperMap.Web.Realspace.ParticleSystem.registerClass("SuperMap.Web.Realspace.ParticleSystem",Sys.Component);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.GlobalImage=function(){SuperMap.Web.Realspace.GlobalImage.initializeBase(this);this._innerGlobalImage=null};SuperMap.Web.Realspace.GlobalImage.prototype={dispose:function(){this._innerGlobalImage=null},get_transparency:function(){if((this._innerGlobalImage==null)){return}return this._innerGlobalImage.Transparency},set_transparency:function(a){if((this._innerGlobalImage==null)){return}if((a<=1)&&(a>=0)){this._innerGlobalImage.Transparency=a}},get_excavationRegionCount:function(){if((this._innerGlobalImage==null)){return}return this._innerGlobalImage.ExcavationRegionCount},addExcavationRegion:function(b,a){if((this._innerGlobalImage==null)){return}if(SuperMap.Web.Core.GeoModel.isInstanceOfType(b)){return this._innerGlobalImage.AddExcavationModel(b._innerGeometry,a)}return this._innerGlobalImage.AddExcavationRegion(b._innerGeometry,a)},clearExcavationRegions:function(){if((this._innerGlobalImage==null)){return}return this._innerGlobalImage.ClearExcavationRegions()},getExcavationRegion:function(b){if((this._innerGlobalImage==null)){return}var a=this._innerGlobalImage.GetExcavationRegion(b);return SuperMap.Web.Core.Conversion._CreateObjectBySRObject(a,"Geometry")},getExcavationRegionTag:function(a){if((this._innerGlobalImage==null)){return}return this._innerGlobalImage.GetExcavationRegionTag(a)},indexOfExcavationRegion:function(a){if((this._innerGlobalImage==null)){return}return this._innerGlobalImage.IndexOfExcavationRegion(a)},removeExcavationRegion:function(a){if((this._innerGlobalImage==null)){return}return this._innerGlobalImage.RemoveExcavationRegion(a)},setExcavationRegionTag:function(b,a){if((this._innerGlobalImage==null)){return}return this._innerGlobalImage.SetExcavationRegionTag(b,a)}};SuperMap.Web.Realspace.GlobalImage.registerClass("SuperMap.Web.Realspace.GlobalImage",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Underground=function(){SuperMap.Web.Realspace.Underground.initializeBase(this);this._innerUnderground=null};SuperMap.Web.Realspace.Underground.prototype={dispose:function(){this._innerUnderground=null},get_isVisible:function(){if((this._innerUnderground==null)){return}return this._innerUnderground.IsVisible},set_isVisible:function(a){if(typeof(a)!="boolean"||(this._innerUnderground==null)){return}this._innerUnderground.IsVisible=a},get_depth:function(){if((this._innerUnderground==null)){return}return this._innerUnderground.Depth},set_depth:function(b){if((this._innerUnderground==null)){return}var a=parseFloat(b);if(!isNaN(a)){this._innerUnderground.Depth=a}}};SuperMap.Web.Realspace.Underground.registerClass("SuperMap.Web.Realspace.Underground",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Material=function(b){SuperMap.Web.Realspace.Material.initializeBase(this);this._innerMaterial=null;if(b!=null){this._innerMaterial=b}else{this._innerMaterial=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateMaterial()}if(this._innerMaterial==null){var a=new Error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_Operation_Failed"));a.name=SuperMap.Web.Realspace.ExceptionName.OperationFailed;throw a}};SuperMap.Web.Realspace.Material.prototype={dispose:function(){this._innerMaterial=null},_get_innerMaterial:function(){if(this._innerMaterial==null){return null}return this._innerMaterial},_set_innerMaterial:function(a){if(a==null){return null}this._innerMaterial=a},get_name:function(){if(this._innerMaterial==null){return null}return this._innerMaterial.Name},set_name:function(a){if(this._innerMaterial==null){return}this._innerMaterial.Name=a},get_textureFilePath:function(){if(this._innerMaterial==null){return null}return this._innerMaterial.TextureFile},set_textureFilePath:function(a){if(this._innerMaterial==null){return}this._innerMaterial.TextureFile=a},get_diffuse:function(){if(this._innerMaterial==null){return null}var c=this._innerMaterial.Diffuse;if(typeof(c)=="unknown"){var d=new VBArray(c);var b=d.toArray();var a=new SuperMap.Web.Core.Color(b[0]*255,b[1]*255,b[2]*255,b[3]*255);return a}return null},set_diffuse:function(a){if(this._innerMaterial==null){return}if(SuperMap.Web.Core.Color.isInstanceOfType(a)){colorArray=[a.get_red()/255,a.get_green()/255,a.get_blue()/255,a.get_alpha()/255];this._innerMaterial.Diffuse=colorArray}},get_ambient:function(){if(this._innerMaterial==null){return null}var b=this._innerMaterial.Ambient;if(typeof(b)=="unknown"){var d=new VBArray(b);var c=d.toArray();var a=new SuperMap.Web.Core.Color(c[0]*255,c[1]*255,c[2]*255,c[3]*255);return a}return null},set_ambient:function(a){if(this._innerMaterial==null){return}if(SuperMap.Web.Core.Color.isInstanceOfType(a)){colorArray=[a.get_red()/255,a.get_green()/255,a.get_blue()/255,a.get_alpha()/255];this._innerMaterial.Ambient=colorArray}},get_specular:function(){if(this._innerMaterial==null){return null}var d=this._innerMaterial.Specular;if(typeof(d)=="unknown"){var c=new VBArray(d);var b=c.toArray();var a=new SuperMap.Web.Core.Color(b[0]*255,b[1]*255,b[2]*255,b[3]*255);return a}return null},set_specular:function(a){if(this._innerMaterial==null){return}if(SuperMap.Web.Core.Color.isInstanceOfType(a)){colorArray=[a.get_red()/255,a.get_green()/255,a.get_blue()/255,a.get_alpha()/255];this._innerMaterial.Specular=colorArray}},get_emission:function(){if(this._innerMaterial==null){return null}var c=this._innerMaterial.Emission;if(typeof(c)=="unknown"){var d=new VBArray(c);var b=d.toArray();var a=new SuperMap.Web.Core.Color(b[0]*255,b[1]*255,b[2]*255,b[3]*255);return a}return null},set_emission:function(a){if(this._innerMaterial==null){return}if(SuperMap.Web.Core.Color.isInstanceOfType(a)){colorArray=[a.get_red()/255,a.get_green()/255,a.get_blue()/255,a.get_alpha()/255];this._innerMaterial.Emission=colorArray}},get_shininess:function(){if(this._innerMaterial==null){return null}return this._innerMaterial.Shininess},set_shininess:function(a){if(this._innerMaterial==null){return}var b=parseFloat(a);if(!isNaN(b)){this._innerMaterial.Shininess=b}}};SuperMap.Web.Realspace.Material.registerClass("SuperMap.Web.Realspace.Material",Sys.Component);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Mesh=function(b){SuperMap.Web.Realspace.Mesh.initializeBase(this);this._innerMesh=null;if(b!=null){this._innerMesh=b}else{this._innerMesh=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateMesh()}if(this._innerMesh==null){var a=new Error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_Operation_Failed"));a.name=SuperMap.Web.Realspace.ExceptionName.OperationFailed;throw a}};SuperMap.Web.Realspace.Mesh.prototype={dispose:function(){this._innerMesh=null},_get_innerMesh:function(){if(this._innerMesh==null){return null}return this._innerMesh},_set_innerMesh:function(a){if(a==null){return null}this._innerMesh=a},get_vertices:function(){if(this._innerMesh==null){return null}var a=this._innerMesh.Vertices;if(typeof(a)=="unknown"){var c=new VBArray(a);var b=c.toArray();return b}else{if(typeof(a)=="object"){return a}}return null},set_vertices:function(a){if(this._innerMesh==null){return}if(Function._validateParams(arguments,[{name:"vertices",type:Array,elementType:Number}])==null){this._innerMesh.Vertices=a}},get_normals:function(){if(this._innerMesh==null){return null}var a=this._innerMesh.Normals;if(typeof(a)=="unknown"){var c=new VBArray(a);var b=c.toArray();return b}else{if(typeof(a)=="object"){return a}}return null},set_normals:function(a){if(this._innerMesh==null){return}if(Function._validateParams(arguments,[{name:"normals",type:Array,elementType:Number}])==null){this._innerMesh.normals=a}},get_textureCoords:function(){if(this._innerMesh==null){return null}var c=this._innerMesh.TextureCoords;if(typeof(c)=="unknown"){var b=new VBArray(c);var a=b.toArray();return a}else{if(typeof(c)=="object"){return c}}return null},set_textureCoords:function(a){if(this._innerMesh==null){return}if(Function._validateParams(arguments,[{name:"textureCoords",type:Array,elementType:Number}])==null){this._innerMesh.TextureCoords=a}},get_indexes:function(){if(this._innerMesh==null){return null}var a=this._innerMesh.Indexes;if(typeof(a)=="unknown"){var c=new VBArray(a);var b=c.toArray();return b}else{if(typeof(a)=="object"){return a}}return null},set_indexes:function(a){if(this._innerMesh==null){return}if(Function._validateParams(arguments,[{name:"indexes",type:Array,elementType:Number}])==null){this._innerMesh.Indexes=a}},get_diffuseColors:function(){if(this._innerMesh==null){return null}var c=this._innerMesh.DiffuseColors;if(typeof(c)=="unknown"){var e=new VBArray(c);var d=e.toArray();for(var b=0;b<d.length;b++){var a=new SuperMap.Web.Core.Color();a.fromLongABGR(d[b]);d[b]=a}return d}return null},set_diffuseColors:function(c){if(this._innerMesh==null){return}if(Function._validateParams(arguments,[{name:"diffuseColors",type:Array,elementType:SuperMap.Web.Core.Color}])==null){var a=c.slice();for(var b=0;b<a.length;b++){a[b]=a[b].toLongABGR()}this._innerMesh.DiffuseColors=a}},get_material:function(){if(this._innerMesh==null){return}return new SuperMap.Web.Realspace.Material(this._innerMesh.Material)},set_material:function(a){if(this._innerMesh==null){return}if(SuperMap.Web.Realspace.Material.isInstanceOfType(a)){if(this._innerMesh!=null){this._innerMesh.Material=a._get_innerMaterial()}}}};SuperMap.Web.Realspace.Mesh.registerClass("SuperMap.Web.Realspace.Mesh",Sys.Component);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Meshes=function(b){SuperMap.Web.Realspace.Meshes.initializeBase(this);this._innerMeshes=null;if(b!=null){this._innerMeshes=b}if(this._innerMeshes==null){var a=new Error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Realspace.Resources","Realspace_Operation_Failed"));a.name=SuperMap.Web.Realspace.ExceptionName.OperationFailed;throw a}};SuperMap.Web.Realspace.Meshes.prototype={dispose:function(){this._innerMeshes=null},_get_innerMeshes:function(){if(this._innerMeshes==null){return null}return this._innerMeshes},_set_innerMeshes:function(a){if(a==null){return null}this._innerMeshes=a},get_count:function(){if(this._innerMeshes==null){return null}return this._innerMeshes.Count},get_item:function(a){if(this._innerMeshes==null){return null}return new SuperMap.Web.Realspace.Mesh(this._innerMeshes.Item(a))},set_item:function(a,b){if(this._innerMeshes==null){return}if(SuperMap.Web.Realspace.Mesh.isInstanceOfType(b)){this._innerMeshes.Item(a)=b._get_innerMesh()}},add:function(a){if(this._innerMeshes==null){return}if(SuperMap.Web.Realspace.Mesh.isInstanceOfType(a)){return this._innerMeshes.Add(a._get_innerMesh())}},insert:function(a,b){if(this._innerMeshes==null){return}if(SuperMap.Web.Realspace.Mesh.isInstanceOfType(b)){return this._innerMeshes.Insert(a,b._get_innerMesh())}},remove:function(a){if(this._innerMeshes==null){return}if(SuperMap.Web.Realspace.Mesh.isInstanceOfType(mesh)){return this._innerMeshes.Remove(a)}},clear:function(){if(this._innerMeshes==null){return}this._innerMeshes.Clear()}};SuperMap.Web.Realspace.Meshes.registerClass("SuperMap.Web.Realspace.Meshes",Sys.Component);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Stereo=function(a){SuperMap.Web.Realspace.Stereo.initializeBase(this);this._innerStereo=a._get_innerSceneControl().Scene.Stereo};SuperMap.Web.Realspace.Stereo.prototype={get_enable:function(){if((this._innerStereo==null)){return}return this._innerStereo.Enable},set_enable:function(a){if((this._innerStereo==null)){return}this._innerStereo.Enable=a},get_stereoMode:function(){if((this._innerStereo==null)){return}return this._innerStereo.StereoMode},set_stereoMode:function(a){if((this._innerStereo==null)){return}this._innerStereo.StereoMode=a},get_parallaxMode:function(){if((this._innerStereo==null)){return}return this._innerStereo.ParallaxMode},set_parallaxMode:function(a){if((this._innerStereo==null)){return}this._innerStereo.ParallaxMode=a},get_cameraSeparation:function(){if((this._innerStereo==null)){return}return this._innerStereo.CameraSeparation},set_cameraSeparation:function(a){if((this._innerStereo==null)){return}var b=parseFloat(a);if(isNaN(b)){return}this._innerStereo.CameraSeparation=b},get_cameraAngle:function(){if((this._innerStereo==null)){return}return this._innerStereo.CameraAngle},set_cameraAngle:function(b){if((this._innerStereo==null)){return}var a=parseFloat(b);if(isNaN(a)){return}this._innerStereo.CameraAngle=a}};SuperMap.Web.Realspace.Stereo.registerClass("SuperMap.Web.Realspace.Stereo",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Sun=function(a){SuperMap.Web.Realspace.Sun.initializeBase(this);this._innerSun=a._get_innerSceneControl().Scene.Sun};SuperMap.Web.Realspace.Sun.prototype={get_isVisible:function(){if((this._innerSun==null)){return}return this._innerSun.IsVisible},set_isVisible:function(a){if((this._innerSun==null)){return}this._innerSun.IsVisible=a},get_dateTime:function(){if((this._innerSun==null)){return}return SuperMap.Web.Realspace.Utility.convertDoubleToDate(this._innerSun.DateTime)},set_dateTime:function(a){if((this._innerSun==null)){return}this._innerSun.DateTime=SuperMap.Web.Realspace.Utility.convertDateToDouble(a)},get_baseUtcOffset:function(){if((this._innerSun==null)){return}return this._innerSun.BaseUtcOffset},set_baseUtcOffset:function(a){if((this._innerSun==null)){return}this._innerSun.BaseUtcOffset=a}};SuperMap.Web.Realspace.Sun.registerClass("SuperMap.Web.Realspace.Sun",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.RouteStop=function(a){SuperMap.Web.Realspace.RouteStop.initializeBase(this);this._innerRouteStop=a};SuperMap.Web.Realspace.RouteStop.prototype={dispose:function(){this._innerRouteStop=null},get_name:function(){if((this._innerRouteStop==null)){return}return this._innerRouteStop.Name},get_distanceToNextStop:function(){if((this._innerRouteStop==null)){return}return this._innerRouteStop.DistanceToNextStop},get_durationToNextStop:function(){if((this._innerRouteStop==null)){return}return this._innerRouteStop.DurationToNextStop},get_speed:function(){if((this._innerRouteStop==null)){return}return this._innerRouteStop.Speed}};SuperMap.Web.Realspace.RouteStop.registerClass("SuperMap.Web.Realspace.RouteStop",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.RouteStops=function(a){SuperMap.Web.Realspace.RouteStops.initializeBase(this);this._innerRouteStops=a};SuperMap.Web.Realspace.RouteStops.prototype={dispose:function(){this._innerRouteStops=null},get_stop:function(a){if((this._innerRouteStops==null)||isNaN(a)){return null}var c=this._innerRouteStops.GetStop(a);if(c){var b=new SuperMap.Web.Realspace.RouteStop(c);return b}else{return null}},get_count:function(){if((this._innerRouteStops==null)){return null}return this._innerRouteStops.Count},isContains:function(a){if((this._innerRouteStops==null)){return false}return this._innerRouteStops.IsContains(a)},getIndexByName:function(a){if((this._innerRouteStops==null)){return null}return this._innerRouteStops.GetIndexByName(a)}};SuperMap.Web.Realspace.RouteStops.registerClass("SuperMap.Web.Realspace.RouteStops",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Bubble=function(a){SuperMap.Web.Realspace.Bubble.initializeBase(this);if(a!=null){this._innerBubble=a}else{this._innerBubble=SuperMap.Web.Realspace.Utility._SceneControl._get_innerObjectManager().CreateBubble()}};SuperMap.Web.Realspace.Bubble.prototype={_get_innerBubble:function(){if(this._innerBubble!=null){return this._innerBubble}},_set_innerBubble:function(a){if(this._innerBubble!=null){this._innerBubble=a}},get_pointer:function(){if(this._innerBubble!=null){var a=new SuperMap.Web.Core.Point3D();var b=this._innerBubble.Pointer;a.x=b.X;a.y=b.Y;a.z=b.Z;return a}},set_pointer:function(b){if(this._innerBubble!=null){var a=this._innerBubble.Pointer;a.X=b.x;a.Y=b.y;a.Z=b.z;this._innerBubble.Pointer=a}},get_backColor:function(){if(this._innerBubble!=null){var a=new SuperMap.Web.Core.Color();a.fromLongABGR(this._innerBubble.BackColor);return a}},set_backColor:function(a){if(this._innerBubble!=null){this._innerBubble.BackColor=a.toLongABGR()}},get_frameColor:function(){if(this._innerBubble!=null){var a=new SuperMap.Web.Core.Color();a.fromLongABGR(this._innerBubble.FrameColor);return a}},set_frameColor:function(a){if(this._innerBubble!=null){this._innerBubble.FrameColor=a.toLongABGR()}},get_buttonColor:function(){if(this._innerBubble!=null){var a=new SuperMap.Web.Core.Color();a.fromLongABGR(this._innerBubble.ButtonColor);return a}},set_buttonColor:function(a){if(this._innerBubble!=null){this._innerBubble.ButtonColor=a.toLongABGR()}},get_left:function(){if(this._innerBubble!=null){return this._innerBubble.Left}},get_top:function(){if(this._innerBubble!=null){return this._innerBubble.Top}},get_width:function(){if(this._innerBubble!=null){return this._innerBubble.Width}},set_width:function(a){if(this._innerBubble!=null){this._innerBubble.Width=a}},get_height:function(){if(this._innerBubble!=null){return this._innerBubble.Height}},set_height:function(a){if(this._innerBubble!=null){this._innerBubble.Height=a}},get_id:function(){if(this._innerBubble!=null){return this._innerBubble.ID}},get_name:function(){if(this._innerBubble!=null){return this._innerBubble.Name}},set_name:function(a){if(this._innerBubble!=null){if(typeof(a)!="string"){return}this._innerBubble.Name=a}},get_clientLeft:function(){if(this._innerBubble!=null){if(window.navigator.appName=="Microsoft Internet Explorer"){var a=96/window.screen.deviceXDPI;return this._innerBubble.ClientLeft*a}else{return this._innerBubble.ClientLeft}}},get_clientTop:function(){if(this._innerBubble!=null){if(window.navigator.appName=="Microsoft Internet Explorer"){var a=96/window.screen.deviceXDPI;return this._innerBubble.ClientTop*a}else{return this._innerBubble.ClientTop}}},get_clientWidth:function(){if(this._innerBubble!=null){if(window.navigator.appName=="Microsoft Internet Explorer"){var a=96/window.screen.deviceXDPI;return this._innerBubble.ClientWidth*a}else{return this._innerBubble.ClientWidth}}},set_clientWidth:function(a){if(this._innerBubble!=null){this._innerBubble.ClientWidth=a}},get_clientHeight:function(){if(this._innerBubble!=null){if(window.navigator.appName=="Microsoft Internet Explorer"){var a=96/window.screen.deviceXDPI;return this._innerBubble.ClientHeight*a}else{return this._innerBubble.ClientHeight}}},set_clientHeight:function(a){if(this._innerBubble!=null){this._innerBubble.ClientHeight=a}},get_isVisible:function(){if(this._innerBubble!=null){return this._innerBubble.IsVisible}},set_isVisible:function(a){if(this._innerBubble!=null){this._innerBubble.Visible=a}},get_frameWidth:function(){if(this._innerBubble!=null){return this._innerBubble.FrameWidth}},set_frameWidth:function(a){if(this._innerBubble!=null){this._innerBubble.FrameWidth=a}},get_roundQuality:function(){if(this._innerBubble!=null){return this._innerBubble.RoundQuality}},set_roundQuality:function(a){if(this._innerBubble!=null){this._innerBubble.RoundQuality=a}},get_isAutoHide:function(){if(this._innerBubble!=null){return this._innerBubble.IsAutoHide}},set_isAutoHide:function(a){if(this._innerBubble!=null){this._innerBubble.IsAutoHide=a}},get_isLockPosition:function(){if(this._innerBubble!=null){return this._innerBubble.IsLockPosition}},set_isLockPosition:function(a){if(this._innerBubble!=null){this._innerBubble.IsLockPosition=a}},get_title:function(){if(this._innerBubble!=null){return this._innerBubble.Title}},set_title:function(a){if(this._innerBubble!=null){if(typeof(a)!="string"){return}this._innerBubble.Title=a}},get_titleTextStyle3D:function(){return this._textstyle3d},set_titleTextStyle3D:function(a){if(this._innerBubble!=null&&SuperMap.Web.Core.TextStyle3D.isInstanceOfType(a)){this._innerBubble.TitleTextStyle=a._get_innerTextStyle3D();if(this._textstyle3d==null){this._textstyle3d=new SuperMap.Web.Core.TextStyle3D();this._textstyle3d._innerTextStyle3D=null}this._textstyle3d._set_innerTextStyle3D(this._innerBubble.TextStyle)}}};SuperMap.Web.Realspace.Bubble.registerClass("SuperMap.Web.Realspace.Bubble",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Bubbles=function(a){if(a!=null){this._innerBubbles=a}};SuperMap.Web.Realspace.Bubbles.prototype={_get_innerBubbles:function(){if(this._innerBubbles!=null){return this._innerBubbles}},_set_innerBubbles:function(a){if(this._innerBubbles!=null){this._innerBubbles=a}},add:function(a){if(this._innerBubbles!=null&&a._get_innerBubble()!=null){return this._innerBubbles.Add(a._get_innerBubble())}},insert:function(b,a){if(this._innerBubbles!=null&&a._get_innerBubble()!=null){return this._innerBubbles.Insert(b,a._get_innerBubble())}},indexOf:function(a){if(this._innerBubbles!=null&&bubble._get_innerBubble()!=null){return this._innerBubbles.IndexOf(a)}},removeAt:function(a){if(this._innerBubbles!=null){return this._innerBubbles.RemoveAt(a)}},removeAll:function(){if(this._innerBubbles!=null){this._innerBubbles.RemoveAll()}},get_count:function(){if(this._innerBubbles!=null){return this._innerBubbles.Count}},get_item:function(b){if(this._innerBubbles!=null){var c=this._innerBubbles.Item(b);if(c!=null){var a=new SuperMap.Web.Realspace.Bubble(c);return a}}}};SuperMap.Web.Realspace.Bubbles.registerClass("SuperMap.Web.Realspace.Bubbles",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Environment=function(){};SuperMap.Web.Realspace.Environment.registerClass("SuperMap.Web.Realspace.Environment",null,Sys.IDisposable);SuperMap.Web.Realspace.Environment._IsSceneAntialias=null;SuperMap.Web.Realspace.Environment._SceneAntialiasValue=null;SuperMap.Web.Realspace.Environment._IsInitialized=false;SuperMap.Web.Realspace.Environment.get_IsSceneAntialias=function(){if(SuperMap.Web.Realspace.Utility._SceneControl!=null){SuperMap.Web.Realspace.Environment._IsSceneAntialias=SuperMap.Web.Realspace.Utility._SceneControl._get_innerSceneControl().IsSceneAntialias}return SuperMap.Web.Realspace.Environment._IsSceneAntialias};SuperMap.Web.Realspace.Environment.set_IsSceneAntialias=function(a){if(typeof(a)=="boolean"){if(SuperMap.Web.Realspace.Environment._IsInitialized){SuperMap.Web.Realspace.Utility._SceneControl._get_innerSceneControl().IsSceneAntialiasEffectNext=a}else{SuperMap.Web.Realspace.Environment._IsSceneAntialias=a}}};SuperMap.Web.Realspace.Environment.get_SceneAntialiasValue=function(){if(SuperMap.Web.Realspace.Utility._SceneControl!=null){SuperMap.Web.Realspace.Environment._SceneAntialiasValue=SuperMap.Web.Realspace.Utility._SceneControl._get_innerSceneControl().SceneAntialiasValue}return SuperMap.Web.Realspace.Environment._SceneAntialiasValue};SuperMap.Web.Realspace.Environment.set_SceneAntialiasValue=function(b){var a=parseInt(b);if(!isNaN(a)){if(a>16){a=16}if(a<0){a=0}if(SuperMap.Web.Realspace.Environment._IsInitialized){SuperMap.Web.Realspace.Utility._SceneControl._get_innerSceneControl().SceneAntialiasValueEffectNext=a}else{SuperMap.Web.Realspace.Environment._SceneAntialiasValue=a}}};Type.registerNamespace("SuperMap.Web.iServerJava6R.Data3D");SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsResult=function(){this._featureCount=null;this._feature3Ds=null;this._featureUriList=null};SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsResult.prototype={get_featureCount:function(){return this._featureCount},get_feature3Ds:function(){return this._feature3Ds}};SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsResult.fromJson=function(c){if(!c){return}var a=new SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsResult();a._featureCount=c.featureCount;if(c.features){a._feature3Ds=new Array();for(var b=0;b<c.features.length;b++){a._feature3Ds[b]=SuperMap.Web.iServerJava6R.ServerFeature.fromJson(c.features[b]).toFeature3D()}}return a};SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsResult.registerClass("SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsResult");SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsEventArgs=function(a,b){this._result=a;this._originResult=b};SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsEventArgs.prototype={get_result:function(){return this._result}};SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsEventArgs.registerClass("SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsEventArgs");SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsParametersBase=function(){this._datasetNames=null;this._fromIndex=0;this._toIndex=-1};SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsParametersBase.prototype={get_datasetNames:function(){this._datasetNames=datasetname},set_datasetNames:function(a){this._datasetNames=a}};SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsParametersBase.registerClass("SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsParametersBase");SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsBySQLParameters=function(){SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsBySQLParameters.initializeBase(this);this._filterParameter=null};SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsBySQLParameters.prototype={get_filterParameter:function(){return this._filterParameter},set_filterParameter:function(a){this._filterParameter=a}};SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsBySQLParameters.registerClass("SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsBySQLParameters",SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsParametersBase);SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsBySQLService=function(a){SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsBySQLService.initializeBase(this,[a]);this._lastResult=null};SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsBySQLService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(d){var a=Function.createDelegate(this,this._operateComplete);var b=Function.createDelegate(this,this._operateError);var c=this._getParameters(d);if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){this._url+=".json?returnContent=true"}else{this._url+=".jsonp?returnContent=true"}if(d._fromIndex>=0&&d._toIndex>=0){this._url+="&fromIndex="+d._fromIndex+"&toIndex="+d._toIndex}this.request(this._url,"POST",c,null,null,a,b,null)},_getParameters:function(d){var c='{"getFeatureMode":"SQL", "datasetNames":';if(d._datasetNames!=null){var b="[";for(var a=0;a<d._datasetNames.length;a++){if(a!=0){b+=","}b+='"'+d._datasetNames[a]+'"'}c+=b+"]"}c+=', "queryParameter":';if(d._filterParameter){c+=SuperMap.Web.Utility.toJSON(d._filterParameter)}c+="}";return c},_operateComplete:function(a,d){var c=null;c=SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsResult.fromJson(a);this._lastResult=c;var b=new SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsEventArgs(c,a);this.raise_processCompleted(b,d)},_operateError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsBySQLService.registerClass("SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsBySQLService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsByBoundsParameters=function(){SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsByBoundsParameters.initializeBase(this);this._bounds=null;this._attributeFilter=null;this._fields=null};SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsByBoundsParameters.prototype={get_bounds:function(){return this._bounds},set_bounds:function(a){this._bounds=a}};SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsByBoundsParameters.registerClass("SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsByBoundsParameters",SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsParametersBase);SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsByBoundsService=function(a){SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsByBoundsService.initializeBase(this,[a]);this._lastResult=null};SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsByBoundsService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(d){var a=Function.createDelegate(this,this._operateComplete);var b=Function.createDelegate(this,this._operateError);var c=this._getParameters(d);if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){this._url+=".json?returnContent=true"}else{this._url+=".jsonp?returnContent=true"}if(d._fromIndex>=0&&d._toIndex>=0){this._url+="&fromIndex="+d._fromIndex+"&toIndex="+d._toIndex}this.request(this._url,"POST",c,null,null,a,b,null)},_getParameters:function(e){if(e._attributeFilter==null){var d='{"getFeatureMode":"BOUNDS", "datasetNames":'}else{var d='{"getFeatureMode":"BOUNDS_ATTRIBUTEFILTER", "attributeFilter":"'+e.attributeFilter+'", "datasetNames":'}if(e._datasetNames!=null){var c="[";for(var a=0;a<e._datasetNames.length;a++){if(a!=0){c+=","}c+='"'+e._datasetNames[a]+'"'}d+=c+"]"}d+=', "bounds":';if(e._bounds!=null){d+=SuperMap.Web.Utility.toJSON(e._bounds)}if(e._fields&&e._fields.length){d+=', "queryParameter":';var b=new SuperMap.Web.iServerJava6R.FilterParameter();b.name=e._datasetNames;for(var a=0;a<e._fields.length;a++){b.fields=e._fields}d+=SuperMap.Web.Utility.toJSON(b)}d+="}";return d},_operateComplete:function(a,d){var c=null;c=SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsResult.fromJson(a);this._lastResult=c;var b=new SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsEventArgs(c,a);this.raise_processCompleted(b,d)},_operateError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsByBoundsService.registerClass("SuperMap.Web.iServerJava6R.Data3D.GetFeature3DsByBoundsService",SuperMap.Web.iServerJava6R.ServiceBase);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Layer3DWMTSServiceInfo=function(a){SuperMap.Web.Realspace.Layer3DWMTSServiceInfo.initializeBase(this);this._innerLayer3DWMTSServiceInfo=null;this._style3D=null;if(a!=null){this._innerLayer3DWMTSServiceInfo=a}};SuperMap.Web.Realspace.Layer3DWMTSServiceInfo.prototype={get_name:function(){if(this._innerLayer3DWMTSServiceInfo!=null){return this._innerLayer3DWMTSServiceInfo.Name}}};SuperMap.Web.Realspace.Layer3DWMTSServiceInfo.registerClass("SuperMap.Web.Realspace.Layer3DWMTSServiceInfo",Sys.Component,Sys.IDisposable);Type.registerNamespace("SuperMap.Web.Realspace");SuperMap.Web.Realspace.Layer3DWMTSServicesList=function(){SuperMap.Web.Realspace.Layer3DWMTSServicesList.initializeBase(this);this._innerLayer3DWMTSServicesList=SuperMap.Web.Realspace.Utility._SceneControl._get_innerSceneControl().Layer3DWMTSServicesList};SuperMap.Web.Realspace.Layer3DWMTSServicesList.prototype={get_count:function(){return this._innerLayer3DWMTSServicesList.Count},get_serverRootAddress:function(){return this._innerLayer3DWMTSServicesList.ServerRootAddress},get_item:function(a){if((a==0)||a){var c=this._innerLayer3DWMTSServicesList.get_Item(a);if(c!=null){var b=new SuperMap.Web.Realspace.Layer3DWMTSServiceInfo(c);return b}}return null},load:function(a){if(typeof(a)!="string"){return false}return this._innerLayer3DWMTSServicesList.Load(a)}};SuperMap.Web.Realspace.Layer3DWMTSServicesList.registerClass("SuperMap.Web.Realspace.Layer3DWMTSServicesList",Sys.Component,Sys.IDisposable);