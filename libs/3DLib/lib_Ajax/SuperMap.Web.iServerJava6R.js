Type.registerNamespace("SuperMap.Web.Mapping");SuperMap.Web.Mapping.DynamicRESTLayer=function(){SuperMap.Web.Mapping.DynamicRESTLayer.initializeBase(this);this._bgColor="";this._transparent=false;this._time;this._exceptions;this._dynamicImage=null;this._width;this._height;this._type="DynamicRESTLayer";this._dpi=null;this._enableServerCaching=true;this._layersID=null;this._transparent=null;this._clipRegion=null;this._maxVisibleVertex=null};SuperMap.Web.Mapping.DynamicRESTLayer.prototype={get_transparent:function(){return this._transparent},set_transparent:function(a){this._transparent=a},get_bgColor:function(){return this._bgColor},set_bgColor:function(a){this._bgColor=a},get_dpi:function(){return this._dpi},get_enableServerCaching:function(){return this._enableServerCaching},set_enableServerCaching:function(a){this._enableServerCaching=a},get_layersID:function(){return this._layersID},set_layersID:function(a){this._layersID=a},get_transparent:function(){return this._transparent},set_transparent:function(a){this._transparent=a},get_clipRegion:function(){return this._clipRegion},set_clipRegion:function(a){this._clipRegion=a},get_maxVisibleVertex:function(){return this._maxVisibleVertex},set_maxVisibleVertex:function(a){this._maxVisibleVertex=a},initialize:function(){if(SuperMap.Web.Utility.isDebug){console.group(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Mapping.Resources","TiledDynamicIServerLayer_initialize_logMapStatus"));console.log(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Mapping.Resources","TiledDynamicIServerLayer_initialize_logMapName"),this._mapName);console.log(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Mapping.Resources","TiledDynamicIServerLayer_initialize_logMapUrl"),this.url);console.log(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Mapping.Resources","TiledDynamicIServerLayer_initialize_logMapServicesAddress"),this._mapServicesAddress);console.log(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Mapping.Resources","TiledDynamicIServerLayer_initialize_logMapServicesPort"),this._mapServicesPort);console.groupEnd()}var c=Function.createDelegate(this,this._onInitComplete);var b=Function.createDelegate(this,this._onInitError);this._viewBoundsChangedDelegate=Function.createDelegate(this,this._viewBoundsChanged);this._unLoadDelegate=Function.createDelegate(this,this._unLoad);var a;if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){a=this._url+".json"}else{a=this._url+".jsonp"}var d=null;SuperMap.Web.Service.Committer.REST(a,"GET",null,[],[],c,b,null)},_onInitComplete:function(a){this._initialized=true;this._bounds=new SuperMap.Web.Core.Rectangle2D(a.bounds.left,a.bounds.bottom,a.bounds.right,a.bounds.top);var d=a.scale;var b=new SuperMap.Web.Core.Rectangle2D(a.viewBounds.left,a.viewBounds.bottom,a.viewBounds.right,a.viewBounds.top);var c=new SuperMap.Web.Core.Rectangle(a.viewer.left,a.viewer.top,a.viewer.right,a.viewer.bottom);this._dpi=this._computeDpi(d,b,c);if(this._crs.wkid==0){this._crs=new SuperMap.Web.Core.CoordinateReferenceSystem(0,a.coordUnit)}this.raise_initialized(this)},_onInitError:function(a){if(SuperMap.Web.Utility.isDebug){console.error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Mapping.Resources","TiledDynamicIServerLayer_onInitError_initializeFailed")+a)}this.raise_failed(a);return false},_computeDpi:function(g,c,f){var e=c.width()/f.width();var d=c.height()/f.height();var a=e>d?e:d;var b=Math.round(0.0254/a/g);return b},_getImageUrl:function(){if(!this._viewBounds||this._viewBounds.isEmpty()){this._viewBounds=this._map.get_viewBounds().clone()}var a="";a=a+this._url+"/image."+this._imageFormat+"?viewBounds={'leftBottom':{'x':"+this._viewBounds.leftBottom.x+",'y':"+this._viewBounds.leftBottom.y+"},'rightTop':{'x':"+this._viewBounds.rightTop.x+",'y':"+this._viewBounds.rightTop.y+"}}&viewer={'leftTop':{'y':0,'x':0},'rightBottom':{'y':"+this._height+",'x':"+this._width+"}}";if(this._layersID!=null){a+="&layersID="+encodeURI(this._layersID)}if(this._enableServerCaching==false){a+="&cacheEnabled="+this._enableServerCaching+"&t="+new Date().getTime()}if(this._clipRegion!=null){a+="&clipRegionEnabled=True&clipRegion=";a+=SuperMap.Web.Utility.toJSON(SuperMap.Web.iServerJava6R.ServerGeometry.fromGeometry(this._clipRegion))}if(this._maxVisibleVertex!=null&&typeof(this._maxVisibleVertex)=="number"&&this._maxVisibleVertex>=0){a+="&maxVisibleVertex="+parseInt(this._maxVisibleVertex)}if(this._transparent!=null){a+="&transparent="+this._transparent}return a},_getWidthHeightFromStyle:function(){this._width=(this._container.style.width+"").replace("px","");this._width=this._width.replace("pt","");this._width=eval(this._width);this._height=(this._container.style.height+"").replace("px","");this._height=this._height.replace("pt","");this._height=eval(this._height)}};SuperMap.Web.Mapping.DynamicRESTLayer.registerClass("SuperMap.Web.Mapping.DynamicRESTLayer",SuperMap.Web.Mapping.DynamicLayer);Type.registerNamespace("SuperMap.Web.Mapping");SuperMap.Web.Mapping.TiledDynamicRESTLayer=function(){SuperMap.Web.Mapping.TiledDynamicRESTLayer.initializeBase(this);this._subLayers=null;this._url=null;this._dpi=null;this._enableServerCaching=true;this._layersID=null;this._mapStatus=null;this._transparent=null;this._clipRegion=null;this._maxVisibleVertex=null;this._type="TiledDynamicRESTLayer"};SuperMap.Web.Mapping.TiledDynamicRESTLayer.prototype={get_dpi:function(){return this._dpi},get_enableServerCaching:function(){return this._enableServerCaching},set_enableServerCaching:function(a){this._enableServerCaching=a},get_layersID:function(){return this._layersID},set_layersID:function(a){this._layersID=a},get_mapStatus:function(){return this._mapStatus},set_mapStatus:function(a){this._mapStatus=a},get_transparent:function(){return this._transparent},set_transparent:function(a){this._transparent=a},get_clipRegion:function(){return this._clipRegion},set_clipRegion:function(a){this._clipRegion=a},get_maxVisibleVertex:function(){return this._maxVisibleVertex},set_maxVisibleVertex:function(a){this._maxVisibleVertex=a},_getTileUrl:function(c,b,g){var d=Math.random()*1000000000000000000;var f=Function._validateParams(arguments,[{name:"indexX",type:Number},{name:"indexY",type:Number},{name:"scale",type:Number}]);if(f){throw f}var a=encodeURI(this._url)+"/tileImage."+this._imageFormat+"?"+d+"&scale="+g+"&x="+c+"&y="+b+"&width="+this._tileSize+"&height="+this._tileSize;if(this._layersID!=null){a+="&layersID="+encodeURI(this._layersID)}if(this._clipRegion!=null){a+="&clipRegionEnabled=True&clipRegion=";a+=SuperMap.Web.Utility.toJSON(SuperMap.Web.iServerJava6R.ServerGeometry.fromGeometry(this._clipRegion))}if(this._maxVisibleVertex!=null&&typeof(this._maxVisibleVertex)=="number"&&this._maxVisibleVertex>=0){a+="&maxVisibleVertex="+parseInt(this._maxVisibleVertex)}if(!this._enableServerCaching){a+="&cacheEnabled="+this._enableServerCaching+"&t="+new Date().getTime()}if(this._transparent!=null){a+="&transparent="+this._transparent}return a},initialize:function(){if(SuperMap.Web.Utility.isDebug){console.group(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Mapping.Resources","TiledDynamicIServerLayer_initialize_logMapStatus"));console.log(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Mapping.Resources","TiledDynamicIServerLayer_initialize_logMapName"),this._mapName);console.log(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Mapping.Resources","TiledDynamicIServerLayer_initialize_logMapUrl"),this.url);console.log(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Mapping.Resources","TiledDynamicIServerLayer_initialize_logMapServicesAddress"),this._mapServicesAddress);console.log(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Mapping.Resources","TiledDynamicIServerLayer_initialize_logMapServicesPort"),this._mapServicesPort);console.groupEnd()}var c=Function.createDelegate(this,this._onInitComplete);var b=Function.createDelegate(this,this._onInitError);this._viewBoundsChangedDelegate=Function.createDelegate(this,this._viewBoundsChanged);this._unLoadDelegate=Function.createDelegate(this,this._unLoad);var a;if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){a=this._url+".json"}else{a=this._url+".jsonp"}var d=null;if(!this._mapStatus){SuperMap.Web.Service.Committer.REST(a,"GET",null,[],[],c,b,null)}else{this._onInitComplete(this._mapStatus)}},_onInitComplete:function(a){this._initialized=true;this._bounds=new SuperMap.Web.Core.Rectangle2D(a.bounds.left,a.bounds.bottom,a.bounds.right,a.bounds.top);var d=a.scale;var b=new SuperMap.Web.Core.Rectangle2D(a.viewBounds.left,a.viewBounds.bottom,a.viewBounds.right,a.viewBounds.top);var c=new SuperMap.Web.Core.Rectangle(a.viewer.left,a.viewer.top,a.viewer.right,a.viewer.bottom);this._dpi=SuperMap.Web.Utility.getDpi(b,c,d);if(this._crs.wkid==0){this._crs=new SuperMap.Web.Core.CoordinateReferenceSystem(0,a.coordUnit)}this.raise_initialized(this)},_onInitError:function(a){if(SuperMap.Web.Utility.isDebug){console.error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Mapping.Resources","TiledDynamicIServerLayer_onInitError_initializeFailed")+a)}this.raise_failed(a);return false},_computeDpi:function(g,c,f){var e=c.width()/f.width();var d=c.height()/f.height();var a=e>d?e:d;var b=Math.round(0.0254/a/g);return b}};SuperMap.Web.Mapping.TiledDynamicRESTLayer.registerClass("SuperMap.Web.Mapping.TiledDynamicRESTLayer",SuperMap.Web.Mapping.TiledDynamicLayer);Type.registerNamespace("SuperMap.Web.Mapping");SuperMap.Web.Mapping.HighlightLayer=function(){SuperMap.Web.Mapping.HighlightLayer.initializeBase(this);this._redirect=true;this._highlightTargetSetID=null;this._queryResultID=null;this._style=new SuperMap.Web.iServerJava6R.ServerStyle();this._url=null;this._width;this._height;this._type="HighlightLayer";this._clipRegion=null;this._maxVisibleVertex=null};SuperMap.Web.Mapping.HighlightLayer.prototype={get_style:function(){return this._style},set_style:function(a){this._style=a},get_queryResultID:function(){return this._queryResultID},set_queryResultID:function(a){this._queryResultID=a},get_highlightTargetSetID:function(){return this._redirect},set_highlightTargetSetID:function(a){this._highlightTargetSetID=a},get_redirect:function(){return this._redirect},set_redirect:function(a){this._redirect=a},get_url:function(){return this._url},set_url:function(a){this._url=a},get_clipRegion:function(){return this._clipRegion},set_clipRegion:function(a){this._clipRegion=a},get_maxVisibleVertex:function(){return this._maxVisibleVertex},set_maxVisibleVertex:function(a){this._maxVisibleVertex=a},_getImageUrl:function(){if(!this._viewBounds||this._viewBounds.isEmpty()){this._viewBounds=this._map.get_viewBounds().clone()}var a="";a=a+this._url+"/highlightImage."+this._imageFormat+"?viewBounds={'leftBottom':{'x':"+this._viewBounds.leftBottom.x+",'y':"+this._viewBounds.leftBottom.y+"},'rightTop':{'x':"+this._viewBounds.rightTop.x+",'y':"+this._viewBounds.rightTop.y+"}}";if(this._clipRegion!=null){a+="&clipRegionEnabled=True&clipRegion=";a+=SuperMap.Web.Utility.toJSON(SuperMap.Web.iServerJava6R.ServerGeometry.fromGeometry(this._clipRegion))}if(this._maxVisibleVertex!=null&&typeof(this._maxVisibleVertex)=="number"&&this._maxVisibleVertex>=0){a+="&maxVisibleVertex="+parseInt(this._maxVisibleVertex)}a+="&viewer={'leftTop':{'y':0,'x':0},'rightBottom':{'y':"+this._height+",'x':"+this._width+"}}&queryResultID="+this._queryResultID+'&style={"fillBackOpaque":'+this._style.fillBackOpaque+',"lineWidth":'+this._style.lineWidth+',"fillBackColor":{"red":'+this._style.fillBackColor.red+',"green":'+this._style.fillBackColor.green+',"blue":'+this._style.fillBackColor.blue+'},"fillForeColor":{"red":'+this._style.fillForeColor.red+',"green":'+this._style.fillForeColor.green+',"blue":'+this._style.fillForeColor.blue+'},"markerAngle":'+this._style.markerAngle+',"markerSize":'+this._style.markerSize+',"fillGradientOffsetRatioX":'+this._style.fillGradientOffsetRatioX+',"fillGradientOffsetRatioY":'+this._style.fillGradientOffsetRatioY+',"lineColor":{"red":'+this._style.lineColor.red+',"green":'+this._style.lineColor.green+',"blue":'+this._style.lineColor.blue+'},"fillOpaqueRate":'+this._style.fillOpaqueRate+',"fillGradientMode":'+this._style.fillGradientMode+',"fillSymbolID":'+this._style.fillSymbolID+',"fillGradientAngle":'+this._style.fillGradientAngle+',"markerSymbolID":'+this._style.markerSymbolID+',"lineSymbolID":'+this._style.lineSymbolID+"}";return a}};SuperMap.Web.Mapping.HighlightLayer.registerClass("SuperMap.Web.Mapping.HighlightLayer",SuperMap.Web.Mapping.DynamicLayer);Type.registerNamespace("SuperMap.Web.iServerJava6R");SuperMap.Web.iServerJava6R.MeasureMode=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.MeasureMode.prototype={DISTANCE:0,AREA:1};SuperMap.Web.iServerJava6R.MeasureMode.registerEnum("SuperMap.Web.iServerJava6R.MeasureMode");SuperMap.Web.iServerJava6R.GeometryType=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.GeometryType.prototype={};SuperMap.Web.iServerJava6R.GeometryType.LINE="LINE";SuperMap.Web.iServerJava6R.GeometryType.LINEM="LINEM";SuperMap.Web.iServerJava6R.GeometryType.POINT="POINT";SuperMap.Web.iServerJava6R.GeometryType.REGION="REGION";SuperMap.Web.iServerJava6R.GeometryType.ELLIPSE="ELLIPSE";SuperMap.Web.iServerJava6R.GeometryType.CIRCLE="CIRCLE";SuperMap.Web.iServerJava6R.GeometryType.TEXT="TEXT";SuperMap.Web.iServerJava6R.GeometryType.UNKNOWN="UNKNOWN";SuperMap.Web.iServerJava6R.GeometryType.LINE3D="LINE3D";SuperMap.Web.iServerJava6R.GeometryType.POINT3D="POINT3D";SuperMap.Web.iServerJava6R.GeometryType.REGION3D="REGION3D";SuperMap.Web.iServerJava6R.GeometryType.registerEnum("SuperMap.Web.iServerJava6R.GeometryType");SuperMap.Web.iServerJava6R.QueryOption=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.QueryOption.prototype={};SuperMap.Web.iServerJava6R.QueryOption.ATTRIBUTE="ATTRIBUTE";SuperMap.Web.iServerJava6R.QueryOption.ATTRIBUTEANDGEOMETRY="ATTRIBUTEANDGEOMETRY";SuperMap.Web.iServerJava6R.QueryOption.GEOMETRY="GEOMETRY";SuperMap.Web.iServerJava6R.QueryOption.registerEnum("SuperMap.Web.iServerJava6R.QueryOption");SuperMap.Web.iServerJava6R.JoinType=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.JoinType.prototype={};SuperMap.Web.iServerJava6R.JoinType.INNERJOIN="INNERJOIN";SuperMap.Web.iServerJava6R.JoinType.LEFTJOIN="LEFTJOIN";SuperMap.Web.iServerJava6R.JoinType.registerEnum("SuperMap.Web.iServerJava6R.JoinType");SuperMap.Web.iServerJava6R.EngineType=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.EngineType.prototype={};SuperMap.Web.iServerJava6R.EngineType.IMAGEPLUGINS="IMAGEPLUGINS";SuperMap.Web.iServerJava6R.EngineType.OGC="OGC";SuperMap.Web.iServerJava6R.EngineType.ORACLEPLUS="ORACLEPLUS";SuperMap.Web.iServerJava6R.EngineType.SDBPLUS="SDBPLUS";SuperMap.Web.iServerJava6R.EngineType.SQLPLUS="SQLPLUS";SuperMap.Web.iServerJava6R.EngineType.UDB="UDB";SuperMap.Web.iServerJava6R.EngineType.registerEnum("SuperMap.Web.iServerJava6R.EngineType");SuperMap.Web.iServerJava6R.FillGradientMode=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.FillGradientMode.prototype={};SuperMap.Web.iServerJava6R.FillGradientMode.NONE="NONE";SuperMap.Web.iServerJava6R.FillGradientMode.LINEAR="LINEAR";SuperMap.Web.iServerJava6R.FillGradientMode.RADIAL="RADIAL";SuperMap.Web.iServerJava6R.FillGradientMode.CONICAL="CONICAL";SuperMap.Web.iServerJava6R.FillGradientMode.SQUARE="SQUARE";SuperMap.Web.iServerJava6R.FillGradientMode.registerEnum("SuperMap.Web.iServerJava6R.FillGradientMode");SuperMap.Web.iServerJava6R.SpatialQueryMode=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.SpatialQueryMode.prototype={};SuperMap.Web.iServerJava6R.SpatialQueryMode.NONE="NONE";SuperMap.Web.iServerJava6R.SpatialQueryMode.IDENTITY="IDENTITY";SuperMap.Web.iServerJava6R.SpatialQueryMode.DISJOINT="DISJOINT";SuperMap.Web.iServerJava6R.SpatialQueryMode.INTERSECT="INTERSECT";SuperMap.Web.iServerJava6R.SpatialQueryMode.TOUCH="TOUCH";SuperMap.Web.iServerJava6R.SpatialQueryMode.OVERLAP="OVERLAP";SuperMap.Web.iServerJava6R.SpatialQueryMode.CROSS="CROSS";SuperMap.Web.iServerJava6R.SpatialQueryMode.WITHIN="WITHIN";SuperMap.Web.iServerJava6R.SpatialQueryMode.CONTAIN="CONTAIN";SuperMap.Web.iServerJava6R.SpatialQueryMode.registerEnum("SuperMap.Web.iServerJava6R.SpatialQueryMode");SuperMap.Web.iServerJava6R.FieldType=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.FieldType.prototype={};SuperMap.Web.iServerJava6R.FieldType.BOOLEAN="BOOLEAN";SuperMap.Web.iServerJava6R.FieldType.BYTE="BYTE";SuperMap.Web.iServerJava6R.FieldType.INT16="INT16";SuperMap.Web.iServerJava6R.FieldType.INT32="INT32";SuperMap.Web.iServerJava6R.FieldType.SINGLE="SINGLE";SuperMap.Web.iServerJava6R.FieldType.DOUBLE="DOUBLE";SuperMap.Web.iServerJava6R.FieldType.DATETIME="DATETIME";SuperMap.Web.iServerJava6R.FieldType.LONGBINARY="LONGBINARY";SuperMap.Web.iServerJava6R.FieldType.TEXT="TEXT";SuperMap.Web.iServerJava6R.FieldType.CHAR="CHAR";SuperMap.Web.iServerJava6R.FieldType.registerEnum("SuperMap.Web.iServerJava6R.FieldType");SuperMap.Web.iServerJava6R.OutputFormat=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.OutputFormat.prototype={};SuperMap.Web.iServerJava6R.OutputFormat.BINARY="BINARY";SuperMap.Web.iServerJava6R.OutputFormat.BMP="BMP";SuperMap.Web.iServerJava6R.OutputFormat.DEFAULT="DEFAULT";SuperMap.Web.iServerJava6R.OutputFormat.EMF="EMF";SuperMap.Web.iServerJava6R.OutputFormat.EPS="EPS";SuperMap.Web.iServerJava6R.OutputFormat.GIF="GIF";SuperMap.Web.iServerJava6R.OutputFormat.JPG="JPG";SuperMap.Web.iServerJava6R.OutputFormat.PDF="PDF";SuperMap.Web.iServerJava6R.OutputFormat.PNG="PNG";SuperMap.Web.iServerJava6R.OutputFormat.registerEnum("SuperMap.Web.iServerJava6R.OutputFormat");SuperMap.Web.iServerJava6R.RangeMode=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.RangeMode.prototype={};SuperMap.Web.iServerJava6R.RangeMode.CUSTOMINTERVAL="CUSTOMINTERVAL";SuperMap.Web.iServerJava6R.RangeMode.EQUALINTERVAL="EQUALINTERVAL";SuperMap.Web.iServerJava6R.RangeMode.LOGARITHM="LOGARITHM";SuperMap.Web.iServerJava6R.RangeMode.QUANTILE="QUANTILE";SuperMap.Web.iServerJava6R.RangeMode.SQUAREROOT="SQUAREROOT";SuperMap.Web.iServerJava6R.RangeMode.STDDEVIATION="STDDEVIATION";SuperMap.Web.iServerJava6R.RangeMode.registerEnum("SuperMap.Web.iServerJava6R.RangeMode");SuperMap.Web.iServerJava6R.LabelOverLengthMode=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.LabelOverLengthMode.prototype={};SuperMap.Web.iServerJava6R.LabelOverLengthMode.NEWLINE="NEWLINE";SuperMap.Web.iServerJava6R.LabelOverLengthMode.NONE="NONE";SuperMap.Web.iServerJava6R.LabelOverLengthMode.OMIT="OMIT";SuperMap.Web.iServerJava6R.LabelOverLengthMode.registerEnum("SuperMap.Web.iServerJava6R.LabelOverLengthMode");SuperMap.Web.iServerJava6R.AlongLineDirection=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.AlongLineDirection.prototype={};SuperMap.Web.iServerJava6R.AlongLineDirection.NORMAL="ALONG_LINE_NORMAL";SuperMap.Web.iServerJava6R.AlongLineDirection.LB_TO_RT="LEFT_BOTTOM_TO_RIGHT_TOP";SuperMap.Web.iServerJava6R.AlongLineDirection.LT_TO_RB="LEFT_TOP_TO_RIGHT_BOTTOM";SuperMap.Web.iServerJava6R.AlongLineDirection.RB_TO_LT="RIGHT_BOTTOM_TO_LEFT_TOP";SuperMap.Web.iServerJava6R.AlongLineDirection.RT_TO_LB="RIGHT_TOP_TO_LEFT_BOTTOM";SuperMap.Web.iServerJava6R.AlongLineDirection.registerEnum("SuperMap.Web.iServerJava6R.AlongLineDirection");SuperMap.Web.iServerJava6R.LabelBackShape=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.LabelBackShape.prototype={};SuperMap.Web.iServerJava6R.LabelBackShape.DIAMOND="DIAMOND";SuperMap.Web.iServerJava6R.LabelBackShape.ELLIPSE="ELLIPSE";SuperMap.Web.iServerJava6R.LabelBackShape.MARKER="MARKER";SuperMap.Web.iServerJava6R.LabelBackShape.NONE="NONE";SuperMap.Web.iServerJava6R.LabelBackShape.RECT="RECT";SuperMap.Web.iServerJava6R.LabelBackShape.ROUNDRECT="ROUNDRECT";SuperMap.Web.iServerJava6R.LabelBackShape.TRIANGLE="TRIANGLE";SuperMap.Web.iServerJava6R.LabelBackShape.registerEnum("SuperMap.Web.iServerJava6R.LabelBackShape");SuperMap.Web.iServerJava6R.TextAlignment=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.TextAlignment.prototype={};SuperMap.Web.iServerJava6R.TextAlignment.TOPLEFT="TOPLEFT";SuperMap.Web.iServerJava6R.TextAlignment.TOPCENTER="TOPCENTER";SuperMap.Web.iServerJava6R.TextAlignment.TOPRIGHT="TOPRIGHT";SuperMap.Web.iServerJava6R.TextAlignment.BASELINELEFT="BASELINELEFT";SuperMap.Web.iServerJava6R.TextAlignment.BASELINECENTER="BASELINECENTER";SuperMap.Web.iServerJava6R.TextAlignment.BASELINERIGHT="BASELINERIGHT";SuperMap.Web.iServerJava6R.TextAlignment.BOTTOMLEFT="BOTTOMLEFT";SuperMap.Web.iServerJava6R.TextAlignment.BOTTOMCENTER="BOTTOMCENTER";SuperMap.Web.iServerJava6R.TextAlignment.BOTTOMRIGHT="BOTTOMRIGHT";SuperMap.Web.iServerJava6R.TextAlignment.MIDDLELEFT="MIDDLELEFT";SuperMap.Web.iServerJava6R.TextAlignment.MIDDLECENTER="MIDDLECENTER";SuperMap.Web.iServerJava6R.TextAlignment.MIDDLERIGHT="MIDDLERIGHT";SuperMap.Web.iServerJava6R.TextAlignment.registerEnum("SuperMap.Web.iServerJava6R.TextAlignment");SuperMap.Web.iServerJava6R.GraduatedMode=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.GraduatedMode.prototype={};SuperMap.Web.iServerJava6R.GraduatedMode.CONSTANT="CONSTANT";SuperMap.Web.iServerJava6R.GraduatedMode.LOGARITHM="LOGARITHM";SuperMap.Web.iServerJava6R.GraduatedMode.SQUAREROOT="SQUAREROOT";SuperMap.Web.iServerJava6R.GraduatedMode.registerEnum("SuperMap.Web.iServerJava6R.GraduatedMode");SuperMap.Web.iServerJava6R.ThemeGraphType=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.ThemeGraphType.prototype={};SuperMap.Web.iServerJava6R.ThemeGraphType.AREA="AREA";SuperMap.Web.iServerJava6R.ThemeGraphType.BAR="BAR";SuperMap.Web.iServerJava6R.ThemeGraphType.BAR3D="BAR3D";SuperMap.Web.iServerJava6R.ThemeGraphType.LINE="LINE";SuperMap.Web.iServerJava6R.ThemeGraphType.PIE="PIE";SuperMap.Web.iServerJava6R.ThemeGraphType.PIE3D="PIE3D";SuperMap.Web.iServerJava6R.ThemeGraphType.POINT="POINT";SuperMap.Web.iServerJava6R.ThemeGraphType.RING="RING";SuperMap.Web.iServerJava6R.ThemeGraphType.ROSE="ROSE";SuperMap.Web.iServerJava6R.ThemeGraphType.ROSE3D="ROSE3D";SuperMap.Web.iServerJava6R.ThemeGraphType.STACK_BAR="STACK_BAR";SuperMap.Web.iServerJava6R.ThemeGraphType.STACK_BAR3D="STACK_BAR3D";SuperMap.Web.iServerJava6R.ThemeGraphType.STEP="STEP";SuperMap.Web.iServerJava6R.ThemeGraphType.registerEnum("SuperMap.Web.iServerJava6R.ThemeGraphType");SuperMap.Web.iServerJava6R.ThemeGraphTextFormat=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.ThemeGraphTextFormat.prototype={};SuperMap.Web.iServerJava6R.ThemeGraphTextFormat.CAPTION="CAPTION";SuperMap.Web.iServerJava6R.ThemeGraphTextFormat.CAPTION_PERCENT="CAPTION_PERCENT";SuperMap.Web.iServerJava6R.ThemeGraphTextFormat.CAPTION_VALUE="CAPTION_VALUE";SuperMap.Web.iServerJava6R.ThemeGraphTextFormat.PERCENT="PERCENT";SuperMap.Web.iServerJava6R.ThemeGraphTextFormat.VALUE="VALUE";SuperMap.Web.iServerJava6R.ThemeGraphTextFormat.registerEnum("SuperMap.Web.iServerJava6R.ThemeGraphTextFormat");SuperMap.Web.iServerJava6R.Utility=function(){};SuperMap.Web.iServerJava6R.Utility.registerClass("SuperMap.Web.iServerJava6R.Utility",null,Sys.IDisposable);SuperMap.Web.iServerJava6R.Utility.geometryToServerGeometry=function(g){var d=new SuperMap.Web.iServerJava6R.ServerGeometry();var e=new Array();var f=new Array();if(SuperMap.Web.Core.GeoPoint.isInstanceOfType(g)){e.push(new SuperMap.Web.Core.Point2D(g.x,g.y));f.push(e.length);d.type=SuperMap.Web.iServerJava6R.GeometryType.POINT}if(SuperMap.Web.Core.GeoLine.isInstanceOfType(g)){for(var b=0;b<g.parts.length;b++){var c=0;for(var a=0;a<g.parts[b].length;a++){e.push(new SuperMap.Web.Core.Point2D(g.parts[b][a].x,g.parts[b][a].y));c++}f.push(c)}d.type=SuperMap.Web.iServerJava6R.GeometryType.LINE}if(SuperMap.Web.Core.GeoRegion.isInstanceOfType(g)){for(var b=0;b<g.parts.length;b++){var c=0;for(var a=0;a<g.parts[b].length;a++){e.push(new SuperMap.Web.Core.Point2D(g.parts[b][a].x,g.parts[b][a].y));c++}f.push(c)}d.type=SuperMap.Web.iServerJava6R.GeometryType.REGION}d.points=e;d.parts=f;d.id=-1;return d};SuperMap.Web.iServerJava6R.MeasureParameters=function(b,a){this._geometry=b;this._unit=a};SuperMap.Web.iServerJava6R.MeasureParameters.prototype={get_geometry:function(){return this._geometry},set_geometry:function(a){this._geometry=a},get_unit:function(){return this._unit},set_unit:function(a){this._unit=a}};SuperMap.Web.iServerJava6R.MeasureParameters.registerClass("SuperMap.Web.iServerJava6R.MeasureParameters");SuperMap.Web.iServerJava6R.MeasureResult=function(c,b,a){this._distance=c;this._area=b;this._unit=a};SuperMap.Web.iServerJava6R.MeasureResult.prototype={get_distance:function(){return this._distance},get_area:function(){return this._area},get_unit:function(){return this._unit}};SuperMap.Web.iServerJava6R.MeasureResult.registerClass("SuperMap.Web.iServerJava6R.MeasureResult",null,Sys.IDisposable);SuperMap.Web.iServerJava6R.MeasureServiceArgs=function(a,b){this._result=a;this._originResult=b};SuperMap.Web.iServerJava6R.MeasureServiceArgs.prototype={get_result:function(){return this._result},get_originResult:function(){return this._originResult}};SuperMap.Web.iServerJava6R.MeasureServiceArgs.registerClass("SuperMap.Web.iServerJava6R.MeasureServiceArgs",null,Sys.IDisposable);SuperMap.Web.iServerJava6R.MeasureService=function(a){SuperMap.Web.iServerJava6R.MeasureService.initializeBase(this);this._url=a;this._lastResult=null;this._measureMode=0};SuperMap.Web.iServerJava6R.MeasureService.prototype={get_lastResult:function(){return this._lastResult},get_measureMode:function(){return this._measureMode},set_measureMode:function(a){this._measureMode=a},processAsync:function(b,e,h){var g=b.get_geometry();var a=g.parts[0];var d=b.get_unit();var f=Function.createDelegate(this,this._measureComplete);var c=Function.createDelegate(this,this._measureError);if(this._measureMode==SuperMap.Web.iServerJava6R.MeasureMode.DISTANCE){this._measureDistance(a,d,f,c,e,h)}else{if(this._measureMode==SuperMap.Web.iServerJava6R.MeasureMode.AREA){this._measureArea(a,d,f,c,e,h)}}},_measureDistance:function(k,h,b,e,j,f){var c=this._url.substr(this._url.length-1,1);var a="";if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){if(c=="/"){a=this._url+"distance.json?"}else{a=this._url+"/distance.json?"}}else{if(c=="/"){a=this._url+"distance.jsonp?"}else{a=this._url+"/distance.jsonp?"}}var g="[";for(var d=0;d<k.length;d++){g+="{'x':"+k[d].x+",'y':"+k[d].y+"},"}g+="]";SuperMap.Web.Service.Committer.REST(a,"GET",null,["point2Ds","unit"],[g,SuperMap.Web.Utility.getUnit(h).toUpperCase()],b,e,f)},_measureArea:function(k,h,b,e,j,f){var c=this._url.substr(this._url.length-1,1);var a="";if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){if(c=="/"){a=this._url+"area.json?"}else{a=this._url+"/area.json?"}}else{if(c=="/"){a=this._url+"area.jsonp?"}else{a=this._url+"/area.jsonp?"}}var g="[";for(var d=0;d<k.length;d++){g+="{'x':"+k[d].x+",'y':"+k[d].y+"},"}g+="]";SuperMap.Web.Service.Committer.REST(a,"GET",null,["point2Ds","unit"],[g,SuperMap.Web.Utility.getUnit(h).toUpperCase()],b,e,f)},_measureComplete:function(b,d){var a=new SuperMap.Web.iServerJava6R.MeasureResult(b.distance,b.area,b.unit);this._lastResult=a;var c=new SuperMap.Web.iServerJava6R.MeasureServiceArgs(a,b);this.raise_processCompleted(c,d)},_measureError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.MeasureService.registerClass("SuperMap.Web.iServerJava6R.MeasureService",Sys.Component,Sys.IDisposable);SuperMap.Web.iServerJava6R.ServiceBase=function(a){SuperMap.Web.iServerJava6R.ServiceBase.initializeBase(this);this._url=a};SuperMap.Web.iServerJava6R.ServiceBase.prototype={request:function(c,a,f,h,e,d,b,g){SuperMap.Web.Service.Committer.REST(c,a,f,h,e,d,b,g)}};SuperMap.Web.iServerJava6R.ServiceBase.registerClass("SuperMap.Web.iServerJava6R.ServiceBase",Sys.Component,Sys.IDisposable);SuperMap.Web.iServerJava6R.ServerColor=function(c,b,a){if(!c&&c!=0){this.red=255}else{this.red=c}if(!b&&b!=0){this.green=0}else{this.green=b}if(!a&&a!=0){this.blue=0}else{this.blue=a}};SuperMap.Web.iServerJava6R.ServerColor.fromJson=function(c){if(!c){return}var b=new SuperMap.Web.iServerJava6R.ServerColor();var e=255;if(c.red!==null){e=Number(c.red)}b.red=e;var d=0;if(c.green!==null){d=Number(c.green)}b.green=d;var a=0;if(c.blue!==null){a=Number(c.blue)}b.blue=a;return b};SuperMap.Web.iServerJava6R.ServerColor.registerClass("SuperMap.Web.iServerJava6R.ServerColor");SuperMap.Web.iServerJava6R.ServerTextStyle=function(){this.align=SuperMap.Web.iServerJava6R.TextAlignment.BASELINECENTER;this.backColor=new SuperMap.Web.iServerJava6R.ServerColor(255,255,255);this.foreColor=new SuperMap.Web.iServerJava6R.ServerColor(0,0,0);this.backOpaque=false;this.sizeFixed=true;this.fontHeight=10;this.fontWidth=0;this.fontWeight=400;this.fontName="Times New Roman";this.bold=false;this.italic=false;this.italicAngle=0;this.shadow=false;this.strikeout=false;this.outline=false;this.opaqueRate=0;this.underline=false;this.rotation=0};SuperMap.Web.iServerJava6R.ServerTextStyle.registerClass("SuperMap.Web.iServerJava6R.ServerTextStyle");SuperMap.Web.iServerJava6R.ServerStyle=function(){this.fillBackColor=new SuperMap.Web.iServerJava6R.ServerColor(255,255,255);this.fillBackOpaque=false;this.fillForeColor=new SuperMap.Web.iServerJava6R.ServerColor(255,0,0);this.fillGradientMode=null;this.fillGradientAngle=0;this.fillGradientOffsetRatioX=0;this.fillGradientOffsetRatioY=0;this.fillOpaqueRate=100;this.fillSymbolID=0;this.lineColor=new SuperMap.Web.iServerJava6R.ServerColor(0,0,0);this.lineSymbolID=0;this.lineWidth=1;this.markerAngle=0;this.markerSize=1;this.markerSymbolID=-1};SuperMap.Web.iServerJava6R.ServerStyle.fromJson=function(c){if(!c){return}var d=new SuperMap.Web.iServerJava6R.ServerStyle();d.fillGradientAngle=c.fillGradientAngle;d.fillGradientOffsetRatioX=c.fillGradientOffsetRatioX;d.fillGradientOffsetRatioY=c.fillGradientOffsetRatioY;d.fillOpaqueRate=c.fillOpaqueRate;d.fillSymbolID=c.fillSymbolID;d.lineSymbolID=c.lineSymbolID;d.lineWidth=c.lineWidth;d.markerAngle=c.markerAngle;d.markerSize=c.markerSize;d.markerSymbolID=c.markerSymbolID;d.fillGradientMode=c.fillGradientMode;var e=null;if(c.fillBackColor!==null){e=SuperMap.Web.iServerJava6R.ServerColor(c.fillBackColor)}d.fillBackColor=e;var b=null;if(c.fillBackOpaque!==null){b=SuperMap.Web.iServerJava6R.ServerColor(c.fillBackOpaque)}d.fillBackOpaque=b;var a=null;if(c.fillForeColor!==null){a=SuperMap.Web.iServerJava6R.ServerColor(c.fillForeColor)}d.fillForeColor=a;var f=null;if(c.lineColor!==null){f=SuperMap.Web.iServerJava6R.ServerColor(c.lineColor)}d.lineColor=f;return d};SuperMap.Web.iServerJava6R.ServerStyle.registerClass("SuperMap.Web.iServerJava6R.ServerStyle");SuperMap.Web.iServerJava6R.ServerGeometry=function(){this.id=0;this.style=null;this.parts=new Array();this.points=new Array();this.type=null};SuperMap.Web.iServerJava6R.ServerGeometry.prototype={dispose:function(){this.id=null;this.style=null;this.parts=null;this.points=null;this.type=null},toGeometry:function(){if(this.type==SuperMap.Web.iServerJava6R.GeometryType.POINT){return this._toGeoPoint()}else{if(this.type==SuperMap.Web.iServerJava6R.GeometryType.LINE){return this._toGeoLine()}else{if(this.type==SuperMap.Web.iServerJava6R.GeometryType.REGION){return this._toGeoRegion()}else{if(this.type==SuperMap.Web.iServerJava6R.GeometryType.REGION3D){return this._toGeoRegion3D()}else{if(this.type==SuperMap.Web.iServerJava6R.GeometryType.POINT3D){return this._toGeoPoint3D()}else{if(this.type==SuperMap.Web.iServerJava6R.GeometryType.LINE3D){return this._toGeoLine3D()}}}}}}return null},_toGeoPoint:function(){for(var a=0;a<this.points.length;a++){var b=new SuperMap.Web.Core.Point2D(this.points[a].x,this.points[a].y);return new SuperMap.Web.Core.GeoPoint(b)}},_toGeoLine:function(){if(this.parts!=null){var f=new Array();var g=new Array();for(var e in this.points){g.push(this.points[e])}for(var d=0;d<this.parts.length;d++){var b=new Array();for(var c=0;c<this.parts[d];c++){b.push(g[c])}f.push(b);g.splice(0,this.parts[d])}var a=new SuperMap.Web.Core.GeoLine();for(var e in f){a.parts.push(f[e])}return a}return null},_toGeoRegion:function(){if(this.parts!=null){var e=new Array();var g=new Array();for(var d in this.points){g.push(this.points[d])}for(var c=0;c<this.parts.length;c++){var a=new Array();for(var b=0;b<this.parts[c];b++){a.push(g[b])}e.push(a);g.splice(0,this.parts[c])}var f=new SuperMap.Web.Core.GeoRegion();for(var d in e){f.parts.push(e[d])}return f}return null},_toGeoPoint3D:function(){for(var b=0,a=this.points.length;b<a;b++){var d=new SuperMap.Web.Core.GeoPoint3D();var c=this.points[b];d.set_x(c.x);d.set_y(c.y);d.set_z(c.z);return d}return null},_toGeoLine3D:function(){if(this.parts!=null){var h=new SuperMap.Web.Core.GeoLine3D();var g=new Array();for(var e in this.points){g.push(this.points[e])}for(var d=0,a=this.parts.length;d<a;d++){var b=new SuperMap.Web.Core.Point3Ds();var f=this.parts[d];for(var c=0;c<f;c++){b.add(g[c])}h.addPart(b);g.splice(0,f)}return h}return null},_toGeoRegion3D:function(){if(this.parts!=null){var f=new SuperMap.Web.Core.GeoRegion3D();var h=new Array();for(var e in this.points){h.push(this.points[e])}for(var d=0,a=this.parts.length;d<a;d++){var b=new SuperMap.Web.Core.Point3Ds();var g=this.parts[d];for(var c=0;c<g;c++){b.add(h[c])}f.addPart(b);h.splice(0,g)}return f}return null}};SuperMap.Web.iServerJava6R.ServerGeometry.fromGeometry=function(d){if(!d){return null}var c=new SuperMap.Web.iServerJava6R.ServerGeometry();c.id=0;if(SuperMap.Web.Core.GeoPoint.isInstanceOfType(d)){c.parts=[1];c.type=SuperMap.Web.iServerJava6R.GeometryType.POINT;c.points=[new SuperMap.Web.Core.Point2D(d.x,d.y)]}else{if(SuperMap.Web.Core.GeoLine.isInstanceOfType(d)){for(var b=0;b<d.parts.length;b++){c.parts.push(d.parts[b].length);for(var a=0;a<d.parts[b].length;a++){c.points.push(new SuperMap.Web.Core.Point2D(d.parts[b][a].x,d.parts[b][a].y))}}c.type=SuperMap.Web.iServerJava6R.GeometryType.LINE}else{if(SuperMap.Web.Core.GeoRegion.isInstanceOfType(d)){for(var b=0;b<d.parts.length;b++){c.parts.push(d.parts[b].length);for(var a=0;a<d.parts[b].length;a++){c.points.push(new SuperMap.Web.Core.Point2D(d.parts[b][a].x,d.parts[b][a].y))}}c.type=SuperMap.Web.iServerJava6R.GeometryType.REGION}}}return c};SuperMap.Web.iServerJava6R.ServerGeometry.fromJson=function(b){if(!b){return}var f=new SuperMap.Web.iServerJava6R.ServerGeometry();f.id=b.id;f.center=b.center;var e=null;if(b.parts!==null){e=new Array();for(var a=0;a<b.parts.length;a++){e.push(Number(b.parts[a]))}}f.parts=e;var d=null;if(b.points!==null){d=new Array();if(b.type=="POINT3D"||b.type=="LINE3D"||b.type=="REGION3D"){for(var a=0;a<b.points.length;a++){d.push(SuperMap.Web.Core.Point3D.fromJson(b.points[a]))}}else{for(var a=0;a<b.points.length;a++){d.push(SuperMap.Web.Core.Point2D.fromJson(b.points[a]))}}}f.points=d;var c=null;if(b.style!==null){c=SuperMap.Web.iServerJava6R.ServerStyle.fromJson(b.style)}f.style=c;f.type=b.type;return f};SuperMap.Web.iServerJava6R.ServerGeometry.registerClass("SuperMap.Web.iServerJava6R.ServerGeometry");SuperMap.Web.iServerJava6R.ServerFeature=function(){this.fieldNames=new Array();this.fieldValues=new Array();this.geometry=null};SuperMap.Web.iServerJava6R.ServerFeature.prototype={toFeature:function(){var a=new SuperMap.Web.Core.Feature();a.attributes=new Object();a.attributes.fieldNames=this.fieldNames;a.attributes.fieldValues=this.fieldValues;if(this.geometry){a.attributes.type=this.geometry.type;if(this.geometry.id){a.id=this.geometry.id}a.geometry=this.geometry.toGeometry()}return a},toFeature3D:function(){var b=new SuperMap.Web.Core.Feature3D();if(this.geometry){var a=new Object();a.fieldNames=this.fieldNames;a.fieldValues=this.fieldValues;b.set_geometry(this.geometry.toGeometry());b.set_attributes(a);if(this.geometry.id){b.set_id(this.geometry.id)}}return b}};SuperMap.Web.iServerJava6R.ServerFeature.fromFeature=function(b){var a=new SuperMap.Web.iServerJava6R.ServerFeature();if(b.attributes.fieldNames){a.fieldNames=b.attributes.fieldNames}if(b.attributes.fieldValues){a.fieldValues=b.attributes.fieldValues}if(b.geometry){a.geometry=SuperMap.Web.iServerJava6R.ServerGeometry.fromGeometry(b.geometry);if((b.id&&typeof(b.id)=="number")||b.id==0){a.geometry.id=b.id}else{a.geometry.id=1}a.geometry.style=null}return a};SuperMap.Web.iServerJava6R.ServerFeature.fromJson=function(c){if(!c){return}var a=new SuperMap.Web.iServerJava6R.ServerFeature();var e=null;if(c.fieldNames!==null){e=new Array();for(var b=0;b<c.fieldNames.length;b++){e.push(c.fieldNames[b])}}a.fieldNames=e;var d=null;if(c.fieldValues!==null){d=new Array();for(var b=0;b<c.fieldValues.length;b++){d.push(c.fieldValues[b])}}a.fieldValues=d;if(c.geometry!=null){a.geometry=SuperMap.Web.iServerJava6R.ServerGeometry.fromJson(c.geometry)}else{a.geometry=null}return a};SuperMap.Web.iServerJava6R.ServerFeature.registerClass("SuperMap.Web.iServerJava6R.ServerFeature");SuperMap.Web.iServerJava6R.JoinItem=function(){this.foreignTableName=null;this.joinFilter=null;this.joinType=null};SuperMap.Web.iServerJava6R.JoinItem.registerClass("SuperMap.Web.iServerJava6R.JoinItem");SuperMap.Web.iServerJava6R.DatasourceConnectionInfo=function(){this.alias=null;this.dataBase=null;this.driver=null;this.password=null;this.server=null;this.user=null;this.engineType=null;this.connect=false;this.exclusive=false;this.openLinkTable=false;this.readOnly=false};SuperMap.Web.iServerJava6R.DatasourceConnectionInfo.registerClass("SuperMap.Web.iServerJava6R.DatasourceConnectionInfo");SuperMap.Web.iServerJava6R.LinkItem=function(){this.datasourceConnectionInfo=null;this.primaryKeys=new Array();this.foreignKeys=new Array();this.linkFields=new Array();this.foreignTable=null;this.linkFilter=null;this.name=null};SuperMap.Web.iServerJava6R.LinkItem.registerClass("SuperMap.Web.iServerJava6R.LinkItem");SuperMap.Web.iServerJava6R.FilterParameter=function(){this.name=null;this.joinItems=null;this.linkItems=null;this.ids=null;this.attributeFilter=null;this.orderBy=null;this.groupBy=null;this.fields=null};SuperMap.Web.iServerJava6R.FilterParameter.registerClass("SuperMap.Web.iServerJava6R.FilterParameter");SuperMap.Web.iServerJava6R.Recordset=function(){this.datasetName=null;this.fieldCaptions=null;this.fields=null;this.fieldTypes=null;this.features=null};SuperMap.Web.iServerJava6R.Recordset.fromJson=function(g){if(!g){return}var b=new SuperMap.Web.iServerJava6R.Recordset();b.datasetName=g.datasetName;if(g.fieldCaptions!==null){var f=new Array();for(var e=0;e<g.fieldCaptions.length;e++){f.push(g.fieldCaptions[e])}b.fieldCaptions=f}if(g.fields!==null){var a=new Array();for(var e=0;e<g.fields.length;e++){a.push(g.fields[e])}b.fields=a}if(g.fieldTypes!==null){var d=new Array();for(var e=0;e<g.fieldTypes.length;e++){d.push(g.fieldTypes[e])}b.fieldTypes=d}if(g.features!==null){var h=new Array();for(var e=0;e<g.features.length;e++){var c=SuperMap.Web.iServerJava6R.ServerFeature.fromJson(g.features[e]).toFeature();if(c.attributes.fieldNames==null){c.attributes.fieldNames=b.fields}h.push(c)}b.features=h}return b};SuperMap.Web.iServerJava6R.Recordset.registerClass("SuperMap.Web.iServerJava6R.Recordset");SuperMap.Web.iServerJava6R.QueryParameters=function(){this.customParams=null;this.expectCount=100000;this.networkType=null;this.queryOption=SuperMap.Web.iServerJava6R.QueryOption.ATTRIBUTEANDGEOMETRY;this.queryParams=null;this.startRecord=0;this.holdTime=10;this.returnCustomResult=false};SuperMap.Web.iServerJava6R.QueryParameters.registerClass("SuperMap.Web.iServerJava6R.QueryParameters");SuperMap.Web.iServerJava6R.QueryByDistanceParameters=function(){SuperMap.Web.iServerJava6R.QueryByDistanceParameters.initializeBase(this);this.distance=null;this.geometry=null;this.isNearest=false;this.returnContent=true};SuperMap.Web.iServerJava6R.QueryByDistanceParameters.registerClass("SuperMap.Web.iServerJava6R.QueryByDistanceParameters",SuperMap.Web.iServerJava6R.QueryParameters);SuperMap.Web.iServerJava6R.QueryByGeometryParameters=function(){SuperMap.Web.iServerJava6R.QueryByGeometryParameters.initializeBase(this);this.spatialQueryMode=null;this.geometry=null;this.returnContent=true};SuperMap.Web.iServerJava6R.QueryByGeometryParameters.registerClass("SuperMap.Web.iServerJava6R.QueryByGeometryParameters",SuperMap.Web.iServerJava6R.QueryParameters);SuperMap.Web.iServerJava6R.QueryBySQLParameters=function(){SuperMap.Web.iServerJava6R.QueryBySQLParameters.initializeBase(this);this.returnContent=true};SuperMap.Web.iServerJava6R.QueryBySQLParameters.registerClass("SuperMap.Web.iServerJava6R.QueryBySQLParameters",SuperMap.Web.iServerJava6R.QueryParameters);SuperMap.Web.iServerJava6R.ResourceInfo=function(){this.succeed=null;this.newResourceLocation=null;this.id=null};SuperMap.Web.iServerJava6R.ResourceInfo.fromJson=function(b){if(!b){return}var a=new SuperMap.Web.iServerJava6R.ResourceInfo();a.succeed=b.succeed;a.newResourceLocation=b.newResourceLocation;a.id=b.newResourceID;return a};SuperMap.Web.iServerJava6R.ResourceInfo.registerClass("SuperMap.Web.iServerJava6R.ResourceInfo");SuperMap.Web.iServerJava6R.QueryResult=function(){this.totalCount=null;this.currentCount=null;this.customResponse=null;this.recordsets=null;this.resourceInfo=null};SuperMap.Web.iServerJava6R.QueryResult.fromJson=function(d){if(!d){return}var a=new SuperMap.Web.iServerJava6R.QueryResult();a.totalCount=d.totalCount;a.currentCount=d.currentCount;a.customResponse=d.customResponse;var c=null;if(d.recordsets!==null){c=new Array();for(var b=0;b<d.recordsets.length;b++){c.push(SuperMap.Web.iServerJava6R.Recordset.fromJson(d.recordsets[b]))}}a.recordsets=c;return a};SuperMap.Web.iServerJava6R.QueryResult.registerClass("SuperMap.Web.iServerJava6R.QueryResult");SuperMap.Web.iServerJava6R.QueryEventArgs=function(a,b){this.result=a;this.originResult=b};SuperMap.Web.iServerJava6R.QueryEventArgs.registerClass("SuperMap.Web.iServerJava6R.QueryEventArgs");SuperMap.Web.iServerJava6R.QueryService=function(a){SuperMap.Web.iServerJava6R.QueryService.initializeBase(this,[a]);this._lastResult=null;this._returnContent=false};SuperMap.Web.iServerJava6R.QueryService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(){},_queryComplete:function(a,d){var c=null;if(this._returnContent){c=SuperMap.Web.iServerJava6R.QueryResult.fromJson(a);this._lastResult=c}else{c=new SuperMap.Web.iServerJava6R.QueryResult();c.resourceInfo=SuperMap.Web.iServerJava6R.ResourceInfo.fromJson(a);this._lastResult=c}var b=new SuperMap.Web.iServerJava6R.QueryEventArgs(c,a);this.raise_processCompleted(b,d)},_queryError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.QueryService.registerClass("SuperMap.Web.iServerJava6R.QueryService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.QueryByDistanceService=function(a){SuperMap.Web.iServerJava6R.QueryByDistanceService.initializeBase(this,[a])};SuperMap.Web.iServerJava6R.QueryByDistanceService.prototype={processAsync:function(h){var e=Function.createDelegate(this,this._queryComplete);var d=Function.createDelegate(this,this._queryError);var g=h.returnContent;var b=new SuperMap.Web.iServerJava6R.QueryParameters();b.customParams=h.customParams;b.expectCount=h.expectCount;b.networkType=h.networkType;b.queryOption=h.queryOption;b.queryParams=h.queryParams;b.startRecord=h.startRecord;b.holdTime=h.holdTime;var f=this._getParameters(b,h.geometry,h.distance,h.isNearest);var a=this._url.substr(this._url.length-1,1);if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){if(a=="/"){this._url+="queryResults.json?"}else{this._url+="/queryResults.json?"}}else{if(a=="/"){this._url+="queryResults.jsonp?"}else{this._url+="/queryResults.jsonp?"}}if(g){this._returnContent=g;this._url+="returnContent="+g}else{var c=h.returnCustomResult;if(c){this._url+="returnCustomResult="+c}}this.request(this._url,"POST",f,null,null,e,d,null)},_getParameters:function(f,c,e,d){var b="";var a=SuperMap.Web.iServerJava6R.Utility.geometryToServerGeometry(c);if(d){b+='"queryMode":"FindNearest","queryParameters":'}else{b+='"queryMode":"DistanceQuery","queryParameters":'}b+=SuperMap.Web.Utility.toJSON(f)+',"geometry":'+SuperMap.Web.Utility.toJSON(a)+',"distance":'+e;b="{"+b+"}";return b}};SuperMap.Web.iServerJava6R.QueryByDistanceService.registerClass("SuperMap.Web.iServerJava6R.QueryByDistanceService",SuperMap.Web.iServerJava6R.QueryService);SuperMap.Web.iServerJava6R.QueryByGeometryService=function(a){SuperMap.Web.iServerJava6R.QueryByGeometryService.initializeBase(this,[a])};SuperMap.Web.iServerJava6R.QueryByGeometryService.prototype={processAsync:function(h){var e=Function.createDelegate(this,this._queryComplete);var d=Function.createDelegate(this,this._queryError);var g=h.returnContent;var b=new SuperMap.Web.iServerJava6R.QueryParameters();b.customParams=h.customParams;b.expectCount=h.expectCount;b.networkType=h.networkType;b.queryOption=h.queryOption;b.queryParams=h.queryParams;b.startRecord=h.startRecord;b.holdTime=h.holdTime;var f=this._getParameters(b,h.geometry,h.spatialQueryMode);var a=this._url.substr(this._url.length-1,1);if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){if(a=="/"){this._url+="queryResults.json?"}else{this._url+="/queryResults.json?"}}else{if(a=="/"){this._url+="queryResults.jsonp?"}else{this._url+="/queryResults.jsonp?"}}if(g){this._returnContent=g;this._url+="returnContent="+g}else{var c=h.returnCustomResult;if(c){this._url+="returnCustomResult="+c}}this.request(this._url,"POST",f,null,null,e,d,null)},_getParameters:function(e,d,b){var c="";var a=SuperMap.Web.iServerJava6R.Utility.geometryToServerGeometry(d);c+='"queryMode":"SpatialQuery","queryParameters":';c+=SuperMap.Web.Utility.toJSON(e)+',"geometry":'+SuperMap.Web.Utility.toJSON(a)+',"spatialQueryMode":'+b;c="{"+c+"}";return c}};SuperMap.Web.iServerJava6R.QueryByGeometryService.registerClass("SuperMap.Web.iServerJava6R.QueryByGeometryService",SuperMap.Web.iServerJava6R.QueryService);SuperMap.Web.iServerJava6R.QueryBySQLService=function(a){SuperMap.Web.iServerJava6R.QueryBySQLService.initializeBase(this,[a])};SuperMap.Web.iServerJava6R.QueryBySQLService.prototype={processAsync:function(h){var e=Function.createDelegate(this,this._queryComplete);var d=Function.createDelegate(this,this._queryError);var g=h.returnContent;var b=new SuperMap.Web.iServerJava6R.QueryParameters();b.customParams=h.customParams;b.expectCount=h.expectCount;b.networkType=h.networkType;b.queryOption=h.queryOption;b.queryParams=h.queryParams;b.startRecord=h.startRecord;b.holdTime=h.holdTime;var f=this._getParameters(b);var a=this._url.substr(this._url.length-1,1);if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){if(a=="/"){this._url+="queryResults.json?"}else{this._url+="/queryResults.json?"}}else{if(a=="/"){this._url+="queryResults.jsonp?"}else{this._url+="/queryResults.jsonp?"}}if(g){this._returnContent=g;this._url+="returnContent="+g}else{var c=h.returnCustomResult;if(c){this._url+="returnCustomResult="+c}}this.request(this._url,"POST",f,null,null,e,d,null)},_getParameters:function(b){var a="";a+='"queryMode":"SqlQuery","queryParameters":';a+=SuperMap.Web.Utility.toJSON(b);a="{"+a+"}";return a}};SuperMap.Web.iServerJava6R.QueryBySQLService.registerClass("SuperMap.Web.iServerJava6R.QueryBySQLService",SuperMap.Web.iServerJava6R.QueryService);SuperMap.Web.iServerJava6R.GetMapStatusResult=function(){};SuperMap.Web.iServerJava6R.GetMapStatusResult.registerClass("SuperMap.Web.iServerJava6R.GetMapStatusResult");SuperMap.Web.iServerJava6R.GetMapStatusEventArgs=function(a,b){this.result=a;this.originResult=b};SuperMap.Web.iServerJava6R.GetMapStatusEventArgs.registerClass("SuperMap.Web.iServerJava6R.GetMapStatusEventArgs");SuperMap.Web.iServerJava6R.GetMapStatusService=function(a){SuperMap.Web.iServerJava6R.GetMapStatusService.initializeBase(this);this._url=a;this._lastResult=null};SuperMap.Web.iServerJava6R.GetMapStatusService.prototype={processAsync:function(d,c){var b=Function.createDelegate(this,this._getMapStatusCompleted);var a=Function.createDelegate(this,this._getMapStatusError);if(!c){c=null}if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){this._url+=".json"}else{this._url+=".jsonp"}this.request(this._url,"GET",null,null,null,b,a,c)},_getMapStatusCompleted:function(b,c){this._lastResult=b;var a=new SuperMap.Web.iServerJava6R.GetMapStatusEventArgs(b,b);this.raise_processCompleted(a,c)},_getMapStatusError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.GetMapStatusService.registerClass("SuperMap.Web.iServerJava6R.GetMapStatusService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.LayerStatus=function(){this.layerName=null;this.isVisible=true;this.displayFilter=null};SuperMap.Web.iServerJava6R.LayerStatus.prototype={toJSON:function(){var b="{";b+='"type":"UGC",';var a=[];if(this.layerName){a.push('"name":"'+this.layerName+'"');a.push('"visible":'+this.isVisible)}if(this.displayFilter){a.push('"displayFilter":"'+this.displayFilter+'"')}b+=a;b+="}";return b}};SuperMap.Web.iServerJava6R.LayerStatus.registerClass("SuperMap.Web.iServerJava6R.LayerStatus");SuperMap.Web.iServerJava6R.SetLayerResult=function(){this.isSucceed=null;this.newResourceID=null};SuperMap.Web.iServerJava6R.SetLayerResult.fromJson=function(a){if(!a){return}var b=new SuperMap.Web.iServerJava6R.SetLayerResult();b.isSucceed=a.succeed;return b};SuperMap.Web.iServerJava6R.SetLayerResult.registerClass("SuperMap.Web.iServerJava6R.SetLayerResult");SuperMap.Web.iServerJava6R.SetLayerEventArgs=function(a,b){this.result=a;this.originResult=b};SuperMap.Web.iServerJava6R.SetLayerEventArgs.registerClass("SuperMap.Web.iServerJava6R.SetLayerEventArgs");SuperMap.Web.iServerJava6R.SetLayerStatusParameters=function(){this.holdTime=10;this.layerStatusList=new Array();this.resourceID=null};SuperMap.Web.iServerJava6R.SetLayerStatusParameters.prototype={toJSON:function(){var c="{";c+='"layers":[';var a=[];for(var b in this.layerStatusList){a.push(this.layerStatusList[b].toJSON())}c+=a;c+="]";c+="}";return c}};SuperMap.Web.iServerJava6R.SetLayerStatusParameters.registerClass("SuperMap.Web.iServerJava6R.SetLayerStatusParameters");SuperMap.Web.iServerJava6R.SetLayerStatusService=function(a){SuperMap.Web.iServerJava6R.SetLayerStatusService.initializeBase(this,[a]);this._lastResult=null;this._requestParameters=null;this._jsonParameters=null;this._mapName=null};SuperMap.Web.iServerJava6R.SetLayerStatusService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(d,h){this._mapName=this._getMapName(this._url);this._requestParameters=d;var b=this._getPutUrl(this._url,this._requestParameters);var g=this._getPostUrl(this._url);this._jsonParameters=this._getJsonParameters(this._requestParameters);var c=Function.createDelegate(this,this._setLayerStatusComplete);var a=Function.createDelegate(this,this._setLayerStatusError);var f=Function.createDelegate(this,this._createTempLayerComplete);var e=Function.createDelegate(this,this._createTempLayerError);if(this._requestParameters.resourceID){this.request(b,"PUT",this._jsonParameters,null,null,c,a,h)}else{this.request(g,"POST",null,null,null,f,e,h)}},_getMapName:function(a){var b=a.split("/");var c=b[b.length-1];return c},_getPutUrl:function(c,b){var a=c+"/tempLayersSet/"+b.resourceID;if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){a+=".json"}else{a+=".jsonp"}a+="?elementRemain=true&reference="+b.resourceID+"&holdTime="+b.holdTime.toString();return a},_getPostUrl:function(a){var b=a;if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){b+="/tempLayersSet.json?"}else{b+="/tempLayersSet.jsonp?"}return b},_getJsonParameters:function(a){var b="[{";b+='"type":"UGC",';if(a.layerStatusList!=null&&a.layerStatusList.length>0){b+='"subLayers":'+a.toJSON()}b+=',"visible":'+true+",";b+='"name":"'+this._mapName+'"';b+="}]";return b},_createTempLayerComplete:function(d,f){if(d.Error!=null||d.Result==null&&d.Cancelled==true){return}else{this._requestParameters.resourceID=d.newResourceID;var c=Function.createDelegate(this,this._setLayerStatusComplete);var b=Function.createDelegate(this,this._setLayerStatusError);var a=this._getPutUrl(this._url,this._requestParameters);this.request(a,"PUT",this._jsonParameters,null,null,c,b,f)}},_createTempLayerError:function(a,b){this.raise_processFailed(a,b)},_setLayerStatusComplete:function(a,d){var b=new SuperMap.Web.iServerJava6R.SetLayerResult();b.isSucceed=a.succeed;b.newResourceID=this._requestParameters.resourceID;this._lastResult=b;var c=new SuperMap.Web.iServerJava6R.SetLayerEventArgs(b,a);this.raise_processCompleted(c,d)},_setLayerStatusError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.SetLayerStatusService.registerClass("SuperMap.Web.iServerJava6R.SetLayerStatusService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.SetLayerStyleParameters=function(){this.style=new SuperMap.Web.iServerJava6R.ServerStyle();this.layerName=null;this.resourceID=null;this.holdTime=10};SuperMap.Web.iServerJava6R.SetLayerStyleParameters.registerClass("SuperMap.Web.iServerJava6R.SetLayerStyleParameters");SuperMap.Web.iServerJava6R.SetLayerStyleService=function(a){SuperMap.Web.iServerJava6R.SetLayerStyleService.initializeBase(this,[a]);this._lastResult=null;this._returnContent=false;this._setLayerStyleParameter=null};SuperMap.Web.iServerJava6R.SetLayerStyleService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(g,f){var b=Function.createDelegate(this,this._createTempLayerComplete);var e=Function.createDelegate(this,this._createTempLayerError);this._setLayerStyleParameter=g;var d=this._setLayerStyleParameter.resourceID;var a=this._url.substr(this._url.length-1,1);if(a!="/"){this._url+="/"}if(d){this._postRequest(this._setLayerStyleParameter,f)}else{if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){var c=this._url+"tempLayersSet.json?"}else{var c=this._url+"tempLayersSet.jsonp?"}c+="holdTime="+this._setLayerStyleParameter.holdTime.toString();this.request(c,"POST",null,null,null,b,e,f)}},_postRequest:function(c,h){var d=Function.createDelegate(this,this._setLayerStyleComplete);var f=Function.createDelegate(this,this._setLayerStyleError);resourceID=c.resourceID;var g=this._getParameters(c);var b=this._url.split("/");var e=b[b.length-2];if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){var a=this._url+"tempLayersSet/"+resourceID+"/"+c.layerName+"@@"+e+"/style.json?"}else{var a=this._url+"tempLayersSet/"+resourceID+"/"+c.layerName+"@@"+e+"/style.jsonp?"}a+="holdTime="+this._setLayerStyleParameter.holdTime.toString();this.request(a,"PUT",g,null,null,d,f,h)},_getParameters:function(b){var a="";a=SuperMap.Web.Utility.toJSON(b.style);return a},_createTempLayerComplete:function(a,b){if(a.succeed==true){this._setLayerStyleParameter.resourceID=a.newResourceID;this._postRequest(this._setLayerStyleParameter,b)}},_createTempLayerError:function(a,b){this.raise_processFailed(a,b)},_setLayerStyleError:function(a,b){this.raise_processFailed(a,b)},_setLayerStyleComplete:function(a,d){var c=null;c=new SuperMap.Web.iServerJava6R.SetLayerResult();c.isSucceed=a.succeed;c.newResourceID=this._setLayerStyleParameter.resourceID;this._lastResult=c;var b=new SuperMap.Web.iServerJava6R.SetLayerEventArgs(c,a);this.raise_processCompleted(b,d)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.SetLayerStyleService.registerClass("SuperMap.Web.iServerJava6R.SetLayerStyleService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.GetLayersInfoResult=function(){};SuperMap.Web.iServerJava6R.GetLayersInfoResult.registerClass("SuperMap.Web.iServerJava6R.GetLayersInfoResult");SuperMap.Web.iServerJava6R.GetLayersInfoEventArgs=function(a,c){for(var b=0;b<a.length;b++){a[b].subLayers=a[b].subLayers.layers}this.result=a;this.originResult=c};SuperMap.Web.iServerJava6R.GetLayersInfoEventArgs.registerClass("SuperMap.Web.iServerJava6R.GetLayersInfoEventArgs");SuperMap.Web.iServerJava6R.GetLayersInfoService=function(a){SuperMap.Web.iServerJava6R.GetLayersInfoService.initializeBase(this);this._url=a;this._lastResult=null};SuperMap.Web.iServerJava6R.GetLayersInfoService.prototype={processAsync:function(e,d){var c=Function.createDelegate(this,this._getLayersInfoCompleted);var b=Function.createDelegate(this,this._getLayersInfoError);if(!d){d=null}var a=this._url.substr(this._url.length-1,1);if(a!="/"){this._url+="/"}if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){this._url+="layers.json"}else{this._url+="layers.jsonp"}this.request(this._url,"GET",null,null,null,c,b,d)},_getLayersInfoCompleted:function(b,c){this._lastResult=b;var a=new SuperMap.Web.iServerJava6R.GetLayersInfoEventArgs(b,b);this.raise_processCompleted(a,c)},_getLayersInfoError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.GetLayersInfoService.registerClass("SuperMap.Web.iServerJava6R.GetLayersInfoService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.ThemeResult=function(){this.resourceInfo=new SuperMap.Web.iServerJava6R.ResourceInfo()};SuperMap.Web.iServerJava6R.ThemeResult.registerClass("SuperMap.Web.iServerJava6R.ThemeResult");SuperMap.Web.iServerJava6R.ThemeEventArgs=function(a,b){this.result=a;this.originResult=b};SuperMap.Web.iServerJava6R.ThemeEventArgs.registerClass("SuperMap.Web.iServerJava6R.ThemeEventArgs");SuperMap.Web.iServerJava6R.ThemeLabelBackground=function(){SuperMap.Web.iServerJava6R.ThemeLabelBackground.initializeBase(this);this.labelBackShape=SuperMap.Web.iServerJava6R.LabelBackShape.NONE;this.backStyle=new SuperMap.Web.iServerJava6R.ServerStyle()};SuperMap.Web.iServerJava6R.ThemeLabelBackground._toObject=function(b,a){for(var c in b){a[c]=b[c]}};SuperMap.Web.iServerJava6R.ThemeLabelBackground.registerClass("SuperMap.Web.iServerJava6R.ThemeLabelBackground");SuperMap.Web.iServerJava6R.LabelMixedTextStyle=function(){SuperMap.Web.iServerJava6R.LabelMixedTextStyle.initializeBase(this);this.defaultStyle=new SuperMap.Web.iServerJava6R.ServerTextStyle();this.separator=null;this.separatorEnabled=false;this.splitIndexes=new Array();this.styles=new Array()};SuperMap.Web.iServerJava6R.LabelMixedTextStyle.registerClass("SuperMap.Web.iServerJava6R.LabelMixedTextStyle");SuperMap.Web.iServerJava6R.ThemeLabelText=function(){SuperMap.Web.iServerJava6R.ThemeLabelText.initializeBase(this);this.maxTextHeight=0;this.maxTextWidth=0;this.minTextHeight=0;this.minTextWidth=0;this.uniformStyle=new SuperMap.Web.iServerJava6R.ServerTextStyle();this.uniformMixedStyle=null};SuperMap.Web.iServerJava6R.ThemeLabelText._toObject=function(c,a){for(var b in c){a[b]=c[b]}};SuperMap.Web.iServerJava6R.ThemeLabelText.registerClass("SuperMap.Web.iServerJava6R.ThemeLabelText");SuperMap.Web.iServerJava6R.ThemeFlow=function(){SuperMap.Web.iServerJava6R.ThemeFlow.initializeBase(this);this.flowEnabled=false;this.leaderLineStyle=new SuperMap.Web.iServerJava6R.ServerStyle();this.leaderLineDisplayed=false};SuperMap.Web.iServerJava6R.ThemeFlow._toObject=function(c,a){for(var b in c){a[b]=c[b]}};SuperMap.Web.iServerJava6R.ThemeFlow.registerClass("SuperMap.Web.iServerJava6R.ThemeFlow");SuperMap.Web.iServerJava6R.ThemeOffset=function(){SuperMap.Web.iServerJava6R.ThemeOffset.initializeBase(this);this.offsetFixed=false;this.offsetX="0.0";this.offsetY="0.0"};SuperMap.Web.iServerJava6R.ThemeOffset._toObject=function(c,a){for(var b in c){a[b]=c[b]}};SuperMap.Web.iServerJava6R.ThemeOffset.registerClass("SuperMap.Web.iServerJava6R.ThemeOffset");SuperMap.Web.iServerJava6R.ThemeRangeItem=function(){SuperMap.Web.iServerJava6R.ThemeRangeItem.initializeBase(this);this.caption=null;this.end=-1;this.start=-1;this.style=new SuperMap.Web.iServerJava6R.ServerStyle();this.visible=true};SuperMap.Web.iServerJava6R.ThemeRangeItem.registerClass("SuperMap.Web.iServerJava6R.ThemeRangeItem");SuperMap.Web.iServerJava6R.ThemeUniqueItem=function(){SuperMap.Web.iServerJava6R.ThemeUniqueItem.initializeBase(this);this.caption=null;this.unique=0;this.style=new SuperMap.Web.iServerJava6R.ServerStyle();this.visible=true};SuperMap.Web.iServerJava6R.ThemeUniqueItem.registerClass("SuperMap.Web.iServerJava6R.ThemeUniqueItem");SuperMap.Web.iServerJava6R.Theme=function(){};SuperMap.Web.iServerJava6R.Theme.registerClass("SuperMap.Web.iServerJava6R.Theme");SuperMap.Web.iServerJava6R.ThemeRange=function(){SuperMap.Web.iServerJava6R.ThemeRange.initializeBase(this);this.items=new Array();this.rangeExpression=null;this.rangeMode=SuperMap.Web.iServerJava6R.RangeMode.EQUALINTERVAL;this.rangeParameter=0};SuperMap.Web.iServerJava6R.ThemeRange.registerClass("SuperMap.Web.iServerJava6R.ThemeRange",SuperMap.Web.iServerJava6R.Theme);SuperMap.Web.iServerJava6R.ThemeUnique=function(){SuperMap.Web.iServerJava6R.ThemeUnique.initializeBase(this);this.items=new Array();this.uniqueExpression=null;this.defaultStyle=new SuperMap.Web.iServerJava6R.ServerStyle()};SuperMap.Web.iServerJava6R.ThemeUnique.registerClass("SuperMap.Web.iServerJava6R.ThemeUnique",SuperMap.Web.iServerJava6R.Theme);SuperMap.Web.iServerJava6R.ThemeLabelAlongLine=function(){SuperMap.Web.iServerJava6R.ThemeLabelAlongLine.initializeBase(this);this.isAlongLine=true;this.alongLineDirection=SuperMap.Web.iServerJava6R.AlongLineDirection.LB_TO_RT;this.angleFixed=false;this.repeatedLabelAvoided=false;this.repeatIntervalFixed=false;this.labelRepeatInterval=0;this.isLabelRepeated=false};SuperMap.Web.iServerJava6R.ThemeLabelAlongLine._toObject=function(a,b){for(var c in a){if(c=="isAlongLine"){b.alongLine=a.isAlongLine}else{b[c]=a[c]}}};SuperMap.Web.iServerJava6R.ThemeLabelAlongLine.registerClass("SuperMap.Web.iServerJava6R.ThemeLabelAlongLine");SuperMap.Web.iServerJava6R.ThemeLabelItem=function(){SuperMap.Web.iServerJava6R.ThemeLabelItem.initializeBase(this);this.caption=null;this.end=0;this.start=0;this.style=new SuperMap.Web.iServerJava6R.ServerTextStyle();this.visible=true};SuperMap.Web.iServerJava6R.ThemeLabelItem.registerClass("SuperMap.Web.iServerJava6R.ThemeLabelItem");SuperMap.Web.iServerJava6R.LabelMatrixCell=function(){};SuperMap.Web.iServerJava6R.LabelMatrixCell.registerClass("SuperMap.Web.iServerJava6R.LabelMatrixCell");SuperMap.Web.iServerJava6R.LabelImageCell=function(){SuperMap.Web.iServerJava6R.LabelImageCell.initializeBase(this);this.height=0;this.pathField=null;this.rotation=0;this.width=0;this.sizeFixed=false;this.type="IMAGE"};SuperMap.Web.iServerJava6R.LabelImageCell.registerClass("SuperMap.Web.iServerJava6R.LabelImageCell",SuperMap.Web.iServerJava6R.LabelMatrixCell);SuperMap.Web.iServerJava6R.LabelSymbolCell=function(){SuperMap.Web.iServerJava6R.LabelSymbolCell.initializeBase(this);this.style=new SuperMap.Web.iServerJava6R.ServerStyle();this.symbolIDField=null;this.type="SYMBOL"};SuperMap.Web.iServerJava6R.LabelSymbolCell.registerClass("SuperMap.Web.iServerJava6R.LabelSymbolCell",SuperMap.Web.iServerJava6R.LabelMatrixCell);SuperMap.Web.iServerJava6R.LabelThemeCell=function(){SuperMap.Web.iServerJava6R.LabelThemeCell.initializeBase(this);this.themeLabel=new SuperMap.Web.iServerJava6R.ThemeLabel();this.type="THEME"};SuperMap.Web.iServerJava6R.LabelThemeCell.registerClass("SuperMap.Web.iServerJava6R.LabelThemeCell",SuperMap.Web.iServerJava6R.LabelMatrixCell);SuperMap.Web.iServerJava6R.ThemeLabel=function(){SuperMap.Web.iServerJava6R.ThemeLabel.initializeBase(this);this.alongLine=new SuperMap.Web.iServerJava6R.ThemeLabelAlongLine();this.offset=new SuperMap.Web.iServerJava6R.ThemeOffset();this.flow=new SuperMap.Web.iServerJava6R.ThemeFlow();this.text=new SuperMap.Web.iServerJava6R.ThemeLabelText();this.background=new SuperMap.Web.iServerJava6R.ThemeLabelBackground();this.labelOverLengthMode=SuperMap.Web.iServerJava6R.LabelOverLengthMode.NONE;this.maxLabelLength=256;this.smallGeometryLabeled=false;this.rangeExpression=null;this.numericPrecision=0;this.items=new Array();this.labelExpression=null;this.overlapAvoided=true;this.matrixCells=new Array()};SuperMap.Web.iServerJava6R.ThemeLabel._toObject=function(b,e){for(var a in b){if(a=="alongLine"){SuperMap.Web.iServerJava6R.ThemeLabelAlongLine._toObject(b.alongLine,e)}else{if(a=="offset"){SuperMap.Web.iServerJava6R.ThemeOffset._toObject(b.offset,e)}else{if(a=="flow"){SuperMap.Web.iServerJava6R.ThemeFlow._toObject(b.flow,e)}else{if(a=="text"){SuperMap.Web.iServerJava6R.ThemeLabelText._toObject(b.text,e)}else{if(a=="background"){SuperMap.Web.iServerJava6R.ThemeLabelBackground._toObject(b.background,e)}else{if(a=="matrixCells"){if(b.matrixCells.length&&b.matrixCells.length>0){var h=b.matrixCells.length;e.matrixCells=new Array();var j=b.matrixCells[0].length;for(var i=1;i<h;i++){if(b.matrixCells[i].length>j){j=b.matrixCells[i].length}}for(var g=0;g<j;g++){var c=new Array();for(var d=0;d<h;d++){var f=new Object();if(!!b.matrixCells[d][g]){if(SuperMap.Web.iServerJava6R.LabelThemeCell.isInstanceOfType(b.matrixCells[d][g])){f.themeLabel=new Object();f.themeLabel.memoryData=null;f.themeLabel.type="LABEL";f.type="THEME";SuperMap.Web.iServerJava6R.ThemeLabel._toObject(b.matrixCells[d][g].themeLabel,f.themeLabel)}else{f=b.matrixCells[d][g]}}else{f=null}c.push(f)}e.matrixCells.push(c)}}}else{e[a]=b[a]}}}}}}}return e};SuperMap.Web.iServerJava6R.ThemeLabel.registerClass("SuperMap.Web.iServerJava6R.ThemeLabel",SuperMap.Web.iServerJava6R.Theme);SuperMap.Web.iServerJava6R.ThemeGraphItem=function(){SuperMap.Web.iServerJava6R.ThemeGraphItem.initializeBase(this);this.caption=null;this.graphExpression=null;this.memoryDoubleValues=new Array();this.uniformStyle=new SuperMap.Web.iServerJava6R.ServerStyle()};SuperMap.Web.iServerJava6R.ThemeGraphItem.registerClass("SuperMap.Web.iServerJava6R.ThemeGraphItem");SuperMap.Web.iServerJava6R.ThemeGraphText=function(){SuperMap.Web.iServerJava6R.ThemeGraphText.initializeBase(this);this.graphTextDisplayed=false;this.graphTextFormat=SuperMap.Web.iServerJava6R.ThemeGraphTextFormat.CAPTION;this.graphTextStyle=new SuperMap.Web.iServerJava6R.ServerTextStyle()};SuperMap.Web.iServerJava6R.ThemeGraphText._toObject=function(c,a){for(var b in c){a[b]=c[b]}};SuperMap.Web.iServerJava6R.ThemeGraphText.registerClass("SuperMap.Web.iServerJava6R.ThemeGraphText");SuperMap.Web.iServerJava6R.ThemeGraphSize=function(){SuperMap.Web.iServerJava6R.ThemeGraphSize.initializeBase(this);this.maxGraphSize=0;this.minGraphSize=0};SuperMap.Web.iServerJava6R.ThemeGraphSize._toObject=function(c,a){for(var b in c){a[b]=c[b]}};SuperMap.Web.iServerJava6R.ThemeGraphSize.registerClass("SuperMap.Web.iServerJava6R.ThemeGraphSize");SuperMap.Web.iServerJava6R.ThemeGraphAxes=function(){SuperMap.Web.iServerJava6R.ThemeGraphAxes.initializeBase(this);this.axesColor=new SuperMap.Web.iServerJava6R.ServerColor(0,0,0);this.axesDisplayed=false;this.axesGridDisplayed=false;this.axesTextDisplayed=false;this.axesTextStyle=new SuperMap.Web.iServerJava6R.ServerTextStyle()};SuperMap.Web.iServerJava6R.ThemeGraphAxes._toObject=function(c,a){for(var b in c){a[b]=c[b]}};SuperMap.Web.iServerJava6R.ThemeGraphAxes.registerClass("SuperMap.Web.iServerJava6R.ThemeGraphAxes");SuperMap.Web.iServerJava6R.ThemeGraph=function(){SuperMap.Web.iServerJava6R.ThemeGraph.initializeBase(this);this.barWidth=0;this.graduatedMode=SuperMap.Web.iServerJava6R.GraduatedMode.CONSTANT;this.graphSizeFixed=false;this.graphText=new SuperMap.Web.iServerJava6R.ThemeGraphText();this.graphType=SuperMap.Web.iServerJava6R.ThemeGraphType.AREA;this.items=new Array();this.flow=new SuperMap.Web.iServerJava6R.ThemeFlow();this.graphSize=new SuperMap.Web.iServerJava6R.ThemeGraphSize();this.offset=new SuperMap.Web.iServerJava6R.ThemeOffset();this.overlapAvoided=true;this.roseAngle=0;this.startAngle=0;this.graphAxes=new SuperMap.Web.iServerJava6R.ThemeGraphAxes();this.negativeDisplayed=false;this.memoryKeys=new Array()};SuperMap.Web.iServerJava6R.ThemeGraph._toObject=function(c,a){for(var b in c){if(b=="graphText"){SuperMap.Web.iServerJava6R.ThemeGraphText._toObject(c.graphText,a)}else{if(b=="flow"){SuperMap.Web.iServerJava6R.ThemeFlow._toObject(c.flow,a)}else{if(b=="graphSize"){SuperMap.Web.iServerJava6R.ThemeGraphSize._toObject(c.graphSize,a)}else{if(b=="offset"){SuperMap.Web.iServerJava6R.ThemeOffset._toObject(c.offset,a)}else{if(b=="graphAxes"){SuperMap.Web.iServerJava6R.ThemeGraphAxes._toObject(c.graphAxes,a)}else{a[b]=c[b]}}}}}}};SuperMap.Web.iServerJava6R.ThemeGraph.registerClass("SuperMap.Web.iServerJava6R.ThemeGraph",SuperMap.Web.iServerJava6R.Theme);SuperMap.Web.iServerJava6R.ThemeGraduatedSymbolStyle=function(){SuperMap.Web.iServerJava6R.ThemeGraduatedSymbolStyle.initializeBase(this);this.positiveStyle=new SuperMap.Web.iServerJava6R.ServerStyle();this.positiveStyle.markerSize=5;this.negativeStyle=new SuperMap.Web.iServerJava6R.ServerStyle();this.negativeDisplayed=false;this.zeroStyle=new SuperMap.Web.iServerJava6R.ServerStyle();this.zeroDisplayed=false};SuperMap.Web.iServerJava6R.ThemeGraduatedSymbolStyle._toObject=function(b,a){for(var c in b){a[c]=b[c]}};SuperMap.Web.iServerJava6R.ThemeGraduatedSymbolStyle.registerClass("SuperMap.Web.iServerJava6R.ThemeGraduatedSymbolStyle");SuperMap.Web.iServerJava6R.ThemeGraduatedSymbol=function(){SuperMap.Web.iServerJava6R.ThemeGraduatedSymbol.initializeBase(this);this.baseValue=0;this.expression=null;this.graduatedMode=SuperMap.Web.iServerJava6R.GraduatedMode.CONSTANT;this.offset=new SuperMap.Web.iServerJava6R.ThemeOffset();this.style=new SuperMap.Web.iServerJava6R.ThemeGraduatedSymbolStyle();this.flow=new SuperMap.Web.iServerJava6R.ThemeFlow()};SuperMap.Web.iServerJava6R.ThemeGraduatedSymbol._toObject=function(c,a){for(var b in c){if(b=="flow"){SuperMap.Web.iServerJava6R.ThemeFlow._toObject(c.flow,a)}else{if(b=="offset"){SuperMap.Web.iServerJava6R.ThemeOffset._toObject(c.offset,a)}else{if(b=="style"){SuperMap.Web.iServerJava6R.ThemeGraduatedSymbolStyle._toObject(c.style,a)}else{a[b]=c[b]}}}}};SuperMap.Web.iServerJava6R.ThemeGraduatedSymbol.registerClass("SuperMap.Web.iServerJava6R.ThemeGraduatedSymbol",SuperMap.Web.iServerJava6R.Theme);SuperMap.Web.iServerJava6R.ThemeDotDensity=function(){SuperMap.Web.iServerJava6R.ThemeDotDensity.initializeBase(this);this.dotExpression=null;this.value=200;this.style=new SuperMap.Web.iServerJava6R.ServerStyle();this.style.markerSize=1};SuperMap.Web.iServerJava6R.ThemeDotDensity._toObject=function(c,a){for(var b in c){a[b]=c[b]}};SuperMap.Web.iServerJava6R.ThemeDotDensity.registerClass("SuperMap.Web.iServerJava6R.ThemeDotDensity",SuperMap.Web.iServerJava6R.Theme);SuperMap.Web.iServerJava6R.ThemeParameters=function(){SuperMap.Web.iServerJava6R.ThemeParameters.initializeBase(this);this.themes=new Array();this.dataSourceName=new Array();this.datasetName=new Array();this.joinItems=new Array()};SuperMap.Web.iServerJava6R.ThemeParameters.registerClass("SuperMap.Web.iServerJava6R.ThemeParameters");SuperMap.Web.iServerJava6R.ThemeService=function(a){SuperMap.Web.iServerJava6R.ThemeService.initializeBase(this,[a]);this._lastResult=null;this._returnContent=false};SuperMap.Web.iServerJava6R.ThemeService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(e){var c=Function.createDelegate(this,this._operateComplete);var b=Function.createDelegate(this,this._operateError);var d=this._getParameters(e);var a=this._url.substr(this._url.length-1,1);if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){if(a=="/"){this._url+="tempLayersSet.json"}else{this._url+="/tempLayersSet.json"}}else{if(a=="/"){this._url+="tempLayersSet.jsonp?"}else{this._url+="/tempLayersSet.jsonp?"}}this.request(this._url,"POST",d,null,null,c,b,null)},_getParameters:function(g){var f="";f+='[{"type": "UGC","subLayers": {"layers": [';for(var c in g.themes){if(g.themes[c] instanceof SuperMap.Web.iServerJava6R.ThemeRange){var b=g.themes[c];var a="RANGE"}else{if(g.themes[c] instanceof SuperMap.Web.iServerJava6R.ThemeUnique){var b=g.themes[c];var a="UNIQUE"}else{if(g.themes[c] instanceof SuperMap.Web.iServerJava6R.ThemeLabel){var b=new Object();SuperMap.Web.iServerJava6R.ThemeLabel._toObject(g.themes[c],b);var a="LABEL"}else{if(g.themes[c] instanceof SuperMap.Web.iServerJava6R.ThemeGraph){var b=new Object();SuperMap.Web.iServerJava6R.ThemeGraph._toObject(g.themes[c],b);var a="GRAPH"}else{if(g.themes[c] instanceof SuperMap.Web.iServerJava6R.ThemeGraduatedSymbol){var b=new Object();SuperMap.Web.iServerJava6R.ThemeGraduatedSymbol._toObject(g.themes[c],b);var a="GRADUATEDSYMBOL"}else{if(g.themes[c] instanceof SuperMap.Web.iServerJava6R.ThemeDotDensity){var b=new Object();SuperMap.Web.iServerJava6R.ThemeDotDensity._toObject(g.themes[c],b);var a="DOTDENSITY"}}}}}}var e=SuperMap.Web.Utility.toJSON(b);e=e.slice(0,-1);e+=',"memoryData": null,';e+='"type": "'+a+'"},';f+='{"theme": '+e+'"type": "UGC","ugcLayerType": "THEME",';if(g.joinItems&&g.joinItems.length>0&&g.joinItems[c]){f+='"joinItems":'+SuperMap.Web.Utility.toJSON(g.joinItems[c])+","}if(g.datasetName&&g.dataSourceName){var j=g.datasetName[c]?c:(g.datasetName.length-1);var h=g.dataSourceName[c]?c:(g.dataSourceName.length-1);f+='"datasetInfo": {"name": "'+g.datasetName[j]+'","dataSourceName": "'+g.dataSourceName[h]+'"},},'}}f+="]},";var d=this._url.split("/");var i=d[d.length-1];f+='"name": "'+i+'"}]';return f},_operateComplete:function(a,d){var c=null;c=new SuperMap.Web.iServerJava6R.ThemeResult();c.resourceInfo=SuperMap.Web.iServerJava6R.ResourceInfo.fromJson(a);this._lastResult=c;var b=new SuperMap.Web.iServerJava6R.ThemeEventArgs(c,a);this.raise_processCompleted(b,d)},_operateError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.ThemeService.registerClass("SuperMap.Web.iServerJava6R.ThemeService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.RemoveThemeResult=function(){this.succeed=null};SuperMap.Web.iServerJava6R.RemoveThemeResult.registerClass("SuperMap.Web.iServerJava6R.RemoveThemeResult");SuperMap.Web.iServerJava6R.RemoveThemeEventArgs=function(a,b){this.result=a;this.originResult=b};SuperMap.Web.iServerJava6R.RemoveThemeEventArgs.registerClass("SuperMap.Web.iServerJava6R.RemoveThemeEventArgs");SuperMap.Web.iServerJava6R.RemoveThemeParameters=function(){SuperMap.Web.iServerJava6R.RemoveThemeParameters.initializeBase(this);this.id=null};SuperMap.Web.iServerJava6R.RemoveThemeParameters.registerClass("SuperMap.Web.iServerJava6R.RemoveThemeParameters");SuperMap.Web.iServerJava6R.RemoveThemeService=function(a){SuperMap.Web.iServerJava6R.RemoveThemeService.initializeBase(this,[a]);this._lastResult=null;this._returnContent=false};SuperMap.Web.iServerJava6R.RemoveThemeService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(d){var b=Function.createDelegate(this,this._operateComplete);var a=this._url.substr(this._url.length-1,1);var c=d.id;if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){if(a=="/"){this._url+="tempLayersSet/"+c+".json"}else{this._url+="/tempLayersSet/"+c+".json"}}else{if(a=="/"){this._url+="tempLayersSet/"+c+".jsonp"}else{this._url+="/tempLayersSet/"+c+".jsonp"}}this._url+="?_method=DELETE";this.request(this._url,"GET",null,[],[],b,null,null)},_operateComplete:function(a,d){var c=null;c=new SuperMap.Web.iServerJava6R.RemoveThemeResult();c.succeed=a.succeed;this._lastResult=c;var b=new SuperMap.Web.iServerJava6R.RemoveThemeEventArgs(c,a);this.raise_processCompleted(b,d)},_operateError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.RemoveThemeService.registerClass("SuperMap.Web.iServerJava6R.RemoveThemeService",SuperMap.Web.iServerJava6R.ServiceBase);Type.registerNamespace("SuperMap.Web.iServerJava6R.NetworkAnalyst");SuperMap.Web.iServerJava6R.NetworkAnalyst.DirectionType=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.NetworkAnalyst.DirectionType.prototype={};SuperMap.Web.iServerJava6R.NetworkAnalyst.DirectionType.EAST="EAST";SuperMap.Web.iServerJava6R.NetworkAnalyst.DirectionType.NONE="NONE";SuperMap.Web.iServerJava6R.NetworkAnalyst.DirectionType.NORTH="NORTH";SuperMap.Web.iServerJava6R.NetworkAnalyst.DirectionType.SOURTH="SOURTH";SuperMap.Web.iServerJava6R.NetworkAnalyst.DirectionType.WEST="WEST";SuperMap.Web.iServerJava6R.NetworkAnalyst.DirectionType.registerEnum("SuperMap.Web.iServerJava6R.NetworkAnalyst.DirectionType");SuperMap.Web.iServerJava6R.NetworkAnalyst.SideType=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.NetworkAnalyst.SideType.prototype={};SuperMap.Web.iServerJava6R.NetworkAnalyst.SideType.LEFT="LEFT";SuperMap.Web.iServerJava6R.NetworkAnalyst.SideType.MIDDLE="MIDDLE";SuperMap.Web.iServerJava6R.NetworkAnalyst.SideType.NONE="NONE";SuperMap.Web.iServerJava6R.NetworkAnalyst.SideType.RIGHT="RIGHT";SuperMap.Web.iServerJava6R.NetworkAnalyst.SideType.registerEnum("SuperMap.Web.iServerJava6R.NetworkAnalyst.SideType");SuperMap.Web.iServerJava6R.NetworkAnalyst.TurnType=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.NetworkAnalyst.TurnType.prototype={};SuperMap.Web.iServerJava6R.NetworkAnalyst.TurnType.AHEAD="AHEAD";SuperMap.Web.iServerJava6R.NetworkAnalyst.TurnType.BACK="BACK";SuperMap.Web.iServerJava6R.NetworkAnalyst.TurnType.END="END";SuperMap.Web.iServerJava6R.NetworkAnalyst.TurnType.LEFT="LEFT";SuperMap.Web.iServerJava6R.NetworkAnalyst.TurnType.NONE="NONE";SuperMap.Web.iServerJava6R.NetworkAnalyst.TurnType.RIGHT="RIGHT";SuperMap.Web.iServerJava6R.NetworkAnalyst.TurnType.registerEnum("SuperMap.Web.iServerJava6R.NetworkAnalyst.TurnType");SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyCenterType=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyCenterType.prototype={};SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyCenterType.FIXEDCENTER="FIXEDCENTER";SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyCenterType.NULL="NULL";SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyCenterType.OPTIONALCENTER="OPTIONALCENTER";SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyCenterType.registerEnum("SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyCenterType");SuperMap.Web.iServerJava6R.NetworkAnalyst.PointWithMeasure=function(){SuperMap.Web.iServerJava6R.NetworkAnalyst.PointWithMeasure.initializeBase(this);this.measure};SuperMap.Web.iServerJava6R.NetworkAnalyst.PointWithMeasure.fromJson=function(jsonObject){if(!jsonObject){return null}if(typeof(jsonObject)==="string"){jsonObject=eval("("+jsonObject+")")}var result=new SuperMap.Web.iServerJava6R.NetworkAnalyst.PointWithMeasure(jsonObject.x,jsonObject.y);result.measure=jsonObject.measure;result.x=jsonObject.x;result.y=jsonObject.y;return result};SuperMap.Web.iServerJava6R.NetworkAnalyst.PointWithMeasure.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.PointWithMeasure",SuperMap.Web.Core.Point2D);SuperMap.Web.iServerJava6R.NetworkAnalyst.Route=function(){this.length;this.line;this.maxM;this.minM;this.points;this.region};SuperMap.Web.iServerJava6R.NetworkAnalyst.Route.fromJson=function(c){if(!c){return}var a=new SuperMap.Web.iServerJava6R.NetworkAnalyst.Route();a.length=c.length;if(c.line){a.line=SuperMap.Web.iServerJava6R.ServerGeometry.fromJson(c.line).toGeometry()}a.maxM=c.maxM;a.minM=c.minM;if(c.points){a.points=new Array();for(var b=0;b<c.points.length;b++){a.points[b]=SuperMap.Web.iServerJava6R.NetworkAnalyst.PointWithMeasure.fromJson(c.points[b])}}if(c.region){a.region=SuperMap.Web.iServerJava6R.ServerGeometry.fromJson(c.region).toGeometry()}return a};SuperMap.Web.iServerJava6R.NetworkAnalyst.Route.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.Route");SuperMap.Web.iServerJava6R.NetworkAnalyst.PathGuideItem=function(){this.bounds;this.directionType;this.distance;this.id;this.index;this.isEdge;this.isStop;this.length;this.name;this.sideType;this.turnAngle;this.turnType;this.weight};SuperMap.Web.iServerJava6R.NetworkAnalyst.PathGuideItem.fromJson=function(b){if(!b){return}var a=new SuperMap.Web.iServerJava6R.NetworkAnalyst.PathGuideItem();a.bounds=SuperMap.Web.Core.Rectangle2D.fromJson(b.bounds);a.directionType=b.directionType;a.distance=b.distance;a.id=b.id;a.index=b.index;a.isEdge=b.isEdge;a.isStop=b.isStop;a.length=b.length;a.name=b.name;a.sideType=b.sideType;a.turnAngle=b.turnAngle;a.turnType=b.turnType;a.weight=b.weight;return a};SuperMap.Web.iServerJava6R.NetworkAnalyst.PathGuideItem.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.PathGuideItem");SuperMap.Web.iServerJava6R.NetworkAnalyst.Path=function(){this.edgeFeatures=null;this.edgeIDs=null;this.nodeFeatures=null;this.nodeIDs=null;this.pathGuideItems=null;this.route=null;this.stopWeights=null;this.weight=null};SuperMap.Web.iServerJava6R.NetworkAnalyst.Path.fromJson=function(c){if(!c){return}var a=new SuperMap.Web.iServerJava6R.NetworkAnalyst.Path();if(c.edgeFeatures){a.edgeFeatures=new Array();for(var b=0;b<c.edgeFeatures.length;b++){a.edgeFeatures[b]=SuperMap.Web.iServerJava6R.ServerFeature.fromJson(c.edgeFeatures[b]).toFeature()}}a.edgeIDs=c.edgeIDs;if(c.nodeFeatures){a.nodeFeatures=new Array();for(var b=0;b<c.nodeFeatures.length;b++){a.nodeFeatures[b]=SuperMap.Web.iServerJava6R.ServerFeature.fromJson(c.nodeFeatures[b]).toFeature()}}a.nodeIDs=c.nodeIDs;if(c.pathGuideItems){a.pathGuideItems=new Array();for(var b=0;b<c.pathGuideItems.length;b++){a.pathGuideItems[b]=SuperMap.Web.iServerJava6R.NetworkAnalyst.PathGuideItem.fromJson(c.pathGuideItems[b])}}a.route=SuperMap.Web.iServerJava6R.NetworkAnalyst.Route.fromJson(c.route);a.stopWeights=c.stopWeights;a.weight=c.weight;return a};SuperMap.Web.iServerJava6R.NetworkAnalyst.Path.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.Path");SuperMap.Web.iServerJava6R.NetworkAnalyst.FindPathResult=function(){this.pathList=null};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindPathResult.fromJson=function(c){if(!c){return}var a=new SuperMap.Web.iServerJava6R.NetworkAnalyst.FindPathResult();if(c.pathList){a.pathList=new Array();for(var b=0;b<c.pathList.length;b++){a.pathList[b]=SuperMap.Web.iServerJava6R.NetworkAnalyst.Path.fromJson(c.pathList[b])}}return a};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindPathResult.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindPathResult");SuperMap.Web.iServerJava6R.NetworkAnalyst.FindPathEventArgs=function(a,b){this.result=a;this.originResult=b};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindPathEventArgs.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindPathEventArgs");SuperMap.Web.iServerJava6R.NetworkAnalyst.TransportationAnalystResultSetting=function(){this.returnEdgeFeatures=false;this.returnEdgeGeometry=false;this.returnEdgeIDs=false;this.returnNodeFeatures=false;this.returnNodeGeometry=false;this.returnNodeIDs=false;this.returnPathGuides=false;this.returnRoutes=false};SuperMap.Web.iServerJava6R.NetworkAnalyst.TransportationAnalystResultSetting.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.TransportationAnalystResultSetting");SuperMap.Web.iServerJava6R.NetworkAnalyst.TransportationAnalystParameter=function(){SuperMap.Web.iServerJava6R.NetworkAnalyst.TransportationAnalystParameter.initializeBase(this);this.barrierEdgeIDs=null;this.barrierNodeIDs=null;this.resultSetting=new SuperMap.Web.iServerJava6R.NetworkAnalyst.TransportationAnalystResultSetting();this.turnWeightField=null;this.weightFieldName=null};SuperMap.Web.iServerJava6R.NetworkAnalyst.TransportationAnalystParameter.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.TransportationAnalystParameter");SuperMap.Web.iServerJava6R.NetworkAnalyst.FindPathParameters=function(){SuperMap.Web.iServerJava6R.NetworkAnalyst.FindPathParameters.initializeBase(this);this.nodes=null;this.isAnalyzeById=false;this.hasLeastEdgeCount=null;this.parameter=new SuperMap.Web.iServerJava6R.NetworkAnalyst.TransportationAnalystParameter()};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindPathParameters.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindPathParameters");SuperMap.Web.iServerJava6R.NetworkAnalyst.FindPathService=function(a){SuperMap.Web.iServerJava6R.NetworkAnalyst.FindPathService.initializeBase(this,[a]);this._lastResult=null;this._returnContent=false};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindPathService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(e){var b=Function.createDelegate(this,this._findPathComplete);var d=Function.createDelegate(this,this._findPathError);var c=this._getParameters(e);var a=this._url.substr(this._url.length-1,1);if(a=="/"){this._url+="paths/"+c}else{this._url+="/paths/"+c}this.request(this._url,"GET",null,["hasLeastEdgeCount","parameter"],[e.hasLeastEdgeCount,SuperMap.Web.Utility.toJSON(e.parameter)],b,d,null)},_getParameters:function(e){var d="";if(e.isAnalyzeById==false){var c="[";for(var a=0;a<e.nodes.length;a++){if(a>0){c+=","}c+='{"x":'+e.nodes[a].x+',"y":'+e.nodes[a].y+"}"}c+="]";d+=c}else{if(e.isAnalyzeById==true){var b="[";for(var a=0;a<e.nodes.length;a++){if(a>0){b+=","}b+=e.nodes[a]}b+="]";d+=b}else{return}}if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){d+=".json?"}else{d+=".jsonp?"}return d},_findPathComplete:function(a,d){var c=null;c=SuperMap.Web.iServerJava6R.NetworkAnalyst.FindPathResult.fromJson(a);this._lastResult=c;var b=new SuperMap.Web.iServerJava6R.NetworkAnalyst.FindPathEventArgs(c,a);this.raise_processCompleted(b,d)},_findPathError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindPathService.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindPathService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.NetworkAnalyst.ClosestFacilityPath=function(){SuperMap.Web.iServerJava6R.NetworkAnalyst.ClosestFacilityPath.initializeBase(this);this.facility=null;this.facilityIndex=null};SuperMap.Web.iServerJava6R.NetworkAnalyst.ClosestFacilityPath.fromJson=function(c){if(!c){return}var a=new SuperMap.Web.iServerJava6R.NetworkAnalyst.ClosestFacilityPath();if(c.edgeFeatures){a.edgeFeatures=new Array();for(var b=0;b<c.edgeFeatures.length;b++){a.edgeFeatures[b]=SuperMap.Web.iServerJava6R.ServerFeature.fromJson(c.edgeFeatures[b]).toFeature()}}a.edgeIDs=c.edgeIDs;if(c.nodeFeatures){a.nodeFeatures=new Array();for(var b=0;b<c.nodeFeatures.length;b++){a.nodeFeatures[b]=SuperMap.Web.iServerJava6R.ServerFeature.fromJson(c.nodeFeatures[b]).toFeature()}}a.nodeIDs=c.nodeIDs;if(c.pathGuideItems){a.pathGuideItems=new Array();for(var b=0;b<c.pathGuideItems.length;b++){a.pathGuideItems[b]=SuperMap.Web.iServerJava6R.NetworkAnalyst.PathGuideItem.fromJson(c.pathGuideItems[b])}}a.route=SuperMap.Web.iServerJava6R.NetworkAnalyst.Route.fromJson(c.route);a.stopWeights=c.stopWeights;a.weight=c.weight;a.facility=c.facility;a.facilityIndex=c.facilityIndex;return a};SuperMap.Web.iServerJava6R.NetworkAnalyst.ClosestFacilityPath.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.ClosestFacilityPath",SuperMap.Web.iServerJava6R.NetworkAnalyst.Path);SuperMap.Web.iServerJava6R.NetworkAnalyst.FindClosestFacilityResult=function(){this.facilityPathList=null};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindClosestFacilityResult.fromJson=function(c){if(!c){return}var a=new SuperMap.Web.iServerJava6R.NetworkAnalyst.FindClosestFacilityResult();if(c.facilityPathList){a.facilityPathList=new Array();for(var b=0;b<c.facilityPathList.length;b++){a.facilityPathList[b]=SuperMap.Web.iServerJava6R.NetworkAnalyst.ClosestFacilityPath.fromJson(c.facilityPathList[b])}}return a};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindClosestFacilityResult.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindClosestFacilityResult");SuperMap.Web.iServerJava6R.NetworkAnalyst.FindClosestFacilitiesEventArgs=function(a,b){this.result=a;this.originResult=b};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindClosestFacilitiesEventArgs.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindClosestFacilitiesEventArgs");SuperMap.Web.iServerJava6R.NetworkAnalyst.FindClosestFacilitiesParameters=function(){this.event=null;this.facilities=null;this.isAnalyzeById=false;this.expectFacilityCount=1;this.fromEvent=false;this.maxWeight=0;this.parameter=new SuperMap.Web.iServerJava6R.NetworkAnalyst.TransportationAnalystParameter()};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindClosestFacilitiesParameters.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindClosestFacilitiesParameters");SuperMap.Web.iServerJava6R.NetworkAnalyst.FindClosestFacilitiesService=function(a){SuperMap.Web.iServerJava6R.NetworkAnalyst.FindClosestFacilitiesService.initializeBase(this,[a]);this._lastResult=null;this._returnContent=false};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindClosestFacilitiesService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(e){var b=Function.createDelegate(this,this._analyzeComplete);var c=Function.createDelegate(this,this._analyzeError);var d=this._getParameters(e);var a=this._url.substr(this._url.length-1,1);if(a=="/"){this._url+="closestfacilities/"+d}else{this._url+="/closestfacilities/"+d}this.request(this._url,"GET",null,["expectFacilityCount","fromEvent","maxWeight","parameter"],[e.expectFacilityCount,e.fromEvent,e.maxWeight,SuperMap.Web.Utility.toJSON(e.parameter)],b,c,null)},_getParameters:function(g){var f="";if(g.isAnalyzeById==false){var c="";c+='{"x":'+g.event.x+',"y":'+g.event.y+"}";f+=c+"/"}else{if(g.isAnalyzeById==true){var e="";e+=g.event;f+=e+"/"}else{return}}if(g.isAnalyzeById==false){var a="[";for(var d=0;d<g.facilities.length;d++){if(d>0){a+=","}a+='{"x":'+g.facilities[d].x+',"y":'+g.facilities[d].y+"}"}a+="]";f+=a}else{if(g.isAnalyzeById==true){var b="[";for(var d=0;d<g.facilities.length;d++){if(d>0){b+=","}b+=g.facilities[d]}b+="]";f+=b}else{return}}if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){f+=".json?"}else{f+=".jsonp?"}return f},_analyzeComplete:function(a,d){var b=null;b=SuperMap.Web.iServerJava6R.NetworkAnalyst.FindClosestFacilityResult.fromJson(a);this._lastResult=b;var c=new SuperMap.Web.iServerJava6R.NetworkAnalyst.FindClosestFacilitiesEventArgs(b,a);this.raise_processCompleted(c,d)},_analyzeError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindClosestFacilitiesService.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindClosestFacilitiesService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyCenter=function(){this.maxWeight=null;this.nodeID=null;this.resourceValue=null;this.type=null};SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyCenter.fromJson=function(b){if(!b){return}var a=new SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyCenter();a.maxWeight=b.maxWeight;a.nodeID=b.nodeID;a.resourceValue=b.resourceValue;a.type=SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyCenterType.fromJson(b.type);return a};SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyCenter.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyCenter");SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyResult=function(){SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyResult.initializeBase(this);this.actualResourceValue=null;this.averageWeight=null;this.demandCount=null;this.maxWeight=null;this.nodeID=null;this.resourceValue=null;this.totalWeights=null;this.type=null};SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyResult.fromJson=function(c){if(!c){return}var a=new SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyResult();a.actualResourceValue=c.actualResourceValue;a.averageWeight=c.averageWeight;a.demandCount=c.demandCount;a.maxWeight=c.maxWeight;a.nodeID=c.nodeID;a.resourceValue=c.resourceValue;a.totalWeights=c.totalWeights;a.type=c.type;var e=null;if(c.fieldNames!==null){e=new Array();for(var b=0;b<c.fieldNames.length;b++){e.push(c.fieldNames[b])}}a.fieldNames=e;var d=null;if(c.fieldValues!==null){d=new Array();for(var b=0;b<c.fieldValues.length;b++){d.push(c.fieldValues[b])}}a.fieldValues=d;if(c.geometry!=null){a.geometry=SuperMap.Web.iServerJava6R.ServerGeometry.fromJson(c.geometry).toGeometry()}else{a.geometry=null}return a};SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyResult.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyResult",SuperMap.Web.iServerJava6R.ServerFeature);SuperMap.Web.iServerJava6R.NetworkAnalyst.DemandResult=function(){SuperMap.Web.iServerJava6R.NetworkAnalyst.DemandResult.initializeBase(this);this.actualResourceValue=null;this.demandID=null;this.isEdge=null;this.supplyCenter=null};SuperMap.Web.iServerJava6R.NetworkAnalyst.DemandResult.fromJson=function(c){if(!c){return}var a=new SuperMap.Web.iServerJava6R.NetworkAnalyst.DemandResult();a.actualResourceValue=c.actualResourceValue;a.demandID=c.demandID;a.isEdge=c.isEdge;if(c.supplyCenter){a.supplyCenter=SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyCenter.fromJson(c.supplyCenter)}var e=null;if(c.fieldNames!==null){e=new Array();for(var b=0;b<c.fieldNames.length;b++){e.push(c.fieldNames[b])}}a.fieldNames=e;var d=null;if(c.fieldValues!==null){d=new Array();for(var b=0;b<c.fieldValues.length;b++){d.push(c.fieldValues[b])}}a.fieldValues=d;if(c.geometry!=null){a.geometry=SuperMap.Web.iServerJava6R.ServerGeometry.fromJson(c.geometry).toGeometry()}else{a.geometry=null}return a};SuperMap.Web.iServerJava6R.NetworkAnalyst.DemandResult.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.DemandResult",SuperMap.Web.iServerJava6R.ServerFeature);SuperMap.Web.iServerJava6R.NetworkAnalyst.FindLocationResult=function(){this.demandResults=null;this.supplyResults=null};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindLocationResult.fromJson=function(c){if(!c){return}var a=new SuperMap.Web.iServerJava6R.NetworkAnalyst.FindLocationResult();if(c.demandResults){a.demandResults=new Array();for(var b=0;b<c.demandResults.length;b++){a.demandResults[b]=SuperMap.Web.iServerJava6R.NetworkAnalyst.DemandResult.fromJson(c.demandResults[b])}}if(c.supplyResults){a.supplyResults=new Array();for(var b=0;b<c.supplyResults.length;b++){a.supplyResults[b]=SuperMap.Web.iServerJava6R.NetworkAnalyst.SupplyResult.fromJson(c.supplyResults[b])}}return a};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindLocationResult.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindLocationResult");SuperMap.Web.iServerJava6R.NetworkAnalyst.FindLocationEventArgs=function(a,b){this.result=a;this.originResult=b};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindLocationEventArgs.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindLocationEventArgs");SuperMap.Web.iServerJava6R.NetworkAnalyst.FindLocationParameters=function(){this.supplyCenters=null;this.isFromCenter=false;this.expectedSupplyCenterCount=null;this.nodeDemandField=null;this.weightName=null;this.turnWeightField=null};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindLocationParameters.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindLocationParameters");SuperMap.Web.iServerJava6R.NetworkAnalyst.FindLocationService=function(a){SuperMap.Web.iServerJava6R.NetworkAnalyst.FindLocationService.initializeBase(this,[a]);this._lastResult=null;this._returnContent=false};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindLocationService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(e){var b=Function.createDelegate(this,this._analyzeComplete);var c=Function.createDelegate(this,this._analyzeError);var d=this._getParameters(e);var a=this._url.substr(this._url.length-1,1);if(a=="/"){this._url+="location/"+d}else{this._url+="/location/"+d}this.request(this._url,"GET",null,["isFromCenter","expectedSupplyCenterCount","nodeDemandField","weightName","turnWeightField","returnEdgeFeature","returnEdgeGeometry","returnNodeFeature","mapParameter"],[e.isFromCenter,e.expectedSupplyCenterCount,e.nodeDemandField,e.weightName,e.turnWeightField,true,true,true,SuperMap.Web.Utility.toJSON(e.mapParameter)],b,c,null)},_getParameters:function(d){var c="";if(d.supplyCenters!=null){var b="[";for(var a=0;a<d.supplyCenters.length;a++){if(a!=0){b+=","}b+='{"maxWeight":'+d.supplyCenters[a].maxWeight+',"nodeID":'+d.supplyCenters[a].nodeID+',"resourceValue":'+d.supplyCenters[a].resourceValue+',"type":'+d.supplyCenters[a].type+"}"}c+=b+"]"}if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){c+=".json?"}else{c+=".jsonp?"}return c},_analyzeComplete:function(a,d){var c=null;c=SuperMap.Web.iServerJava6R.NetworkAnalyst.FindLocationResult.fromJson(a);this._lastResult=c;var b=new SuperMap.Web.iServerJava6R.NetworkAnalyst.FindLocationEventArgs(c,a);this.raise_processCompleted(b,d)},_analyzeError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindLocationService.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindLocationService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.NetworkAnalyst.TSPPath=function(){SuperMap.Web.iServerJava6R.NetworkAnalyst.TSPPath.initializeBase(this);this.stopIndexes=null};SuperMap.Web.iServerJava6R.NetworkAnalyst.TSPPath.fromJson=function(c){if(!c){return}var a=new SuperMap.Web.iServerJava6R.NetworkAnalyst.TSPPath();a.stopIndexes=c.stopIndexes;if(c.edgeFeatures){a.edgeFeatures=new Array();for(var b=0;b<c.edgeFeatures.length;b++){a.edgeFeatures[b]=SuperMap.Web.iServerJava6R.ServerFeature.fromJson(c.edgeFeatures[b]).toFeature()}}a.edgeIDs=c.edgeIDs;if(c.nodeFeatures){a.nodeFeatures=new Array();for(var b=0;b<c.nodeFeatures.length;b++){a.nodeFeatures[b]=SuperMap.Web.iServerJava6R.ServerFeature.fromJson(c.nodeFeatures[b]).toFeature()}}a.nodeIDs=c.nodeIDs;if(c.pathGuideItems){a.pathGuideItems=new Array();for(var b=0;b<c.pathGuideItems.length;b++){a.pathGuideItems[b]=SuperMap.Web.iServerJava6R.NetworkAnalyst.PathGuideItem.fromJson(c.pathGuideItems[b])}}a.route=SuperMap.Web.iServerJava6R.NetworkAnalyst.Route.fromJson(c.route);a.stopWeights=c.stopWeights;a.weight=c.weight;return a};SuperMap.Web.iServerJava6R.NetworkAnalyst.TSPPath.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.TSPPath",SuperMap.Web.iServerJava6R.NetworkAnalyst.Path);SuperMap.Web.iServerJava6R.NetworkAnalyst.MTSPPath=function(){SuperMap.Web.iServerJava6R.NetworkAnalyst.MTSPPath.initializeBase(this);this.center=null;this.nodesVisited=null};SuperMap.Web.iServerJava6R.NetworkAnalyst.MTSPPath.fromJson=function(c){if(!c){return}var a=new SuperMap.Web.iServerJava6R.NetworkAnalyst.MTSPPath();a.center=c.center;a.nodesVisited=c.nodesVisited;a.stopIndexes=c.stopIndexes;if(c.edgeFeatures){a.edgeFeatures=new Array();for(var b=0;b<c.edgeFeatures.length;b++){a.edgeFeatures[b]=SuperMap.Web.iServerJava6R.ServerFeature.fromJson(c.edgeFeatures[b]).toFeature()}}a.edgeIDs=c.edgeIDs;if(c.nodeFeatures){a.nodeFeatures=new Array();for(var b=0;b<c.nodeFeatures.length;b++){a.nodeFeatures[b]=SuperMap.Web.iServerJava6R.ServerFeature.fromJson(c.nodeFeatures[b]).toFeature()}}a.nodeIDs=c.nodeIDs;if(c.pathGuideItems){a.pathGuideItems=new Array();for(var b=0;b<c.pathGuideItems.length;b++){a.pathGuideItems[b]=SuperMap.Web.iServerJava6R.NetworkAnalyst.PathGuideItem.fromJson(c.pathGuideItems[b])}}a.route=SuperMap.Web.iServerJava6R.NetworkAnalyst.Route.fromJson(c.route);a.stopWeights=c.stopWeights;a.weight=c.weight;return a};SuperMap.Web.iServerJava6R.NetworkAnalyst.MTSPPath.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.MTSPPath",SuperMap.Web.iServerJava6R.NetworkAnalyst.TSPPath);SuperMap.Web.iServerJava6R.NetworkAnalyst.FindMTSPPathsResult=function(){this.pathList=null};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindMTSPPathsResult.fromJson=function(c){if(!c){return}var a=new SuperMap.Web.iServerJava6R.NetworkAnalyst.FindMTSPPathsResult();if(c.pathList){a.pathList=new Array();for(var b=0;b<c.pathList.length;b++){a.pathList[b]=SuperMap.Web.iServerJava6R.NetworkAnalyst.MTSPPath.fromJson(c.pathList[b])}}return a};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindMTSPPathsResult.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindMTSPPathsResult");SuperMap.Web.iServerJava6R.NetworkAnalyst.FindMTSPPathsEventArgs=function(a,b){this.result=a;this.originResult=b};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindMTSPPathsEventArgs.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindMTSPPathsEventArgs");SuperMap.Web.iServerJava6R.NetworkAnalyst.FindMTSPPathsParameters=function(){this.centers=null;this.nodes=null;this.isAnalyzeById=false;this.hasLeastTotalCost=false;this.parameter=new SuperMap.Web.iServerJava6R.NetworkAnalyst.TransportationAnalystParameter()};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindMTSPPathsParameters.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindMTSPPathsParameters");SuperMap.Web.iServerJava6R.NetworkAnalyst.FindMTSPPathsService=function(a){SuperMap.Web.iServerJava6R.NetworkAnalyst.FindMTSPPathsService.initializeBase(this,[a]);this._lastResult=null;this._returnContent=false};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindMTSPPathsService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(e){var b=Function.createDelegate(this,this._analyzeComplete);var c=Function.createDelegate(this,this._analyzeError);var d=this._getParameters(e);var a=this._url.substr(this._url.length-1,1);if(a=="/"){this._url+="mtsppaths/"+d}else{this._url+="/mtsppaths/"+d}this.request(this._url,"GET",null,["hasLeastTotalCost","parameter"],[e.hasLeastTotalCost,SuperMap.Web.Utility.toJSON(e.parameter)],b,c,null)},_getParameters:function(g){var f="";if(g.isAnalyzeById==false){var e="[";for(var b=0;b<g.centers.length;b++){if(b>0){e+=","}e+='{"x":'+g.centers[b].x+',"y":'+g.centers[b].y+"}"}e+="]";f+=e+"/"}else{if(g.isAnalyzeById==true){var a="[";for(var b=0;b<g.centers.length;b++){if(b>0){a+=","}a+=g.centers[b]}a+="]";f+=a+"/"}else{return}}if(g.isAnalyzeById==false){var d="[";for(var b=0;b<g.nodes.length;b++){if(b>0){d+=","}d+='{"x":'+g.nodes[b].x+',"y":'+g.nodes[b].y+"}"}d+="]";f+=d}else{if(g.isAnalyzeById==true){var c="[";for(var b=0;b<g.nodes.length;b++){if(b>0){c+=","}c+=g.nodes[b]}c+="]";f+=c}else{return}}if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){f+=".json?"}else{f+=".jsonp?"}return f},_analyzeComplete:function(a,d){var c=null;c=SuperMap.Web.iServerJava6R.NetworkAnalyst.FindMTSPPathsResult.fromJson(a);this._lastResult=c;var b=new SuperMap.Web.iServerJava6R.NetworkAnalyst.FindMTSPPathsEventArgs(c,a);this.raise_processCompleted(b,d)},_analyzeError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindMTSPPathsService.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindMTSPPathsService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.NetworkAnalyst.ServiceArea=function(){this.edgeFeatures=null;this.edgeIDs=null;this.nodeFeatures=null;this.nodeIDs=null;this.routes=null;this.serviceRegion=null};SuperMap.Web.iServerJava6R.NetworkAnalyst.ServiceArea.fromJson=function(c){if(!c){return}var a=new SuperMap.Web.iServerJava6R.NetworkAnalyst.ServiceArea();if(c.edgeFeatures){a.edgeFeatures=new Array();for(var b=0;b<c.edgeFeatures.length;b++){a.edgeFeatures[b]=SuperMap.Web.iServerJava6R.ServerFeature.fromJson(c.edgeFeatures[b]).toFeature()}}if(c.edgeIDs){a.edgeIDs=new Array();for(var b=0;b<c.edgeIDs.length;b++){a.edgeIDs[b]=c.edgeIDs[b]}}if(c.nodeFeatures){a.nodeFeatures=new Array();for(var b=0;b<c.nodeFeatures.length;b++){a.nodeFeatures[b]=SuperMap.Web.iServerJava6R.ServerFeature.fromJson(c.nodeFeatures[b]).toFeature()}}if(c.nodeIDs){a.nodeIDs=new Array();for(var b=0;b<c.nodeIDs.length;b++){a.nodeIDs[b]=c.nodeIDs[b]}}if(c.routes){a.routes=new Array();for(var b=0;b<c.routes.length;b++){a.routes[b]=SuperMap.Web.iServerJava6R.NetworkAnalyst.Route.fromJson(c.routes[b])}}if(c.serviceRegion){a.serviceRegion=SuperMap.Web.iServerJava6R.ServerGeometry.fromJson(c.serviceRegion).toGeometry()}return a};SuperMap.Web.iServerJava6R.NetworkAnalyst.ServiceArea.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.ServiceArea");SuperMap.Web.iServerJava6R.NetworkAnalyst.FindServiceAreasResult=function(){this.serviceAreaList=null};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindServiceAreasResult.fromJson=function(c){if(!c){return}var a=new SuperMap.Web.iServerJava6R.NetworkAnalyst.FindServiceAreasResult();if(c.serviceAreaList){a.serviceAreaList=new Array();for(var b=0;b<c.serviceAreaList.length;b++){a.serviceAreaList[b]=SuperMap.Web.iServerJava6R.NetworkAnalyst.ServiceArea.fromJson(c.serviceAreaList[b])}}return a};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindServiceAreasResult.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindServiceAreasResult");SuperMap.Web.iServerJava6R.NetworkAnalyst.FindServiceAreasEventArgs=function(a,b){this.result=a;this.originResult=b};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindServiceAreasEventArgs.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindServiceAreasEventArgs");SuperMap.Web.iServerJava6R.NetworkAnalyst.FindServiceAreasParameters=function(){this.centers=null;this.isAnalyzeById=false;this.weights=null;this.isFromCenter=false;this.isCenterMutuallyExclusive=false;this.parameter=new SuperMap.Web.iServerJava6R.NetworkAnalyst.TransportationAnalystParameter()};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindServiceAreasParameters.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindServiceAreasParameters");SuperMap.Web.iServerJava6R.NetworkAnalyst.FindServiceAreasService=function(a){SuperMap.Web.iServerJava6R.NetworkAnalyst.FindServiceAreasService.initializeBase(this,[a]);this._lastResult=null;this._returnContent=false};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindServiceAreasService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(e){var b=Function.createDelegate(this,this._analyzeComplete);var c=Function.createDelegate(this,this._analyzeError);var d=this._getParameters(e);var a=this._url.substr(this._url.length-1,1);if(a=="/"){this._url+="serviceareas/"+d}else{this._url+="/serviceareas/"+d}this.request(this._url,"GET",null,["isFromCenter","isCenterMutuallyExclusive","parameter"],[e.isFromCenter,e.isCenterMutuallyExclusive,SuperMap.Web.Utility.toJSON(e.parameter)],b,c,null)},_getParameters:function(f){var e="";if(f.isAnalyzeById==false){var d="[";for(var c=0;c<f.centers.length;c++){if(c>0){d+=","}d+='{"x":'+f.centers[c].x+',"y":'+f.centers[c].y+"}"}d+="]";e+=d+"/"}else{if(f.isAnalyzeById==true){var a="[";for(var c=0;c<f.centers.length;c++){if(c>0){a+=","}a+=f.centers[c]}a+="]";e+=a+"/"}else{return}}var b="[";for(var c=0;c<f.weights.length;c++){if(c>0){b+=","}b+=f.weights[c]}b+="]";e+=b;if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){e+=".json?"}else{e+=".jsonp?"}return e},_analyzeComplete:function(a,d){var b=null;b=SuperMap.Web.iServerJava6R.NetworkAnalyst.FindServiceAreasResult.fromJson(a);this._lastResult=b;var c=new SuperMap.Web.iServerJava6R.NetworkAnalyst.FindServiceAreasEventArgs(b,a);this.raise_processCompleted(c,d)},_analyzeError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindServiceAreasService.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindServiceAreasService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.NetworkAnalyst.FindTSPPathsResult=function(){this.tspPathList=null};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindTSPPathsResult.fromJson=function(c){if(!c){return}var a=new SuperMap.Web.iServerJava6R.NetworkAnalyst.FindTSPPathsResult();if(c.tspPathList){a.tspPathList=new Array();for(var b=0;b<c.tspPathList.length;b++){a.tspPathList[b]=SuperMap.Web.iServerJava6R.NetworkAnalyst.TSPPath.fromJson(c.tspPathList[b])}}return a};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindTSPPathsResult.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindTSPPathsResult");SuperMap.Web.iServerJava6R.NetworkAnalyst.FindTSPPathsEventArgs=function(a,b){this.result=a;this.originResult=b};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindTSPPathsEventArgs.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindTSPPathsEventArgs");SuperMap.Web.iServerJava6R.NetworkAnalyst.FindTSPPathsParameters=function(){this.nodes=null;this.isAnalyzeById=false;this.endNodeAssigned=false;this.parameter=new SuperMap.Web.iServerJava6R.NetworkAnalyst.TransportationAnalystParameter()};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindTSPPathsParameters.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindTSPPathsParameters");SuperMap.Web.iServerJava6R.NetworkAnalyst.FindTSPPathsService=function(a){SuperMap.Web.iServerJava6R.NetworkAnalyst.FindTSPPathsService.initializeBase(this,[a]);this._lastResult=null;this._returnContent=false};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindTSPPathsService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(e){var b=Function.createDelegate(this,this._analyzeComplete);var c=Function.createDelegate(this,this._analyzeError);var d=this._getParameters(e);var a=this._url.substr(this._url.length-1,1);if(a=="/"){this._url+="tsppaths/"+d}else{this._url+="/tsppaths/"+d}this.request(this._url,"GET",null,["endNodeAssigned","parameter"],[e.endNodeAssigned,SuperMap.Web.Utility.toJSON(e.parameter)],b,c,null)},_getParameters:function(e){var d="";if(e.isAnalyzeById==false){var c="[";for(var a=0;a<e.nodes.length;a++){if(a>0){c+=","}c+='{"x":'+e.nodes[a].x+',"y":'+e.nodes[a].y+"}"}c+="]";d+=c}else{if(e.isAnalyzeById==true){var b="[";for(var a=0;a<e.nodes.length;a++){if(a>0){b+=","}b+=e.nodes[a]}b+="]";d+=b}else{return}}if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){d+=".json?"}else{d+=".jsonp?"}return d},_analyzeComplete:function(a,d){var b=null;b=SuperMap.Web.iServerJava6R.NetworkAnalyst.FindTSPPathsResult.fromJson(a);this._lastResult=b;var c=new SuperMap.Web.iServerJava6R.NetworkAnalyst.FindTSPPathsEventArgs(b,a);this.raise_processCompleted(c,d)},_analyzeError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.NetworkAnalyst.FindTSPPathsService.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.FindTSPPathsService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.NetworkAnalyst.ComputeWeightMatrixResult=function(){this.weightMatrix=null};SuperMap.Web.iServerJava6R.NetworkAnalyst.ComputeWeightMatrixResult.fromJson=function(d){if(!d){return}var a=new SuperMap.Web.iServerJava6R.NetworkAnalyst.ComputeWeightMatrixResult();if(d){a.weightMatrix=new Array();for(var c=0;c<d.length;c++){if(d[c]){a.weightMatrix[c]=new Array();for(var b=0;b<d[c].length;b++){a.weightMatrix[c][b]=d[c][b]}}}}return a};SuperMap.Web.iServerJava6R.NetworkAnalyst.ComputeWeightMatrixResult.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.ComputeWeightMatrixResult");SuperMap.Web.iServerJava6R.NetworkAnalyst.ComputeWeightMatrixEventArgs=function(a,b){this.result=a;this.originResult=b};SuperMap.Web.iServerJava6R.NetworkAnalyst.ComputeWeightMatrixEventArgs.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.ComputeWeightMatrixEventArgs");SuperMap.Web.iServerJava6R.NetworkAnalyst.ComputeWeightMatrixParameters=function(){this.nodes=null;this.isAnalyzeById=false;this.parameter=null};SuperMap.Web.iServerJava6R.NetworkAnalyst.ComputeWeightMatrixParameters.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.ComputeWeightMatrixParameters");SuperMap.Web.iServerJava6R.NetworkAnalyst.ComputeWeightMatrixService=function(a){SuperMap.Web.iServerJava6R.NetworkAnalyst.ComputeWeightMatrixService.initializeBase(this,[a]);this._lastResult=null;this._returnContent=false};SuperMap.Web.iServerJava6R.NetworkAnalyst.ComputeWeightMatrixService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(e){var b=Function.createDelegate(this,this._analyzeComplete);var c=Function.createDelegate(this,this._analyzeError);var d=this._getParameters(e);var a=this._url.substr(this._url.length-1,1);if(a=="/"){this._url+="weightmatrix/"+d}else{this._url+="/weightmatrix/"+d}this.request(this._url,"GET",null,["parameter"],[SuperMap.Web.Utility.toJSON(e.parameter)],b,c,null)},_getParameters:function(e){var d="";if(e.isAnalyzeById==false){var c="[";for(var a=0;a<e.nodes.length;a++){if(a>0){c+=","}c+='{"x":'+e.nodes[a].x+',"y":'+e.nodes[a].y+"}"}c+="]";d+=c}else{if(e.isAnalyzeById==true){var b="[";for(var a=0;a<e.nodes.length;a++){if(a>0){b+=","}b+=e.nodes[a]}b+="]";d+=b}else{return}}if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){d+=".json?"}else{d+=".jsonp?"}return d},_analyzeComplete:function(a,d){var b=null;b=SuperMap.Web.iServerJava6R.NetworkAnalyst.ComputeWeightMatrixResult.fromJson(a);this._lastResult=b;var c=new SuperMap.Web.iServerJava6R.NetworkAnalyst.ComputeWeightMatrixEventArgs(b,a);this.raise_processCompleted(c,d)},_analyzeError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.NetworkAnalyst.ComputeWeightMatrixService.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.ComputeWeightMatrixService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.NetworkAnalyst.EdgeWeightNamesResult=function(){this.edgeWeightNames=null};SuperMap.Web.iServerJava6R.NetworkAnalyst.EdgeWeightNamesResult.fromJson=function(c){if(!c){return}var a=new SuperMap.Web.iServerJava6R.NetworkAnalyst.EdgeWeightNamesResult();if(c){a.edgeWeightNames=new Array();for(var b=0;b<c.length;b++){a.edgeWeightNames[b]=c[b]}}return a};SuperMap.Web.iServerJava6R.NetworkAnalyst.EdgeWeightNamesResult.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.EdgeWeightNamesResult");SuperMap.Web.iServerJava6R.NetworkAnalyst.EdgeWeightNamesEventArgs=function(a,b){this.result=a;this.originResult=b};SuperMap.Web.iServerJava6R.NetworkAnalyst.EdgeWeightNamesEventArgs.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.EdgeWeightNamesEventArgs");SuperMap.Web.iServerJava6R.NetworkAnalyst.GetEdgeWeightNamesService=function(a){SuperMap.Web.iServerJava6R.NetworkAnalyst.GetEdgeWeightNamesService.initializeBase(this,[a]);this._lastResult=null;this._returnContent=false};SuperMap.Web.iServerJava6R.NetworkAnalyst.GetEdgeWeightNamesService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(){var b=Function.createDelegate(this,this._analyzeComplete);var c=Function.createDelegate(this,this._analyzeError);var a=this._url.substr(this._url.length-1,1);if(a=="/"){this._url+="edgeweightnames"}else{this._url+="/edgeweightnames"}if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){this._url+=".json?"}else{this._url+=".jsonp?"}this.request(this._url,"GET",null,null,null,b,c,true)},_analyzeComplete:function(a,d){var b=null;b=SuperMap.Web.iServerJava6R.NetworkAnalyst.EdgeWeightNamesResult.fromJson(a);this._lastResult=b;var c=new SuperMap.Web.iServerJava6R.NetworkAnalyst.EdgeWeightNamesEventArgs(b,a);this.raise_processCompleted(c,d)},_analyzeError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.NetworkAnalyst.GetEdgeWeightNamesService.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.GetEdgeWeightNamesService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.NetworkAnalyst.TurnNodeWeightNamesResult=function(){this.turnNodeWeightNames=null};SuperMap.Web.iServerJava6R.NetworkAnalyst.TurnNodeWeightNamesResult.fromJson=function(c){if(!c){return}var a=new SuperMap.Web.iServerJava6R.NetworkAnalyst.TurnNodeWeightNamesResult();if(c){a.turnNodeWeightNames=new Array();for(var b=0;b<c.length;b++){a.turnNodeWeightNames[b]=c[b]}}return a};SuperMap.Web.iServerJava6R.NetworkAnalyst.TurnNodeWeightNamesResult.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.TurnNodeWeightNamesResult");SuperMap.Web.iServerJava6R.NetworkAnalyst.TurnNodeWeightNamesEventArgs=function(a,b){this.result=a;this.originResult=b};SuperMap.Web.iServerJava6R.NetworkAnalyst.TurnNodeWeightNamesEventArgs.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.TurnNodeWeightNamesEventArgs");SuperMap.Web.iServerJava6R.NetworkAnalyst.GetTurnNodeWeightNamesService=function(a){SuperMap.Web.iServerJava6R.NetworkAnalyst.GetTurnNodeWeightNamesService.initializeBase(this,[a]);this._lastResult=null;this._returnContent=false};SuperMap.Web.iServerJava6R.NetworkAnalyst.GetTurnNodeWeightNamesService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(){var b=Function.createDelegate(this,this._analyzeComplete);var c=Function.createDelegate(this,this._analyzeError);var a=this._url.substr(this._url.length-1,1);if(a=="/"){this._url+="turnnodeweightfieldnames"}else{this._url+="/turnnodeweightfieldnames"}if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){this._url+=".json?"}else{this._url+=".jsonp?"}this.request(this._url,"GET",null,null,null,b,c,true)},_analyzeComplete:function(b,d){var a=null;a=SuperMap.Web.iServerJava6R.NetworkAnalyst.TurnNodeWeightNamesResult.fromJson(b);this._lastResult=a;var c=new SuperMap.Web.iServerJava6R.NetworkAnalyst.TurnNodeWeightNamesEventArgs(a,b);this.raise_processCompleted(c,d)},_analyzeError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.NetworkAnalyst.GetTurnNodeWeightNamesService.registerClass("SuperMap.Web.iServerJava6R.NetworkAnalyst.GetTurnNodeWeightNamesService",SuperMap.Web.iServerJava6R.ServiceBase);Type.registerNamespace("SuperMap.Web.iServerJava6R.Data");SuperMap.Web.iServerJava6R.Data.EditType=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.Data.EditType.prototype={};SuperMap.Web.iServerJava6R.Data.EditType.ADD="ADD";SuperMap.Web.iServerJava6R.Data.EditType.UPDATE="UPDATE";SuperMap.Web.iServerJava6R.Data.EditType.DELETE="DELETE";SuperMap.Web.iServerJava6R.Data.EditType.registerEnum("SuperMap.Web.iServerJava6R.Data.EditType");SuperMap.Web.iServerJava6R.Data.GetFeaturesResult=function(){this.featureCount=null;this.features=null;this.featureUriList=null};SuperMap.Web.iServerJava6R.Data.GetFeaturesResult.fromJson=function(c){if(!c){return}var a=new SuperMap.Web.iServerJava6R.Data.GetFeaturesResult();a.featureCount=c.featureCount;if(c.features){a.features=new Array();for(var b=0;b<c.features.length;b++){a.features[b]=SuperMap.Web.iServerJava6R.ServerFeature.fromJson(c.features[b]).toFeature()}}return a};SuperMap.Web.iServerJava6R.Data.GetFeaturesResult.registerClass("SuperMap.Web.iServerJava6R.Data.GetFeaturesResult");SuperMap.Web.iServerJava6R.Data.GetFeaturesEventArgs=function(a,b){this.result=a;this.originResult=b};SuperMap.Web.iServerJava6R.Data.GetFeaturesEventArgs.registerClass("SuperMap.Web.iServerJava6R.Data.GetFeaturesEventArgs");SuperMap.Web.iServerJava6R.Data.GetFeaturesParametersBase=function(){this.datasetNames=null;this.fromIndex=0;this.toIndex=-1};SuperMap.Web.iServerJava6R.Data.GetFeaturesParametersBase.registerClass("SuperMap.Web.iServerJava6R.Data.GetFeaturesParametersBase");SuperMap.Web.iServerJava6R.Data.GetFeaturesBySQLParameters=function(){SuperMap.Web.iServerJava6R.Data.GetFeaturesBySQLParameters.initializeBase(this);this.filterParameter=null};SuperMap.Web.iServerJava6R.Data.GetFeaturesBySQLParameters.registerClass("SuperMap.Web.iServerJava6R.Data.GetFeaturesBySQLParameters",SuperMap.Web.iServerJava6R.Data.GetFeaturesParametersBase);SuperMap.Web.iServerJava6R.Data.GetFeaturesBySQLService=function(a){SuperMap.Web.iServerJava6R.Data.GetFeaturesBySQLService.initializeBase(this,[a]);this._lastResult=null};SuperMap.Web.iServerJava6R.Data.GetFeaturesBySQLService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(d){var a=Function.createDelegate(this,this._operateComplete);var b=Function.createDelegate(this,this._operateError);var c=this._getParameters(d);if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){this._url+=".json?returnContent=true"}else{this._url+=".jsonp?returnContent=true"}if(d.fromIndex>=0&&d.toIndex>=0){this._url+="&fromIndex="+d.fromIndex+"&toIndex="+d.toIndex}this.request(this._url,"POST",c,null,null,a,b,null)},_getParameters:function(d){var c='{"getFeatureMode":"SQL", "datasetNames":';if(d.datasetNames!=null){var b="[";for(var a=0;a<d.datasetNames.length;a++){if(a!=0){b+=","}b+='"'+d.datasetNames[a]+'"'}c+=b+"]"}c+=', "queryParameter":';if(d.filterParameter){c+=SuperMap.Web.Utility.toJSON(d.filterParameter)}c+="}";return c},_operateComplete:function(a,d){var c=null;c=SuperMap.Web.iServerJava6R.Data.GetFeaturesResult.fromJson(a);this._lastResult=c;var b=new SuperMap.Web.iServerJava6R.Data.GetFeaturesEventArgs(c,a);this.raise_processCompleted(b,d)},_operateError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.Data.GetFeaturesBySQLService.registerClass("SuperMap.Web.iServerJava6R.Data.GetFeaturesBySQLService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.Data.GetFeaturesByIDsParameters=function(){SuperMap.Web.iServerJava6R.Data.GetFeaturesByIDsParameters.initializeBase(this);this.ids=null;this.fields=null};SuperMap.Web.iServerJava6R.Data.GetFeaturesByIDsParameters.registerClass("SuperMap.Web.iServerJava6R.Data.GetFeaturesByIDsParameters",SuperMap.Web.iServerJava6R.Data.GetFeaturesParametersBase);SuperMap.Web.iServerJava6R.Data.GetFeaturesByIDsService=function(a){SuperMap.Web.iServerJava6R.Data.GetFeaturesByIDsService.initializeBase(this,[a]);this._lastResult=null};SuperMap.Web.iServerJava6R.Data.GetFeaturesByIDsService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(d){var a=Function.createDelegate(this,this._operateComplete);var b=Function.createDelegate(this,this._operateError);var c=this._getParameters(d);if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){this._url+=".json?returnContent=true"}else{this._url+=".jsonp?returnContent=true"}if(d.fromIndex>=0&&d.toIndex>=0){this._url+="&fromIndex="+d.fromIndex+"&toIndex="+d.toIndex}this.request(this._url,"POST",c,null,null,a,b,null)},_getParameters:function(f){var e='{"getFeatureMode":"ID", "datasetNames":';if(f.datasetNames!=null){var d="[";for(var a=0;a<f.datasetNames.length;a++){if(a!=0){d+=","}d+='"'+f.datasetNames[a]+'"'}e+=d+"]"}e+=', "ids":';if(f.ids!=null){var c="[";for(var a=0;a<f.ids.length;a++){if(a!=0){c+=","}c+=f.ids[a]}e+=c+"]"}if(f.fields&&f.fields.length){e+=', "queryParameter":';var b=new SuperMap.Web.iServerJava6R.FilterParameter();b.name=f.datasetNames;for(var a=0;a<f.fields.length;a++){b.fields=f.fields}e+=SuperMap.Web.Utility.toJSON(b)}e+="}";return e},_operateComplete:function(a,d){var c=null;c=SuperMap.Web.iServerJava6R.Data.GetFeaturesResult.fromJson(a);this._lastResult=c;var b=new SuperMap.Web.iServerJava6R.Data.GetFeaturesEventArgs(c,a);this.raise_processCompleted(b,d)},_operateError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.Data.GetFeaturesByIDsService.registerClass("SuperMap.Web.iServerJava6R.Data.GetFeaturesByIDsService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.Data.GetFeaturesByGeometryParameters=function(){SuperMap.Web.iServerJava6R.Data.GetFeaturesByGeometryParameters.initializeBase(this);this.geometry=null;this.spatialQueryMode=SuperMap.Web.iServerJava6R.SpatialQueryMode.NONE;this.attributeFilter=null;this.fields=null};SuperMap.Web.iServerJava6R.Data.GetFeaturesByGeometryParameters.registerClass("SuperMap.Web.iServerJava6R.Data.GetFeaturesByGeometryParameters",SuperMap.Web.iServerJava6R.Data.GetFeaturesParametersBase);SuperMap.Web.iServerJava6R.Data.GetFeaturesByGeometryService=function(a){SuperMap.Web.iServerJava6R.Data.GetFeaturesByGeometryService.initializeBase(this,[a]);this._lastResult=null};SuperMap.Web.iServerJava6R.Data.GetFeaturesByGeometryService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(d){var a=Function.createDelegate(this,this._operateComplete);var b=Function.createDelegate(this,this._operateError);var c=this._getParameters(d);if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){this._url+=".json?returnContent=true"}else{this._url+=".jsonp?returnContent=true"}if(d.fromIndex>=0&&d.toIndex>=0){this._url+="&fromIndex="+d.fromIndex+"&toIndex="+d.toIndex}this.request(this._url,"POST",c,null,null,a,b,null)},_getParameters:function(f){if(f.attributeFilter==null){var e='{"getFeatureMode":"SPATIAL", "datasetNames":'}else{var e='{"getFeatureMode":"SPATIAL_ATTRIBUTEFILTER", "attributeFilter":"'+f.attributeFilter+'", "datasetNames":'}if(f.datasetNames!=null){var d="[";for(var a=0;a<f.datasetNames.length;a++){if(a!=0){d+=","}d+='"'+f.datasetNames[a]+'"'}e+=d+"]"}e+=', "geometry":';if(f.geometry!=null){var b=SuperMap.Web.iServerJava6R.ServerGeometry.fromGeometry(f.geometry);e+=SuperMap.Web.Utility.toJSON(b)}e+=', "spatialQueryMode":';if(f.spatialQueryMode){e+='"'+f.spatialQueryMode+'"'}if(f.fields&&f.fields.length){e+=', "queryParameter":';var c=new SuperMap.Web.iServerJava6R.FilterParameter();c.name=f.datasetNames;for(var a=0;a<f.fields.length;a++){c.fields=f.fields}e+=SuperMap.Web.Utility.toJSON(c)}e+="}";return e},_operateComplete:function(a,d){var c=null;c=SuperMap.Web.iServerJava6R.Data.GetFeaturesResult.fromJson(a);this._lastResult=c;var b=new SuperMap.Web.iServerJava6R.Data.GetFeaturesEventArgs(c,a);this.raise_processCompleted(b,d)},_operateError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.Data.GetFeaturesByGeometryService.registerClass("SuperMap.Web.iServerJava6R.Data.GetFeaturesByGeometryService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.Data.GetFeaturesByBufferParameters=function(){SuperMap.Web.iServerJava6R.Data.GetFeaturesByBufferParameters.initializeBase(this);this.geometry=null;this.bufferDistance=null;this.attributeFilter=null;this.fields=null};SuperMap.Web.iServerJava6R.Data.GetFeaturesByBufferParameters.registerClass("SuperMap.Web.iServerJava6R.Data.GetFeaturesByBufferParameters",SuperMap.Web.iServerJava6R.Data.GetFeaturesParametersBase);SuperMap.Web.iServerJava6R.Data.GetFeaturesByBufferService=function(a){SuperMap.Web.iServerJava6R.Data.GetFeaturesByBufferService.initializeBase(this,[a]);this._lastResult=null};SuperMap.Web.iServerJava6R.Data.GetFeaturesByBufferService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(d){var a=Function.createDelegate(this,this._operateComplete);var b=Function.createDelegate(this,this._operateError);var c=this._getParameters(d);if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){this._url+=".json?returnContent=true"}else{this._url+=".jsonp?returnContent=true"}if(d.fromIndex>=0&&d.toIndex>=0){this._url+="&fromIndex="+d.fromIndex+"&toIndex="+d.toIndex}this.request(this._url,"POST",c,null,null,a,b,null)},_getParameters:function(f){if(f.attributeFilter==null){var e='{"getFeatureMode":"BUFFER", "datasetNames":'}else{var e='{"getFeatureMode":"BUFFER_ATTRIBUTEFILTER", "attributeFilter":"'+f.attributeFilter+'", "datasetNames":'}if(f.datasetNames!=null){var d="[";for(var a=0;a<f.datasetNames.length;a++){if(a!=0){d+=","}d+='"'+f.datasetNames[a]+'"'}e+=d+"]"}e+=', "geometry":';if(f.geometry!=null){var b=SuperMap.Web.iServerJava6R.ServerGeometry.fromGeometry(f.geometry);e+=SuperMap.Web.Utility.toJSON(b)}e+=', "bufferDistance":';if(f.bufferDistance){e+=f.bufferDistance}if(f.fields&&f.fields.length){e+=', "queryParameter":';var c=new SuperMap.Web.iServerJava6R.FilterParameter();c.name=f.datasetNames;for(var a=0;a<f.fields.length;a++){c.fields=f.fields}e+=SuperMap.Web.Utility.toJSON(c)}e+="}";return e},_operateComplete:function(a,d){var c=null;c=SuperMap.Web.iServerJava6R.Data.GetFeaturesResult.fromJson(a);this._lastResult=c;var b=new SuperMap.Web.iServerJava6R.Data.GetFeaturesEventArgs(c,a);this.raise_processCompleted(b,d)},_operateError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.Data.GetFeaturesByBufferService.registerClass("SuperMap.Web.iServerJava6R.Data.GetFeaturesByBufferService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.Data.EditFeaturesResult=function(){this.succeed=null;this.newResourceLocation=null;this.IDs=null};SuperMap.Web.iServerJava6R.Data.EditFeaturesResult.fromJson=function(b){if(!b){return}var a=new SuperMap.Web.iServerJava6R.Data.EditFeaturesResult();if(b.succeed){a.succeed=b.succeed}if(b.newResourceLocation){a.newResourceLocation=b.newResourceLocation}if(b.length&&b.length!=0){a.IDs=b;a.succeed=true}return a};SuperMap.Web.iServerJava6R.Data.EditFeaturesResult.registerClass("SuperMap.Web.iServerJava6R.Data.EditFeaturesResult");SuperMap.Web.iServerJava6R.Data.EditFeaturesEventArgs=function(a,b){this.result=a;this.originResult=b};SuperMap.Web.iServerJava6R.Data.EditFeaturesEventArgs.registerClass("SuperMap.Web.iServerJava6R.Data.EditFeaturesEventArgs");SuperMap.Web.iServerJava6R.Data.EditFeaturesParameters=function(){this.features=new Array();this.editType=SuperMap.Web.iServerJava6R.Data.EditType.ADD;this.IDs=null};SuperMap.Web.iServerJava6R.Data.EditFeaturesParameters.registerClass("SuperMap.Web.iServerJava6R.Data.EditFeaturesParameters");SuperMap.Web.iServerJava6R.Data.EditFeaturesService=function(a){SuperMap.Web.iServerJava6R.Data.EditFeaturesService.initializeBase(this,[a]);this._lastResult=null};SuperMap.Web.iServerJava6R.Data.EditFeaturesService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(e){var b=Function.createDelegate(this,this._operateComplete);var c=Function.createDelegate(this,this._operateError);var d=this._getParameters(e);var a="POST";if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){this._url+=".json";if(e.editType==SuperMap.Web.iServerJava6R.Data.EditType.ADD){this._url+="?returnContent=true"}else{if(e.editType==SuperMap.Web.iServerJava6R.Data.EditType.UPDATE){this._url+="?_method=PUT"}else{if(e.editType==SuperMap.Web.iServerJava6R.Data.EditType.DELETE){this._url+="?_method=DELETE"}}}}else{this._url+=".jsonp";if(e.editType==SuperMap.Web.iServerJava6R.Data.EditType.ADD){this._url+="?returnContent=true"}else{if(e.editType==SuperMap.Web.iServerJava6R.Data.EditType.UPDATE){this._url+="?";a="PUT"}else{if(e.editType==SuperMap.Web.iServerJava6R.Data.EditType.DELETE){this._url+="?ids="+d;a="DELETE";d=null}}}}this.request(this._url,a,d,null,null,b,c,null)},_getParameters:function(c){var b="[";if(c.editType==SuperMap.Web.iServerJava6R.Data.EditType.ADD||c.editType==SuperMap.Web.iServerJava6R.Data.EditType.UPDATE){if(c.features&&c.features.length){for(var a=0;a<c.features.length;a++){if(a!=0){b+=","}b+=SuperMap.Web.Utility.toJSON(SuperMap.Web.iServerJava6R.ServerFeature.fromFeature(c.features[a]))}}}else{if(c.editType==SuperMap.Web.iServerJava6R.Data.EditType.DELETE){if(c.IDs&&c.IDs.length){for(var a=0;a<c.IDs.length;a++){if(a!=0){b+=","}b+=c.IDs[a]}}}}b+="]";return b},_operateComplete:function(a,d){var c=null;c=SuperMap.Web.iServerJava6R.Data.EditFeaturesResult.fromJson(a);this._lastResult=c;var b=new SuperMap.Web.iServerJava6R.Data.EditFeaturesEventArgs(c,a);this.raise_processCompleted(b,d)},_operateError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.Data.EditFeaturesService.registerClass("SuperMap.Web.iServerJava6R.Data.EditFeaturesService",SuperMap.Web.iServerJava6R.ServiceBase);Type.registerNamespace("SuperMap.Web.Mapping");SuperMap.Web.Mapping.TiledHighlightLayer=function(){SuperMap.Web.Mapping.TiledHighlightLayer.initializeBase(this);this._subLayers=null;this._dpi=null;this._enableServerCaching=true;this._style=new SuperMap.Web.iServerJava6R.ServerStyle();this._queryResultID=null;this._mapStatus=null;this._clipRegion=null;this._maxVisibleVertex=null};SuperMap.Web.Mapping.TiledHighlightLayer.prototype={get_dpi:function(){return this._dpi},get_enableServerCaching:function(){return this._enableServerCaching},set_enableServerCaching:function(a){this._enableServerCaching=a},get_mapStatus:function(){return this._mapStatus},set_mapStatus:function(a){this._mapStatus=a},get_style:function(){return this._style},set_style:function(a){this._style=a},get_queryResultID:function(){return this._queryResultID},set_queryResultID:function(a){this._queryResultID=a},get_clipRegion:function(){return this._clipRegion},set_clipRegion:function(a){this._clipRegion=a},get_maxVisibleVertex:function(){return this._maxVisibleVertex},set_maxVisibleVertex:function(a){this._maxVisibleVertex=a},_getTileUrl:function(c,b,g){var f=Function._validateParams(arguments,[{name:"indexX",type:Number},{name:"indexY",type:Number},{name:"scale",type:Number}]);if(f){throw f}var d=this._getBBox(c,b);var a=encodeURI(this._url)+"/highlightImage."+this._imageFormat+"?viewBounds={'leftBottom':{'x':"+d.leftBottom.x+",'y':"+d.leftBottom.y+"},'rightTop':{'x':"+d.rightTop.x+",'y':"+d.rightTop.y+"}}&viewer={'leftTop':{'y':0,'x':0},'rightBottom':{'y':"+this._tileSize+",'x':"+this._tileSize+"}}";if(!!this._queryResultID){a+="&queryResultID="+this._queryResultID}else{}a+='&style={"fillBackOpaque":'+this._style.fillBackOpaque+',"lineWidth":'+this._style.lineWidth+',"fillBackColor":{"red":'+this._style.fillBackColor.red+',"green":'+this._style.fillBackColor.green+',"blue":'+this._style.fillBackColor.blue+'},"fillForeColor":{"red":'+this._style.fillForeColor.red+',"green":'+this._style.fillForeColor.green+',"blue":'+this._style.fillForeColor.blue+'},"markerAngle":'+this._style.markerAngle+',"markerSize":'+this._style.markerSize+',"fillGradientOffsetRatioX":'+this._style.fillGradientOffsetRatioX+',"fillGradientOffsetRatioY":'+this._style.fillGradientOffsetRatioY+',"lineColor":{"red":'+this._style.lineColor.red+',"green":'+this._style.lineColor.green+',"blue":'+this._style.lineColor.blue+'},"fillOpaqueRate":'+this._style.fillOpaqueRate+',"fillGradientMode":'+this._style.fillGradientMode+',"fillSymbolID":'+this._style.fillSymbolID+',"fillGradientAngle":'+this._style.fillGradientAngle+',"markerSymbolID":'+this._style.markerSymbolID+',"lineSymbolID":'+this._style.lineSymbolID+"}";if(this._enableServerCaching==false){a+="&cacheEnabled="+this._enableServerCaching}if(this._clipRegion!=null){a+="&clipRegionEnabled=True&clipRegion=";a+=SuperMap.Web.Utility.toJSON(SuperMap.Web.iServerJava6R.ServerGeometry.fromGeometry(this._clipRegion))}if(this._maxVisibleVertex!=null&&typeof(this._maxVisibleVertex)=="number"&&this._maxVisibleVertex>=0){a+="&maxVisibleVertex="+parseInt(this._maxVisibleVertex)}a+="&t="+new Date().getTime();return a},_getBBox:function(d,b){var f=this._bounds.leftBottom.x+this._tileSize*d*this._resolution;var c=this._bounds.leftBottom.x+this._tileSize*(d+1)*this._resolution;var e=this._bounds.rightTop.y-this._tileSize*(b)*this._resolution;var a=this._bounds.rightTop.y-this._tileSize*(b+1)*this._resolution;return new SuperMap.Web.Core.Rectangle2D(f,a,c,e)},initialize:function(){if(SuperMap.Web.Utility.isDebug){console.group(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Mapping.Resources","TiledDynamicIServerLayer_initialize_logMapStatus"));console.log(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Mapping.Resources","TiledDynamicIServerLayer_initialize_logMapName"),this._mapName);console.log(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Mapping.Resources","TiledDynamicIServerLayer_initialize_logMapUrl"),this.url);console.log(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Mapping.Resources","TiledDynamicIServerLayer_initialize_logMapServicesAddress"),this._mapServicesAddress);console.log(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Mapping.Resources","TiledDynamicIServerLayer_initialize_logMapServicesPort"),this._mapServicesPort);console.groupEnd()}var c=Function.createDelegate(this,this._onInitComplete);var b=Function.createDelegate(this,this._onInitError);this._viewBoundsChangedDelegate=Function.createDelegate(this,this._viewBoundsChanged);this._unLoadDelegate=Function.createDelegate(this,this._unLoad);var a;if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){a=this._url+".json"}else{a=this._url+".jsonp"}var d=null;if(!this._mapStatus){SuperMap.Web.Service.Committer.REST(a,"GET",null,[],[],c,b,null)}else{this._onInitComplete(this._mapStatus)}},_onInitComplete:function(a){this._initialized=true;this._bounds=new SuperMap.Web.Core.Rectangle2D(a.bounds.left,a.bounds.bottom,a.bounds.right,a.bounds.top);var d=a.scale;var b=new SuperMap.Web.Core.Rectangle2D(a.viewBounds.left,a.viewBounds.bottom,a.viewBounds.right,a.viewBounds.top);var c=new SuperMap.Web.Core.Rectangle(a.viewer.left,a.viewer.top,a.viewer.right,a.viewer.bottom);this._dpi=SuperMap.Web.Utility.getDpi(b,c,d);if(this._crs.wkid==0){this._crs=new SuperMap.Web.Core.CoordinateReferenceSystem(0,a.coordUnit)}this.raise_initialized(this)},_onInitError:function(a){if(SuperMap.Web.Utility.isDebug){console.error(SuperMap.Web.Resources.Resource.getMessage("SuperMap.Web.Mapping.Resources","TiledDynamicIServerLayer_onInitError_initializeFailed")+a)}this.raise_failed(a);return false}};SuperMap.Web.Mapping.TiledHighlightLayer.registerClass("SuperMap.Web.Mapping.TiledHighlightLayer",SuperMap.Web.Mapping.TiledDynamicLayer);Type.registerNamespace("SuperMap.Web.iServerJava6R.SpatialAnalyst");SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferEndType=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferEndType.prototype={};SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferEndType.FLAT="FLAT";SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferEndType.ROUND="ROUND";SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferEndType.registerEnum("SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferEndType");SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayOperationType=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayOperationType.prototype={};SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayOperationType.CLIP="CLIP";SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayOperationType.ERASE="ERASE";SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayOperationType.IDENTITY="IDENTITY";SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayOperationType.INTERSECT="INTERSECT";SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayOperationType.UNION="UNION";SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayOperationType.UPDATE="UPDATE";SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayOperationType.XOR="XOR";SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayOperationType.registerEnum("SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayOperationType");SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystMethod=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystMethod.prototype={};SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystMethod.ISOLINE="ISOLINE";SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystMethod.ISOREGION="ISOREGION";SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystMethod.registerEnum("SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystMethod");SuperMap.Web.iServerJava6R.SpatialAnalyst.SmoothMethod=function(){throw Error.notImplemented()};SuperMap.Web.iServerJava6R.SpatialAnalyst.SmoothMethod.prototype={};SuperMap.Web.iServerJava6R.SpatialAnalyst.SmoothMethod.BSPLINE="BSPLINE";SuperMap.Web.iServerJava6R.SpatialAnalyst.SmoothMethod.POLISH="POLISH";SuperMap.Web.iServerJava6R.SpatialAnalyst.SmoothMethod.registerEnum("SuperMap.Web.iServerJava6R.SpatialAnalyst.SmoothMethod");SuperMap.Web.iServerJava6R.SpatialAnalyst.SpatialAnalystResult=function(){this.succeed=null};SuperMap.Web.iServerJava6R.SpatialAnalyst.SpatialAnalystResult.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.SpatialAnalystResult");SuperMap.Web.iServerJava6R.SpatialAnalyst.SpatialAnalystEventArgs=function(a,b){this.result=a;this.originResult=b};SuperMap.Web.iServerJava6R.SpatialAnalyst.SpatialAnalystEventArgs.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.SpatialAnalystEventArgs");SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsBufferAnalystResult=function(){SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsBufferAnalystResult.initializeBase(this);this.recordset=null};SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsBufferAnalystResult.fromJson=function(b){if(!b){return}var a=new SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsBufferAnalystResult();if(b.succeed){a.succeed=b.succeed}if(b.recordset){a.recordset=SuperMap.Web.iServerJava6R.Recordset.fromJson(b.recordset)}return a};SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsBufferAnalystResult.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsBufferAnalystResult",SuperMap.Web.iServerJava6R.SpatialAnalyst.SpatialAnalystResult);SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryBufferAnalystResult=function(){SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryBufferAnalystResult.initializeBase(this);this.resultGeometry=null};SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryBufferAnalystResult.fromJson=function(b){if(!b){return}var a=new SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryBufferAnalystResult();if(b.succeed){a.succeed=b.succeed}if(b.resultGeometry){a.resultGeometry=SuperMap.Web.iServerJava6R.ServerGeometry.fromJson(b.resultGeometry).toGeometry()}return a};SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryBufferAnalystResult.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryBufferAnalystResult",SuperMap.Web.iServerJava6R.SpatialAnalyst.SpatialAnalystResult);SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferDistance=function(){this.exp=null;this.value=100};SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferDistance.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferDistance");SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferSetting=function(){this.endType=SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferEndType.FLAT;this.leftDistance=new SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferDistance();this.rightDistance=new SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferDistance();this.semicircleLineSegment=4};SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferSetting.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferSetting");SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferAnalystParameters=function(){this.bufferSetting=new SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferSetting()};SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferAnalystParameters.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferAnalystParameters");SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsBufferAnalystParameters=function(){SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsBufferAnalystParameters.initializeBase(this);this.filterQueryParameter=new SuperMap.Web.iServerJava6R.FilterParameter();this.maxReturnRecordCount=1000;this.isAttributeRetained=true;this.isUnion=false;this.dataset=null};SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsBufferAnalystParameters._toObject=function(c,a){for(var b in c){if(b=="bufferSetting"){a.bufferAnalystParameter=c.bufferSetting}else{if(b=="dataset"){}else{if(b=="maxReturnRecordCount"){}else{a[b]=c[b]}}}}a.dataReturnOption=new Object();a.dataReturnOption.dataReturnMode="RECORDSET_ONLY";a.dataReturnOption.expectCount=c.maxReturnRecordCount};SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsBufferAnalystParameters.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsBufferAnalystParameters",SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferAnalystParameters);SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryBufferAnalystParameters=function(){SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryBufferAnalystParameters.initializeBase(this);this.sourceGeometry=null};SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryBufferAnalystParameters._toObject=function(c,a){for(var b in c){if(b=="bufferSetting"){a.analystParameter=c.bufferSetting}else{if(b=="sourceGeometry"){a.sourceGeometry=SuperMap.Web.iServerJava6R.ServerGeometry.fromGeometry(c.sourceGeometry)}else{a[b]=c[b]}}}};SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryBufferAnalystParameters.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryBufferAnalystParameters",SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferAnalystParameters);SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferAnalystService=function(a){SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferAnalystService.initializeBase(this,[a]);this._lastResult=null;this._analyzeErrorDelegate=null;this._mode=null};SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferAnalystService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(e){var c=Function.createDelegate(this,this._analyzeComplete);this._analyzeErrorDelegate=Function.createDelegate(this,this._analyzeError);var d=new Object();var b=this._url.substr(this._url.length-1,1);if(b=="/"){}else{this._url+="/"}if(SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsBufferAnalystParameters.isInstanceOfType(e)){this._mode="datasets";this._url+="datasets/"+e.dataset+"/buffer";SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsBufferAnalystParameters._toObject(e,d)}else{if(SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryBufferAnalystParameters.isInstanceOfType(e)){this._mode="geometry";this._url+="geometry/buffer";SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryBufferAnalystParameters._toObject(e,d)}}var a=SuperMap.Web.Utility.toJSON(d);if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){this._url+=".json?returnContent=true"}else{this._url+=".jsonp?returnContent=true"}this.request(this._url,"POST",a,null,null,c,this._analyzeErrorDelegate,null)},_analyzeComplete:function(b,d){if(this._mode=="datasets"){var a=SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsBufferAnalystResult.fromJson(b)}else{if(this._mode=="geometry"){var a=SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryBufferAnalystResult.fromJson(b)}}this._mode=null;this._lastResult=a;var c=new SuperMap.Web.iServerJava6R.SpatialAnalyst.SpatialAnalystEventArgs(a,b);this.raise_processCompleted(c,d)},_analyzeError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferAnalystService.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.BufferAnalystService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsOverlayAnalystResult=function(){SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsOverlayAnalystResult.initializeBase(this);this.recordset=null};SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsOverlayAnalystResult.fromJson=function(c){if(!c){return}var a=new SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsOverlayAnalystResult();for(var b in c){if(b=="recordset"){a.recordset=SuperMap.Web.iServerJava6R.Recordset.fromJson(c.recordset)}else{a[b]=c[b]}}return a};SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsOverlayAnalystResult.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsOverlayAnalystResult",SuperMap.Web.iServerJava6R.SpatialAnalyst.SpatialAnalystResult);SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryOverlayAnalystResult=function(){SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryOverlayAnalystResult.initializeBase(this);this.resultGeometry=null};SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryOverlayAnalystResult.fromJson=function(b){if(!b){return}var a=new SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryOverlayAnalystResult();if(b.succeed){a.succeed=b.succeed}if(b.resultGeometry){a.resultGeometry=SuperMap.Web.iServerJava6R.ServerGeometry.fromJson(b.resultGeometry).toGeometry()}return a};SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryOverlayAnalystResult.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryOverlayAnalystResult",SuperMap.Web.iServerJava6R.SpatialAnalyst.SpatialAnalystResult);SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayAnalystParameters=function(){this.operation=SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayOperationType.UNION};SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayAnalystParameters.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayAnalystParameters");SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryOverlayAnalystParameters=function(){SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryOverlayAnalystParameters.initializeBase(this);this.sourceGeometry=null;this.operateGeometry=null};SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryOverlayAnalystParameters._toObject=function(c,a){for(var b in c){if(b=="sourceGeometry"){a.sourceGeometry=SuperMap.Web.iServerJava6R.ServerGeometry.fromGeometry(c.sourceGeometry)}else{if(b=="operateGeometry"){a.operateGeometry=SuperMap.Web.iServerJava6R.ServerGeometry.fromGeometry(c.operateGeometry)}else{a[b]=c[b]}}}};SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryOverlayAnalystParameters.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryOverlayAnalystParameters",SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayAnalystParameters);SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsOverlayAnalystParameters=function(){SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsOverlayAnalystParameters.initializeBase(this);this.sourceDataset=null;this.sourceDatasetFilter=new SuperMap.Web.iServerJava6R.FilterParameter();this.operateDataset=null;this.operateDatasetFilter=new SuperMap.Web.iServerJava6R.FilterParameter();this.operateRegions=new Array();this.sourceDatasetFields=new Array();this.operateDatasetFields=new Array();this.maxReturnRecordCount=1000;this.tolerance=0};SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsOverlayAnalystParameters._toObject=function(d,a){for(var c in d){if(c=="sourceDataset"){}else{if(c=="maxReturnRecordCount"){}else{if(c=="operateRegions"){a.operateRegions=new Array();for(var b in d.operateRegions){a.operateRegions[b]=SuperMap.Web.iServerJava6R.ServerGeometry.fromGeometry(d.operateRegions[b])}}else{a[c]=d[c]}}}}a.dataReturnOption=new Object();a.dataReturnOption.dataReturnMode="RECORDSET_ONLY";a.dataReturnOption.expectCount=d.maxReturnRecordCount};SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsOverlayAnalystParameters.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsOverlayAnalystParameters",SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayAnalystParameters);SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayAnalystService=function(a){SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayAnalystService.initializeBase(this,[a]);this._lastResult=null;this._analyzeErrorDelegate=null;this._mode=null};SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayAnalystService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(e){var c=Function.createDelegate(this,this._analyzeComplete);this._analyzeErrorDelegate=Function.createDelegate(this,this._analyzeError);var d=new Object();var b=this._url.substr(this._url.length-1,1);if(b=="/"){}else{this._url+="/"}if(SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsOverlayAnalystParameters.isInstanceOfType(e)){this._mode="datasets";this._url+="datasets/"+e.sourceDataset+"/overlay";SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsOverlayAnalystParameters._toObject(e,d)}else{if(SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryOverlayAnalystParameters.isInstanceOfType(e)){this._mode="geometry";this._url+="geometry/overlay";SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryOverlayAnalystParameters._toObject(e,d)}}var a=SuperMap.Web.Utility.toJSON(d);if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){this._url+=".json?returnContent=true"}else{this._url+=".jsonp?returnContent=true"}this.request(this._url,"POST",a,null,null,c,this._analyzeErrorDelegate,null)},_analyzeComplete:function(b,d){if(this._mode=="datasets"){var a=SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetsOverlayAnalystResult.fromJson(b)}else{if(this._mode=="geometry"){var a=SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometryOverlayAnalystResult.fromJson(b)}}this._mode=null;this._lastResult=a;var c=new SuperMap.Web.iServerJava6R.SpatialAnalyst.SpatialAnalystEventArgs(a,b);this.raise_processCompleted(c,d)},_analyzeError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayAnalystService.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.OverlayAnalystService",SuperMap.Web.iServerJava6R.ServiceBase);SuperMap.Web.iServerJava6R.SpatialAnalyst.DataReturnOption=function(){this.maxRecordCount=null};SuperMap.Web.iServerJava6R.SpatialAnalyst.DataReturnOption._toObject=function(b,a){if(b.maxRecordCount!=null){a.expectCount=b.maxRecordCount}a.dataset="iclient@iclient";a.dataReturnMode="RECORDSET_ONLY";a.deleteExistResultDataset=true};SuperMap.Web.iServerJava6R.SpatialAnalyst.DataReturnOption.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.DataReturnOption");SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystParametersSetting=function(){this.clipRegion=null;this.datumValue=0;this.expectedZValues=new Array();this.interval=0;this.resampleTolerance=0;this.smoothMethod=SuperMap.Web.iServerJava6R.SpatialAnalyst.SmoothMethod.BSPLINE;this.smoothness=0};SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystParametersSetting._toObject=function(c,a){for(var b in c){if(b=="clipRegion"){if(c.clipRegion!=null){a.clipRegion=SuperMap.Web.iServerJava6R.ServerGeometry.fromGeometry(c.clipRegion)}}else{if(b=="expectedZValues"){if(c.expectedZValues.length!=0){a.expectedZValues=c.expectedZValues}}else{a[b]=c[b]}}}};SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystParametersSetting.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystParametersSetting");SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystParameters=function(){this.surfaceAnalystMethod=SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystMethod.ISOLINE;this.resolution=0;this.parametersSetting=new SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystParametersSetting();this.resultSetting=new SuperMap.Web.iServerJava6R.SpatialAnalyst.DataReturnOption()};SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystParameters.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystParameters");SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetSurfaceAnalystParameters=function(){SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetSurfaceAnalystParameters.initializeBase(this);this.filterQueryParameter=new SuperMap.Web.iServerJava6R.FilterParameter();this.zValueFieldName="";this.dataset=""};SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetSurfaceAnalystParameters._toObject=function(c,a){for(var b in c){if(b=="parametersSetting"){a.extractParameter=new Object();SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystParametersSetting._toObject(c.parametersSetting,a.extractParameter)}else{if(b=="dataset"){}else{if(b=="surfaceAnalystMethod"){}else{if(b=="resultSetting"){a.resultSetting=new Object;SuperMap.Web.iServerJava6R.SpatialAnalyst.DataReturnOption._toObject(c.resultSetting,a.resultSetting)}else{a[b]=c[b]}}}}}};SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetSurfaceAnalystParameters.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetSurfaceAnalystParameters",SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystParameters);SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometrySurfaceAnalystParameters=function(){SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometrySurfaceAnalystParameters.initializeBase(this);this.points=new Array();this.zValues=new Array()};SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometrySurfaceAnalystParameters._toObject=function(c,a){for(var b in c){if(b=="parametersSetting"){a.extractParameter=new Object();SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystParametersSetting._toObject(c.parametersSetting,a.extractParameter)}else{if(b=="surfaceAnalystMethod"){}else{if(b=="resultSetting"){a.resultSetting=new Object;SuperMap.Web.iServerJava6R.SpatialAnalyst.DataReturnOption._toObject(c.resultSetting,a.resultSetting)}else{a[b]=c[b]}}}}};SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometrySurfaceAnalystParameters.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometrySurfaceAnalystParameters",SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystParameters);SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystResult=function(){SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystResult.initializeBase(this);this.recordset=null};SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystResult.fromJson=function(b){if(!b){return}var a=new SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystResult();if(b.recordset){a.recordset=SuperMap.Web.iServerJava6R.Recordset.fromJson(b.recordset)}return a};SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystResult.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystResult");SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystEventArgs=function(a,b){this.result=a;this.originResult=b};SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystEventArgs.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystEventArgs");SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystService=function(a){SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystService.initializeBase(this,[a]);this._lastResult=null;this._analyzeErrorDelegate=null};SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystService.prototype={get_lastResult:function(){return this._lastResult},processAsync:function(e){var c=Function.createDelegate(this,this._analyzeComplete);this._analyzeErrorDelegate=Function.createDelegate(this,this._analyzeError);var d=new Object();var b=this._url.substr(this._url.length-1,1);if(b=="/"){}else{this._url+="/"}if(SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetSurfaceAnalystParameters.isInstanceOfType(e)){this._url+="datasets/"+e.dataset;if(e.surfaceAnalystMethod=="ISOLINE"){this._url+="/isoline"}else{if(e.surfaceAnalystMethod=="ISOREGION"){this._url+="/isoregion"}}SuperMap.Web.iServerJava6R.SpatialAnalyst.DatasetSurfaceAnalystParameters._toObject(e,d)}else{if(SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometrySurfaceAnalystParameters.isInstanceOfType(e)){this._url+="geometry";if(e.surfaceAnalystMethod=="ISOLINE"){this._url+="/isoline"}else{if(e.surfaceAnalystMethod=="ISOREGION"){this._url+="/isoregion"}}SuperMap.Web.iServerJava6R.SpatialAnalyst.GeometrySurfaceAnalystParameters._toObject(e,d)}}var a=SuperMap.Web.Utility.toJSON(d);if(SuperMap.Web.Utility.isInTheSameDomain(this._url)){this._url+=".json?returnContent=true"}else{this._url+=".jsonp?returnContent=true"}this.request(this._url,"POST",a,null,null,c,this._analyzeErrorDelegate,null)},_analyzeComplete:function(b,d){var a=SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystResult.fromJson(b);this._lastResult=a;var c=new SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystEventArgs(a,b);this.raise_processCompleted(c,d)},_analyzeError:function(a,b){this.raise_processFailed(a,b)},add_processCompleted:function(a){this._addEvent("processCompleted",a)},remove_processCompleted:function(a){this._removeEvent("processCompleted",a)},raise_processCompleted:function(a,b){this._raiseEvent("processCompleted",a,b)},add_processFailed:function(a){this._addEvent("processFailed",a)},remove_processFailed:function(a){this._removeEvent("processFailed",a)},raise_processFailed:function(a,b){this._raiseEvent("processFailed",a,b)},_addEvent:function(a,b){this.get_events().addHandler(a,b)},_removeEvent:function(a,b){this.get_events().removeHandler(a,b)},_raiseEvent:function(a,c,d){var b=this.get_events().getHandler(a);if(b){b(c,d)}}};SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystService.registerClass("SuperMap.Web.iServerJava6R.SpatialAnalyst.SurfaceAnalystService",SuperMap.Web.iServerJava6R.ServiceBase);